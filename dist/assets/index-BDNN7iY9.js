(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();function xb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var bh={exports:{}},Nl={};var hg;function lv(){if(hg)return Nl;hg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:n,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Nl.Fragment=t,Nl.jsx=a,Nl.jsxs=a,Nl}var mg;function ov(){return mg||(mg=1,bh.exports=lv()),bh.exports}var e=ov(),yh={exports:{}},Oe={};var fg;function cv(){if(fg)return Oe;fg=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function y(C){return C===null||typeof C!="object"?null:(C=w&&C[w]||C["@@iterator"],typeof C=="function"?C:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function M(C,H,ue){this.props=C,this.context=H,this.refs=N,this.updater=ue||v}M.prototype.isReactComponent={},M.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},M.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function B(){}B.prototype=M.prototype;function A(C,H,ue){this.props=C,this.context=H,this.refs=N,this.updater=ue||v}var Y=A.prototype=new B;Y.constructor=A,j(Y,M.prototype),Y.isPureReactComponent=!0;var V=Array.isArray;function D(){}var z={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function F(C,H,ue){var ge=ue.ref;return{$$typeof:n,type:C,key:H,ref:ge!==void 0?ge:null,props:ue}}function se(C,H){return F(C.type,H,C.props)}function O(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function U(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ue){return H[ue]})}var I=/\/+/g;function $(C,H){return typeof C=="object"&&C!==null&&C.key!=null?U(""+C.key):H.toString(36)}function G(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(D,D):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function P(C,H,ue,ge,L){var J=typeof C;(J==="undefined"||J==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(J){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case n:case t:ie=!0;break;case g:return ie=C._init,P(ie(C._payload),H,ue,ge,L)}}if(ie)return L=L(C),ie=ge===""?"."+$(C,0):ge,V(L)?(ue="",ie!=null&&(ue=ie.replace(I,"$&/")+"/"),P(L,H,ue,"",function(te){return te})):L!=null&&(O(L)&&(L=se(L,ue+(L.key==null||C&&C.key===L.key?"":(""+L.key).replace(I,"$&/")+"/")+ie)),H.push(L)),1;ie=0;var De=ge===""?".":ge+":";if(V(C))for(var oe=0;oe<C.length;oe++)ge=C[oe],J=De+$(ge,oe),ie+=P(ge,H,ue,J,L);else if(oe=y(C),typeof oe=="function")for(C=oe.call(C),oe=0;!(ge=C.next()).done;)ge=ge.value,J=De+$(ge,oe++),ie+=P(ge,H,ue,J,L);else if(J==="object"){if(typeof C.then=="function")return P(G(C),H,ue,ge,L);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ie}function X(C,H,ue){if(C==null)return C;var ge=[],L=0;return P(C,ge,"","",function(J){return H.call(ue,J,L++)}),ge}function T(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(ue){(C._status===0||C._status===-1)&&(C._status=1,C._result=ue)},function(ue){(C._status===0||C._status===-1)&&(C._status=2,C._result=ue)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var W=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},je={map:X,forEach:function(C,H,ue){X(C,function(){H.apply(this,arguments)},ue)},count:function(C){var H=0;return X(C,function(){H++}),H},toArray:function(C){return X(C,function(H){return H})||[]},only:function(C){if(!O(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Oe.Activity=b,Oe.Children=je,Oe.Component=M,Oe.Fragment=a,Oe.Profiler=l,Oe.PureComponent=A,Oe.StrictMode=r,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return z.H.useMemoCache(C)}},Oe.cache=function(C){return function(){return C.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(C,H,ue){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var ge=j({},C.props),L=C.key;if(H!=null)for(J in H.key!==void 0&&(L=""+H.key),H)!E.call(H,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&H.ref===void 0||(ge[J]=H[J]);var J=arguments.length-2;if(J===1)ge.children=ue;else if(1<J){for(var ie=Array(J),De=0;De<J;De++)ie[De]=arguments[De+2];ge.children=ie}return F(C.type,L,ge)},Oe.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Oe.createElement=function(C,H,ue){var ge,L={},J=null;if(H!=null)for(ge in H.key!==void 0&&(J=""+H.key),H)E.call(H,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(L[ge]=H[ge]);var ie=arguments.length-2;if(ie===1)L.children=ue;else if(1<ie){for(var De=Array(ie),oe=0;oe<ie;oe++)De[oe]=arguments[oe+2];L.children=De}if(C&&C.defaultProps)for(ge in ie=C.defaultProps,ie)L[ge]===void 0&&(L[ge]=ie[ge]);return F(C,J,L)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(C){return{$$typeof:h,render:C}},Oe.isValidElement=O,Oe.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:T}},Oe.memo=function(C,H){return{$$typeof:f,type:C,compare:H===void 0?null:H}},Oe.startTransition=function(C){var H=z.T,ue={};z.T=ue;try{var ge=C(),L=z.S;L!==null&&L(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(D,W)}catch(J){W(J)}finally{H!==null&&ue.types!==null&&(H.types=ue.types),z.T=H}},Oe.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},Oe.use=function(C){return z.H.use(C)},Oe.useActionState=function(C,H,ue){return z.H.useActionState(C,H,ue)},Oe.useCallback=function(C,H){return z.H.useCallback(C,H)},Oe.useContext=function(C){return z.H.useContext(C)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(C,H){return z.H.useDeferredValue(C,H)},Oe.useEffect=function(C,H){return z.H.useEffect(C,H)},Oe.useEffectEvent=function(C){return z.H.useEffectEvent(C)},Oe.useId=function(){return z.H.useId()},Oe.useImperativeHandle=function(C,H,ue){return z.H.useImperativeHandle(C,H,ue)},Oe.useInsertionEffect=function(C,H){return z.H.useInsertionEffect(C,H)},Oe.useLayoutEffect=function(C,H){return z.H.useLayoutEffect(C,H)},Oe.useMemo=function(C,H){return z.H.useMemo(C,H)},Oe.useOptimistic=function(C,H){return z.H.useOptimistic(C,H)},Oe.useReducer=function(C,H,ue){return z.H.useReducer(C,H,ue)},Oe.useRef=function(C){return z.H.useRef(C)},Oe.useState=function(C){return z.H.useState(C)},Oe.useSyncExternalStore=function(C,H,ue){return z.H.useSyncExternalStore(C,H,ue)},Oe.useTransition=function(){return z.H.useTransition()},Oe.version="19.2.3",Oe}var xg;function o0(){return xg||(xg=1,yh.exports=cv()),yh.exports}var k=o0();const td=xb(k);var vh={exports:{}},kl={},jh={exports:{}},wh={};var gg;function dv(){return gg||(gg=1,(function(n){function t(P,X){var T=P.length;P.push(X);e:for(;0<T;){var W=T-1>>>1,je=P[W];if(0<l(je,X))P[W]=X,P[T]=je,T=W;else break e}}function a(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var X=P[0],T=P.pop();if(T!==X){P[0]=T;e:for(var W=0,je=P.length,C=je>>>1;W<C;){var H=2*(W+1)-1,ue=P[H],ge=H+1,L=P[ge];if(0>l(ue,T))ge<je&&0>l(L,ue)?(P[W]=L,P[ge]=T,W=ge):(P[W]=ue,P[H]=T,W=H);else if(ge<je&&0>l(L,T))P[W]=L,P[ge]=T,W=ge;else break e}}return X}function l(P,X){var T=P.sortIndex-X.sortIndex;return T!==0?T:P.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var m=[],f=[],g=1,b=null,w=3,y=!1,v=!1,j=!1,N=!1,M=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function Y(P){for(var X=a(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=P)r(f),X.sortIndex=X.expirationTime,t(m,X);else break;X=a(f)}}function V(P){if(j=!1,Y(P),!v)if(a(m)!==null)v=!0,D||(D=!0,U());else{var X=a(f);X!==null&&G(V,X.startTime-P)}}var D=!1,z=-1,E=5,F=-1;function se(){return N?!0:!(n.unstable_now()-F<E)}function O(){if(N=!1,D){var P=n.unstable_now();F=P;var X=!0;try{e:{v=!1,j&&(j=!1,B(z),z=-1),y=!0;var T=w;try{t:{for(Y(P),b=a(m);b!==null&&!(b.expirationTime>P&&se());){var W=b.callback;if(typeof W=="function"){b.callback=null,w=b.priorityLevel;var je=W(b.expirationTime<=P);if(P=n.unstable_now(),typeof je=="function"){b.callback=je,Y(P),X=!0;break t}b===a(m)&&r(m),Y(P)}else r(m);b=a(m)}if(b!==null)X=!0;else{var C=a(f);C!==null&&G(V,C.startTime-P),X=!1}}break e}finally{b=null,w=T,y=!1}X=void 0}}finally{X?U():D=!1}}}var U;if(typeof A=="function")U=function(){A(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=O,U=function(){$.postMessage(null)}}else U=function(){M(O,0)};function G(P,X){z=M(function(){P(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(P){switch(w){case 1:case 2:case 3:var X=3;break;default:X=w}var T=w;w=X;try{return P()}finally{w=T}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(P,X){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var T=w;w=P;try{return X()}finally{w=T}},n.unstable_scheduleCallback=function(P,X,T){var W=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?W+T:W):T=W,P){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=T+je,P={id:g++,callback:X,priorityLevel:P,startTime:T,expirationTime:je,sortIndex:-1},T>W?(P.sortIndex=T,t(f,P),a(m)===null&&P===a(f)&&(j?(B(z),z=-1):j=!0,G(V,T-W))):(P.sortIndex=je,t(m,P),v||y||(v=!0,D||(D=!0,U()))),P},n.unstable_shouldYield=se,n.unstable_wrapCallback=function(P){var X=w;return function(){var T=w;w=X;try{return P.apply(this,arguments)}finally{w=T}}}})(wh)),wh}var pg;function uv(){return pg||(pg=1,jh.exports=dv()),jh.exports}var Nh={exports:{}},Jt={};var bg;function hv(){if(bg)return Jt;bg=1;var n=o0();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,f,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:f,implementation:g}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return c(m,f,null,g)},Jt.flushSync=function(m){var f=d.T,g=r.p;try{if(d.T=null,r.p=2,m)return m()}finally{d.T=f,r.p=g,r.d.f()}},Jt.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},Jt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Jt.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,b=h(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:y}):g==="script"&&r.d.X(m,{crossOrigin:b,integrity:w,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Jt.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},Jt.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,b=h(g,f.crossOrigin);r.d.L(m,g,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Jt.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},Jt.requestFormReset=function(m){r.d.r(m)},Jt.unstable_batchedUpdates=function(m,f){return m(f)},Jt.useFormState=function(m,f,g){return d.H.useFormState(m,f,g)},Jt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Jt.version="19.2.3",Jt}var yg;function mv(){if(yg)return Nh.exports;yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Nh.exports=hv(),Nh.exports}var vg;function fv(){if(vg)return kl;vg=1;var n=uv(),t=o0(),a=mv();function r(s){var i="https://react.dev/errors/"+s;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var i=s,o=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(o=i.return),s=i.return;while(s)}return i.tag===3?o:null}function d(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function h(s){if(s.tag===31){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function m(s){if(c(s)!==s)throw Error(r(188))}function f(s){var i=s.alternate;if(!i){if(i=c(s),i===null)throw Error(r(188));return i!==s?null:s}for(var o=s,u=i;;){var x=o.return;if(x===null)break;var p=x.alternate;if(p===null){if(u=x.return,u!==null){o=u;continue}break}if(x.child===p.child){for(p=x.child;p;){if(p===o)return m(x),s;if(p===u)return m(x),i;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=x,u=p;else{for(var S=!1,_=x.child;_;){if(_===o){S=!0,o=x,u=p;break}if(_===u){S=!0,u=x,o=p;break}_=_.sibling}if(!S){for(_=p.child;_;){if(_===o){S=!0,o=p,u=x;break}if(_===u){S=!0,u=p,o=x;break}_=_.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?s:i}function g(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s;for(s=s.child;s!==null;){if(i=g(s),i!==null)return i;s=s.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),A=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function $(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case M:return"Profiler";case N:return"StrictMode";case V:return"Suspense";case D:return"SuspenseList";case F:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case v:return"Portal";case A:return s.displayName||"Context";case B:return(s._context.displayName||"Context")+".Consumer";case Y:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return i=s.displayName||null,i!==null?i:$(s.type)||"Memo";case E:i=s._payload,s=s._init;try{return $(s(i))}catch{}}return null}var G=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},W=[],je=-1;function C(s){return{current:s}}function H(s){0>je||(s.current=W[je],W[je]=null,je--)}function ue(s,i){je++,W[je]=s.current,s.current=i}var ge=C(null),L=C(null),J=C(null),ie=C(null);function De(s,i){switch(ue(J,i),ue(L,s),ue(ge,null),i.nodeType){case 9:case 11:s=(s=i.documentElement)&&(s=s.namespaceURI)?Ox(s):0;break;default:if(s=i.tagName,i=i.namespaceURI)i=Ox(i),s=zx(i,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(ge),ue(ge,s)}function oe(){H(ge),H(L),H(J)}function te(s){s.memoizedState!==null&&ue(ie,s);var i=ge.current,o=zx(i,s.type);i!==o&&(ue(L,s),ue(ge,o))}function Ne(s){L.current===s&&(H(ge),H(L)),ie.current===s&&(H(ie),yl._currentValue=T)}var Z,Se;function Me(s){if(Z===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Z=i&&i[1]||"",Se=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+s+Se}var Nt=!1;function is(s,i){if(!s||Nt)return"";Nt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(fe){var ce=fe}Reflect.construct(s,[],we)}else{try{we.call()}catch(fe){ce=fe}s.call(we.prototype)}}else{try{throw Error()}catch(fe){ce=fe}(we=s())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(fe){if(fe&&ce&&typeof fe.stack=="string")return[fe.stack,ce.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],_=p[1];if(S&&_){var q=S.split(`
`),le=_.split(`
`);for(x=u=0;u<q.length&&!q[u].includes("DetermineComponentFrameRoot");)u++;for(;x<le.length&&!le[x].includes("DetermineComponentFrameRoot");)x++;if(u===q.length||x===le.length)for(u=q.length-1,x=le.length-1;1<=u&&0<=x&&q[u]!==le[x];)x--;for(;1<=u&&0<=x;u--,x--)if(q[u]!==le[x]){if(u!==1||x!==1)do if(u--,x--,0>x||q[u]!==le[x]){var pe=`
`+q[u].replace(" at new "," at ");return s.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",s.displayName)),pe}while(1<=u&&0<=x);break}}}finally{Nt=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Me(o):""}function os(s,i){switch(s.tag){case 26:case 27:case 5:return Me(s.type);case 16:return Me("Lazy");case 13:return s.child!==i&&i!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return is(s.type,!1);case 11:return is(s.type.render,!1);case 1:return is(s.type,!0);case 31:return Me("Activity");default:return""}}function Vt(s){try{var i="",o=null;do i+=os(s,o),o=s,s=s.return;while(s);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var cs=Object.prototype.hasOwnProperty,rn=n.unstable_scheduleCallback,Gt=n.unstable_cancelCallback,Ia=n.unstable_shouldYield,Cr=n.unstable_requestPaint,zt=n.unstable_now,K=n.unstable_getCurrentPriorityLevel,ke=n.unstable_ImmediatePriority,Ce=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,zs=n.unstable_LowPriority,Ha=n.unstable_IdlePriority,to=n.log,ki=n.unstable_setDisableYieldValue,Si=null,ds=null;function jn(s){if(typeof to=="function"&&ki(s),ds&&typeof ds.setStrictMode=="function")try{ds.setStrictMode(Si,s)}catch{}}var us=Math.clz32?Math.clz32:Lr,gd=Math.log,Mr=Math.LN2;function Lr(s){return s>>>=0,s===0?32:31-(gd(s)/Mr|0)|0}var Qn=256,wn=262144,Ci=4194304;function Xe(s){var i=s&42;if(i!==0)return i;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mi(s,i,o){var u=s.pendingLanes;if(u===0)return 0;var x=0,p=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var _=u&134217727;return _!==0?(u=_&~p,u!==0?x=Xe(u):(S&=_,S!==0?x=Xe(S):o||(o=_&~s,o!==0&&(x=Xe(o))))):(_=u&~p,_!==0?x=Xe(_):S!==0?x=Xe(S):o||(o=u&~s,o!==0&&(x=Xe(o)))),x===0?0:i!==0&&i!==x&&(i&p)===0&&(p=x&-x,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:x}function Li(s,i){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&i)===0}function so(s,i){switch(s){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ua(){var s=Ci;return Ci<<=1,(Ci&62914560)===0&&(Ci=4194304),s}function Ar(s){for(var i=[],o=0;31>o;o++)i.push(s);return i}function ln(s,i){s.pendingLanes|=i,i!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function no(s,i,o,u,x,p){var S=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var _=s.entanglements,q=s.expirationTimes,le=s.hiddenUpdates;for(o=S&~o;0<o;){var pe=31-us(o),we=1<<pe;_[pe]=0,q[pe]=-1;var ce=le[pe];if(ce!==null)for(le[pe]=null,pe=0;pe<ce.length;pe++){var fe=ce[pe];fe!==null&&(fe.lane&=-536870913)}o&=~we}u!==0&&Fa(s,u,0),p!==0&&x===0&&s.tag!==0&&(s.suspendedLanes|=p&~(S&~i))}function Fa(s,i,o){s.pendingLanes|=i,s.suspendedLanes&=~i;var u=31-us(i);s.entangledLanes|=i,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function Va(s,i){var o=s.entangledLanes|=i;for(s=s.entanglements;o;){var u=31-us(o),x=1<<u;x&i|s[u]&i&&(s[u]|=i),o&=~x}}function Ai(s,i){var o=i&-i;return o=(o&42)!==0?1:Dt(o),(o&(s.suspendedLanes|i))!==0?0:o}function Dt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Dr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _r(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:ig(s.type))}function Ss(s,i){var o=X.p;try{return X.p=s,i()}finally{X.p=o}}var on=Math.random().toString(36).slice(2),Ct="__reactFiber$"+on,Kt="__reactProps$"+on,hs="__reactContainer$"+on,Er="__reactEvents$"+on,Rr="__reactListeners$"+on,cn="__reactHandles$"+on,Xn="__reactResources$"+on,Gs="__reactMarker$"+on;function Tr(s){delete s[Ct],delete s[Kt],delete s[Er],delete s[Rr],delete s[cn]}function Gn(s){var i=s[Ct];if(i)return i;for(var o=s.parentNode;o;){if(i=o[hs]||o[Ct]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(s=Vx(s);s!==null;){if(o=s[Ct])return o;s=Vx(s)}return i}s=o,o=s.parentNode}return null}function Kn(s){if(s=s[Ct]||s[hs]){var i=s.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return s}return null}function Wa(s){var i=s.tag;if(i===5||i===26||i===27||i===6)return s.stateNode;throw Error(r(33))}function Zn(s){var i=s[Xn];return i||(i=s[Xn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function at(s){s[Gs]=!0}var ao=new Set,Jn={};function pt(s,i){Ks(s,i),Ks(s+"Capture",i)}function Ks(s,i){for(Jn[s]=i,s=0;s<i.length;s++)ao.add(i[s])}var pd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$a={},io={};function bd(s){return cs.call(io,s)?!0:cs.call($a,s)?!1:pd.test(s)?io[s]=!0:($a[s]=!0,!1)}function Di(s,i,o){if(bd(i))if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(i);return}}s.setAttribute(i,""+o)}}function _i(s,i,o){if(o===null)s.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttribute(i,""+o)}}function It(s,i,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(i,o,""+u)}}function ms(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ro(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nn(s,i,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,i);if(!s.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var x=u.get,p=u.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return x.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(s,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function qa(s){if(!s._valueTracker){var i=ro(s)?"checked":"value";s._valueTracker=Nn(s,i,""+s[i])}}function Ei(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return s&&(u=ro(s)?s.checked?"true":"false":s.value),s=u,s!==o?(i.setValue(s),!0):!1}function Ri(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var lo=/[\n"\\]/g;function rs(s){return s.replace(lo,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Or(s,i,o,u,x,p,S,_){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),i!=null?S==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+ms(i)):s.value!==""+ms(i)&&(s.value=""+ms(i)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),i!=null?zr(s,S,ms(i)):o!=null?zr(s,S,ms(o)):u!=null&&s.removeAttribute("value"),x==null&&p!=null&&(s.defaultChecked=!!p),x!=null&&(s.checked=x&&typeof x!="function"&&typeof x!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.name=""+ms(_):s.removeAttribute("name")}function oo(s,i,o,u,x,p,S,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null)){qa(s);return}o=o!=null?""+ms(o):"",i=i!=null?""+ms(i):o,_||i===s.value||(s.value=i),s.defaultValue=i}u=u??x,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=_?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S),qa(s)}function zr(s,i,o){i==="number"&&Ri(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function ea(s,i,o,u){if(s=s.options,i){i={};for(var x=0;x<o.length;x++)i["$"+o[x]]=!0;for(o=0;o<s.length;o++)x=i.hasOwnProperty("$"+s[o].value),s[o].selected!==x&&(s[o].selected=x),x&&u&&(s[o].defaultSelected=!0)}else{for(o=""+ms(o),i=null,x=0;x<s.length;x++){if(s[x].value===o){s[x].selected=!0,u&&(s[x].defaultSelected=!0);return}i!==null||s[x].disabled||(i=s[x])}i!==null&&(i.selected=!0)}}function co(s,i,o){if(i!=null&&(i=""+ms(i),i!==s.value&&(s.value=i),o==null)){s.defaultValue!==i&&(s.defaultValue=i);return}s.defaultValue=o!=null?""+ms(o):""}function uo(s,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(r(92));if(G(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=ms(i),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),qa(s)}function R(s,i){if(i){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=i;return}}s.textContent=i}var be=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ye(s,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(i,""):i==="float"?s.cssFloat="":s[i]="":u?s.setProperty(i,o):typeof o!="number"||o===0||be.has(i)?i==="float"?s.cssFloat=o:s[i]=(""+o).trim():s[i]=o+"px"}function he(s,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var x in i)u=i[x],i.hasOwnProperty(x)&&o[x]!==u&&ye(s,x,u)}else for(var p in i)i.hasOwnProperty(p)&&ye(s,p,i[p])}function xe(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ne=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),de=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function re(s){return de.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Le(){}var Ue=null;function Ge(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var fs=null,Wt=null;function He(s){var i=Kn(s);if(i&&(s=i.stateNode)){var o=s[Kt]||null;e:switch(s=i.stateNode,i.type){case"input":if(Or(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+rs(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==s&&u.form===s.form){var x=u[Kt]||null;if(!x)throw Error(r(90));Or(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===s.form&&Ei(u)}break e;case"textarea":co(s,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ea(s,!!o.multiple,i,!1)}}}var Ke=!1;function Zt(s,i,o){if(Ke)return s(i,o);Ke=!0;try{var u=s(i);return u}finally{if(Ke=!1,(fs!==null||Wt!==null)&&(Zo(),fs&&(i=fs,s=Wt,Wt=fs=null,He(i),s)))for(i=0;i<s.length;i++)He(s[i])}}function Qe(s,i){var o=s.stateNode;if(o===null)return null;var u=o[Kt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ti=!1;if($t)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Ti=!1}var ta=null,yd=null,ho=null;function O0(){if(ho)return ho;var s,i=yd,o=i.length,u,x="value"in ta?ta.value:ta.textContent,p=x.length;for(s=0;s<o&&i[s]===x[s];s++);var S=o-s;for(u=1;u<=S&&i[o-u]===x[p-u];u++);return ho=x.slice(s,1<u?1-u:void 0)}function mo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function fo(){return!0}function z0(){return!1}function xs(s){function i(o,u,x,p,S){this._reactName=o,this._targetInst=x,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var _ in s)s.hasOwnProperty(_)&&(o=s[_],this[_]=o?o(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fo:z0,this.isPropagationStopped=z0,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),i}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=xs(Ya),Pr=b({},Ya,{view:0,detail:0}),iy=xs(Pr),vd,jd,Ir,go=b({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ir&&(Ir&&s.type==="mousemove"?(vd=s.screenX-Ir.screenX,jd=s.screenY-Ir.screenY):jd=vd=0,Ir=s),vd)},movementY:function(s){return"movementY"in s?s.movementY:jd}}),B0=xs(go),ry=b({},go,{dataTransfer:0}),ly=xs(ry),oy=b({},Pr,{relatedTarget:0}),wd=xs(oy),cy=b({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),dy=xs(cy),uy=b({},Ya,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),hy=xs(uy),my=b({},Ya,{data:0}),P0=xs(my),fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function py(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=gy[s])?!!i[s]:!1}function Nd(){return py}var by=b({},Pr,{key:function(s){if(s.key){var i=fy[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=mo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xy[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(s){return s.type==="keypress"?mo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?mo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),yy=xs(by),vy=b({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=xs(vy),jy=b({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),wy=xs(jy),Ny=b({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=xs(Ny),Sy=b({},go,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Cy=xs(Sy),My=b({},Ya,{newState:0,oldState:0}),Ly=xs(My),Ay=[9,13,27,32],kd=$t&&"CompositionEvent"in window,Hr=null;$t&&"documentMode"in document&&(Hr=document.documentMode);var Dy=$t&&"TextEvent"in window&&!Hr,H0=$t&&(!kd||Hr&&8<Hr&&11>=Hr),U0=" ",F0=!1;function V0(s,i){switch(s){case"keyup":return Ay.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Oi=!1;function _y(s,i){switch(s){case"compositionend":return W0(i);case"keypress":return i.which!==32?null:(F0=!0,U0);case"textInput":return s=i.data,s===U0&&F0?null:s;default:return null}}function Ey(s,i){if(Oi)return s==="compositionend"||!kd&&V0(s,i)?(s=O0(),ho=yd=ta=null,Oi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return H0&&i.locale!=="ko"?null:i.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Ry[s.type]:i==="textarea"}function q0(s,i,o,u){fs?Wt?Wt.push(u):Wt=[u]:fs=u,i=ic(i,"onChange"),0<i.length&&(o=new xo("onChange","change",null,o,u),s.push({event:o,listeners:i}))}var Ur=null,Fr=null;function Ty(s){Ax(s,0)}function po(s){var i=Wa(s);if(Ei(i))return s}function Y0(s,i){if(s==="change")return i}var Q0=!1;if($t){var Sd;if($t){var Cd="oninput"in document;if(!Cd){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),Cd=typeof X0.oninput=="function"}Sd=Cd}else Sd=!1;Q0=Sd&&(!document.documentMode||9<document.documentMode)}function G0(){Ur&&(Ur.detachEvent("onpropertychange",K0),Fr=Ur=null)}function K0(s){if(s.propertyName==="value"&&po(Fr)){var i=[];q0(i,Fr,s,Ge(s)),Zt(Ty,i)}}function Oy(s,i,o){s==="focusin"?(G0(),Ur=i,Fr=o,Ur.attachEvent("onpropertychange",K0)):s==="focusout"&&G0()}function zy(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return po(Fr)}function By(s,i){if(s==="click")return po(i)}function Py(s,i){if(s==="input"||s==="change")return po(i)}function Iy(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var Cs=typeof Object.is=="function"?Object.is:Iy;function Vr(s,i){if(Cs(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var o=Object.keys(s),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var x=o[u];if(!cs.call(i,x)||!Cs(s[x],i[x]))return!1}return!0}function Z0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function J0(s,i){var o=Z0(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=i&&u>=i)return{node:o,offset:i-s};s=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Z0(o)}}function em(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?em(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function tm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var i=Ri(s.document);i instanceof s.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)s=i.contentWindow;else break;i=Ri(s.document)}return i}function Md(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}var Hy=$t&&"documentMode"in document&&11>=document.documentMode,zi=null,Ld=null,Wr=null,Ad=!1;function sm(s,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ad||zi==null||zi!==Ri(u)||(u=zi,"selectionStart"in u&&Md(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Wr&&Vr(Wr,u)||(Wr=u,u=ic(Ld,"onSelect"),0<u.length&&(i=new xo("onSelect","select",null,i,o),s.push({event:i,listeners:u}),i.target=zi)))}function Qa(s,i){var o={};return o[s.toLowerCase()]=i.toLowerCase(),o["Webkit"+s]="webkit"+i,o["Moz"+s]="moz"+i,o}var Bi={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionrun:Qa("Transition","TransitionRun"),transitionstart:Qa("Transition","TransitionStart"),transitioncancel:Qa("Transition","TransitionCancel"),transitionend:Qa("Transition","TransitionEnd")},Dd={},nm={};$t&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Xa(s){if(Dd[s])return Dd[s];if(!Bi[s])return s;var i=Bi[s],o;for(o in i)if(i.hasOwnProperty(o)&&o in nm)return Dd[s]=i[o];return s}var am=Xa("animationend"),im=Xa("animationiteration"),rm=Xa("animationstart"),Uy=Xa("transitionrun"),Fy=Xa("transitionstart"),Vy=Xa("transitioncancel"),lm=Xa("transitionend"),om=new Map,_d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_d.push("scrollEnd");function Zs(s,i){om.set(s,i),pt(i,[s])}var bo=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Bs=[],Pi=0,Ed=0;function yo(){for(var s=Pi,i=Ed=Pi=0;i<s;){var o=Bs[i];Bs[i++]=null;var u=Bs[i];Bs[i++]=null;var x=Bs[i];Bs[i++]=null;var p=Bs[i];if(Bs[i++]=null,u!==null&&x!==null){var S=u.pending;S===null?x.next=x:(x.next=S.next,S.next=x),u.pending=x}p!==0&&cm(o,x,p)}}function vo(s,i,o,u){Bs[Pi++]=s,Bs[Pi++]=i,Bs[Pi++]=o,Bs[Pi++]=u,Ed|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Rd(s,i,o,u){return vo(s,i,o,u),jo(s)}function Ga(s,i){return vo(s,null,null,i),jo(s)}function cm(s,i,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var x=!1,p=s.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(x=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,x&&i!==null&&(x=31-us(o),s=p.hiddenUpdates,u=s[x],u===null?s[x]=[i]:u.push(i),i.lane=o|536870912),p):null}function jo(s){if(50<hl)throw hl=0,Fu=null,Error(r(185));for(var i=s.return;i!==null;)s=i,i=s.return;return s.tag===3?s.stateNode:null}var Ii={};function Wy(s,i,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(s,i,o,u){return new Wy(s,i,o,u)}function Td(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kn(s,i){var o=s.alternate;return o===null?(o=Ms(s.tag,i,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=i,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,i=s.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function dm(s,i){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=i,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),s}function wo(s,i,o,u,x,p){var S=0;if(u=s,typeof s=="function")Td(s)&&(S=1);else if(typeof s=="string")S=X1(s,o,ge.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case F:return s=Ms(31,o,i,x),s.elementType=F,s.lanes=p,s;case j:return Ka(o.children,x,p,i);case N:S=8,x|=24;break;case M:return s=Ms(12,o,i,x|2),s.elementType=M,s.lanes=p,s;case V:return s=Ms(13,o,i,x),s.elementType=V,s.lanes=p,s;case D:return s=Ms(19,o,i,x),s.elementType=D,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:S=10;break e;case B:S=9;break e;case Y:S=11;break e;case z:S=14;break e;case E:S=16,u=null;break e}S=29,o=Error(r(130,s===null?"null":typeof s,"")),u=null}return i=Ms(S,o,i,x),i.elementType=s,i.type=u,i.lanes=p,i}function Ka(s,i,o,u){return s=Ms(7,s,u,i),s.lanes=o,s}function Od(s,i,o){return s=Ms(6,s,null,i),s.lanes=o,s}function um(s){var i=Ms(18,null,null,0);return i.stateNode=s,i}function zd(s,i,o){return i=Ms(4,s.children!==null?s.children:[],s.key,i),i.lanes=o,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}var hm=new WeakMap;function Ps(s,i){if(typeof s=="object"&&s!==null){var o=hm.get(s);return o!==void 0?o:(i={value:s,source:i,stack:Vt(i)},hm.set(s,i),i)}return{value:s,source:i,stack:Vt(i)}}var Hi=[],Ui=0,No=null,$r=0,Is=[],Hs=0,sa=null,dn=1,un="";function Sn(s,i){Hi[Ui++]=$r,Hi[Ui++]=No,No=s,$r=i}function mm(s,i,o){Is[Hs++]=dn,Is[Hs++]=un,Is[Hs++]=sa,sa=s;var u=dn;s=un;var x=32-us(u)-1;u&=~(1<<x),o+=1;var p=32-us(i)+x;if(30<p){var S=x-x%5;p=(u&(1<<S)-1).toString(32),u>>=S,x-=S,dn=1<<32-us(i)+x|o<<x|u,un=p+s}else dn=1<<p|o<<x|u,un=s}function Bd(s){s.return!==null&&(Sn(s,1),mm(s,1,0))}function Pd(s){for(;s===No;)No=Hi[--Ui],Hi[Ui]=null,$r=Hi[--Ui],Hi[Ui]=null;for(;s===sa;)sa=Is[--Hs],Is[Hs]=null,un=Is[--Hs],Is[Hs]=null,dn=Is[--Hs],Is[Hs]=null}function fm(s,i){Is[Hs++]=dn,Is[Hs++]=un,Is[Hs++]=sa,dn=i.id,un=i.overflow,sa=s}var qt=null,ft=null,Ye=!1,na=null,Us=!1,Id=Error(r(519));function aa(s){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qr(Ps(i,s)),Id}function xm(s){var i=s.stateNode,o=s.type,u=s.memoizedProps;switch(i[Ct]=s,i[Kt]=u,o){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(o=0;o<fl.length;o++)Ve(fl[o],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),oo(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),uo(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||Rx(i.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),u.onScroll!=null&&Ve("scroll",i),u.onScrollEnd!=null&&Ve("scrollend",i),u.onClick!=null&&(i.onclick=Le),i=!0):i=!1,i||aa(s,!0)}function gm(s){for(qt=s.return;qt;)switch(qt.tag){case 5:case 31:case 13:Us=!1;return;case 27:case 3:Us=!0;return;default:qt=qt.return}}function Fi(s){if(s!==qt)return!1;if(!Ye)return gm(s),Ye=!0,!1;var i=s.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||nh(s.type,s.memoizedProps)),o=!o),o&&ft&&aa(s),gm(s),i===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ft=Fx(s)}else if(i===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));ft=Fx(s)}else i===27?(i=ft,ba(s.type)?(s=oh,oh=null,ft=s):ft=i):ft=qt?Vs(s.stateNode.nextSibling):null;return!0}function Za(){ft=qt=null,Ye=!1}function Hd(){var s=na;return s!==null&&(ys===null?ys=s:ys.push.apply(ys,s),na=null),s}function qr(s){na===null?na=[s]:na.push(s)}var Ud=C(null),Ja=null,Cn=null;function ia(s,i,o){ue(Ud,i._currentValue),i._currentValue=o}function Mn(s){s._currentValue=Ud.current,H(Ud)}function Fd(s,i,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),s===o)break;s=s.return}}function Vd(s,i,o,u){var x=s.child;for(x!==null&&(x.return=s);x!==null;){var p=x.dependencies;if(p!==null){var S=x.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=x;for(var q=0;q<i.length;q++)if(_.context===i[q]){p.lanes|=o,_=p.alternate,_!==null&&(_.lanes|=o),Fd(p.return,o,s),u||(S=null);break e}p=_.next}}else if(x.tag===18){if(S=x.return,S===null)throw Error(r(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),Fd(S,o,s),S=null}else S=x.child;if(S!==null)S.return=x;else for(S=x;S!==null;){if(S===s){S=null;break}if(x=S.sibling,x!==null){x.return=S.return,S=x;break}S=S.return}x=S}}function Vi(s,i,o,u){s=null;for(var x=i,p=!1;x!==null;){if(!p){if((x.flags&524288)!==0)p=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var S=x.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var _=x.type;Cs(x.pendingProps.value,S.value)||(s!==null?s.push(_):s=[_])}}else if(x===ie.current){if(S=x.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(s!==null?s.push(yl):s=[yl])}x=x.return}s!==null&&Vd(i,s,o,u),i.flags|=262144}function ko(s){for(s=s.firstContext;s!==null;){if(!Cs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ei(s){Ja=s,Cn=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Yt(s){return pm(Ja,s)}function So(s,i){return Ja===null&&ei(s),pm(s,i)}function pm(s,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Cn===null){if(s===null)throw Error(r(308));Cn=i,s.dependencies={lanes:0,firstContext:i},s.flags|=524288}else Cn=Cn.next=i;return o}var $y=typeof AbortController<"u"?AbortController:function(){var s=[],i=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){i.aborted=!0,s.forEach(function(o){return o()})}},qy=n.unstable_scheduleCallback,Yy=n.unstable_NormalPriority,_t={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wd(){return{controller:new $y,data:new Map,refCount:0}}function Yr(s){s.refCount--,s.refCount===0&&qy(Yy,function(){s.controller.abort()})}var Qr=null,$d=0,Wi=0,$i=null;function Qy(s,i){if(Qr===null){var o=Qr=[];$d=0,Wi=Qu(),$i={status:"pending",value:void 0,then:function(u){o.push(u)}}}return $d++,i.then(bm,bm),i}function bm(){if(--$d===0&&Qr!==null){$i!==null&&($i.status="fulfilled");var s=Qr;Qr=null,Wi=0,$i=null;for(var i=0;i<s.length;i++)(0,s[i])()}}function Xy(s,i){var o=[],u={status:"pending",value:null,reason:null,then:function(x){o.push(x)}};return s.then(function(){u.status="fulfilled",u.value=i;for(var x=0;x<o.length;x++)(0,o[x])(i)},function(x){for(u.status="rejected",u.reason=x,x=0;x<o.length;x++)(0,o[x])(void 0)}),u}var ym=P.S;P.S=function(s,i){nx=zt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Qy(s,i),ym!==null&&ym(s,i)};var ti=C(null);function qd(){var s=ti.current;return s!==null?s:ht.pooledCache}function Co(s,i){i===null?ue(ti,ti.current):ue(ti,i.pool)}function vm(){var s=qd();return s===null?null:{parent:_t._currentValue,pool:s}}var qi=Error(r(460)),Yd=Error(r(474)),Mo=Error(r(542)),Lo={then:function(){}};function jm(s){return s=s.status,s==="fulfilled"||s==="rejected"}function wm(s,i,o){switch(o=s[o],o===void 0?s.push(i):o!==i&&(i.then(Le,Le),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,km(s),s;default:if(typeof i.status=="string")i.then(Le,Le);else{if(s=ht,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=i,s.status="pending",s.then(function(u){if(i.status==="pending"){var x=i;x.status="fulfilled",x.value=u}},function(u){if(i.status==="pending"){var x=i;x.status="rejected",x.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw s=i.reason,km(s),s}throw ni=i,qi}}function si(s){try{var i=s._init;return i(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ni=o,qi):o}}var ni=null;function Nm(){if(ni===null)throw Error(r(459));var s=ni;return ni=null,s}function km(s){if(s===qi||s===Mo)throw Error(r(483))}var Yi=null,Xr=0;function Ao(s){var i=Xr;return Xr+=1,Yi===null&&(Yi=[]),wm(Yi,s,i)}function Gr(s,i){i=i.props.ref,s.ref=i!==void 0?i:null}function Do(s,i){throw i.$$typeof===w?Error(r(525)):(s=Object.prototype.toString.call(i),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s)))}function Sm(s){function i(ee,Q){if(s){var ae=ee.deletions;ae===null?(ee.deletions=[Q],ee.flags|=16):ae.push(Q)}}function o(ee,Q){if(!s)return null;for(;Q!==null;)i(ee,Q),Q=Q.sibling;return null}function u(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function x(ee,Q){return ee=kn(ee,Q),ee.index=0,ee.sibling=null,ee}function p(ee,Q,ae){return ee.index=ae,s?(ae=ee.alternate,ae!==null?(ae=ae.index,ae<Q?(ee.flags|=67108866,Q):ae):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function S(ee){return s&&ee.alternate===null&&(ee.flags|=67108866),ee}function _(ee,Q,ae,ve){return Q===null||Q.tag!==6?(Q=Od(ae,ee.mode,ve),Q.return=ee,Q):(Q=x(Q,ae),Q.return=ee,Q)}function q(ee,Q,ae,ve){var Re=ae.type;return Re===j?pe(ee,Q,ae.props.children,ve,ae.key):Q!==null&&(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===E&&si(Re)===Q.type)?(Q=x(Q,ae.props),Gr(Q,ae),Q.return=ee,Q):(Q=wo(ae.type,ae.key,ae.props,null,ee.mode,ve),Gr(Q,ae),Q.return=ee,Q)}function le(ee,Q,ae,ve){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?(Q=zd(ae,ee.mode,ve),Q.return=ee,Q):(Q=x(Q,ae.children||[]),Q.return=ee,Q)}function pe(ee,Q,ae,ve,Re){return Q===null||Q.tag!==7?(Q=Ka(ae,ee.mode,ve,Re),Q.return=ee,Q):(Q=x(Q,ae),Q.return=ee,Q)}function we(ee,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=Od(""+Q,ee.mode,ae),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case y:return ae=wo(Q.type,Q.key,Q.props,null,ee.mode,ae),Gr(ae,Q),ae.return=ee,ae;case v:return Q=zd(Q,ee.mode,ae),Q.return=ee,Q;case E:return Q=si(Q),we(ee,Q,ae)}if(G(Q)||U(Q))return Q=Ka(Q,ee.mode,ae,null),Q.return=ee,Q;if(typeof Q.then=="function")return we(ee,Ao(Q),ae);if(Q.$$typeof===A)return we(ee,So(ee,Q),ae);Do(ee,Q)}return null}function ce(ee,Q,ae,ve){var Re=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Re!==null?null:_(ee,Q,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:return ae.key===Re?q(ee,Q,ae,ve):null;case v:return ae.key===Re?le(ee,Q,ae,ve):null;case E:return ae=si(ae),ce(ee,Q,ae,ve)}if(G(ae)||U(ae))return Re!==null?null:pe(ee,Q,ae,ve,null);if(typeof ae.then=="function")return ce(ee,Q,Ao(ae),ve);if(ae.$$typeof===A)return ce(ee,Q,So(ee,ae),ve);Do(ee,ae)}return null}function fe(ee,Q,ae,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ee=ee.get(ae)||null,_(Q,ee,""+ve,Re);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case y:return ee=ee.get(ve.key===null?ae:ve.key)||null,q(Q,ee,ve,Re);case v:return ee=ee.get(ve.key===null?ae:ve.key)||null,le(Q,ee,ve,Re);case E:return ve=si(ve),fe(ee,Q,ae,ve,Re)}if(G(ve)||U(ve))return ee=ee.get(ae)||null,pe(Q,ee,ve,Re,null);if(typeof ve.then=="function")return fe(ee,Q,ae,Ao(ve),Re);if(ve.$$typeof===A)return fe(ee,Q,ae,So(Q,ve),Re);Do(Q,ve)}return null}function _e(ee,Q,ae,ve){for(var Re=null,Ze=null,Ee=Q,Ie=Q=0,$e=null;Ee!==null&&Ie<ae.length;Ie++){Ee.index>Ie?($e=Ee,Ee=null):$e=Ee.sibling;var Je=ce(ee,Ee,ae[Ie],ve);if(Je===null){Ee===null&&(Ee=$e);break}s&&Ee&&Je.alternate===null&&i(ee,Ee),Q=p(Je,Q,Ie),Ze===null?Re=Je:Ze.sibling=Je,Ze=Je,Ee=$e}if(Ie===ae.length)return o(ee,Ee),Ye&&Sn(ee,Ie),Re;if(Ee===null){for(;Ie<ae.length;Ie++)Ee=we(ee,ae[Ie],ve),Ee!==null&&(Q=p(Ee,Q,Ie),Ze===null?Re=Ee:Ze.sibling=Ee,Ze=Ee);return Ye&&Sn(ee,Ie),Re}for(Ee=u(Ee);Ie<ae.length;Ie++)$e=fe(Ee,ee,Ie,ae[Ie],ve),$e!==null&&(s&&$e.alternate!==null&&Ee.delete($e.key===null?Ie:$e.key),Q=p($e,Q,Ie),Ze===null?Re=$e:Ze.sibling=$e,Ze=$e);return s&&Ee.forEach(function(Na){return i(ee,Na)}),Ye&&Sn(ee,Ie),Re}function Te(ee,Q,ae,ve){if(ae==null)throw Error(r(151));for(var Re=null,Ze=null,Ee=Q,Ie=Q=0,$e=null,Je=ae.next();Ee!==null&&!Je.done;Ie++,Je=ae.next()){Ee.index>Ie?($e=Ee,Ee=null):$e=Ee.sibling;var Na=ce(ee,Ee,Je.value,ve);if(Na===null){Ee===null&&(Ee=$e);break}s&&Ee&&Na.alternate===null&&i(ee,Ee),Q=p(Na,Q,Ie),Ze===null?Re=Na:Ze.sibling=Na,Ze=Na,Ee=$e}if(Je.done)return o(ee,Ee),Ye&&Sn(ee,Ie),Re;if(Ee===null){for(;!Je.done;Ie++,Je=ae.next())Je=we(ee,Je.value,ve),Je!==null&&(Q=p(Je,Q,Ie),Ze===null?Re=Je:Ze.sibling=Je,Ze=Je);return Ye&&Sn(ee,Ie),Re}for(Ee=u(Ee);!Je.done;Ie++,Je=ae.next())Je=fe(Ee,ee,Ie,Je.value,ve),Je!==null&&(s&&Je.alternate!==null&&Ee.delete(Je.key===null?Ie:Je.key),Q=p(Je,Q,Ie),Ze===null?Re=Je:Ze.sibling=Je,Ze=Je);return s&&Ee.forEach(function(rv){return i(ee,rv)}),Ye&&Sn(ee,Ie),Re}function dt(ee,Q,ae,ve){if(typeof ae=="object"&&ae!==null&&ae.type===j&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case y:e:{for(var Re=ae.key;Q!==null;){if(Q.key===Re){if(Re=ae.type,Re===j){if(Q.tag===7){o(ee,Q.sibling),ve=x(Q,ae.props.children),ve.return=ee,ee=ve;break e}}else if(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===E&&si(Re)===Q.type){o(ee,Q.sibling),ve=x(Q,ae.props),Gr(ve,ae),ve.return=ee,ee=ve;break e}o(ee,Q);break}else i(ee,Q);Q=Q.sibling}ae.type===j?(ve=Ka(ae.props.children,ee.mode,ve,ae.key),ve.return=ee,ee=ve):(ve=wo(ae.type,ae.key,ae.props,null,ee.mode,ve),Gr(ve,ae),ve.return=ee,ee=ve)}return S(ee);case v:e:{for(Re=ae.key;Q!==null;){if(Q.key===Re)if(Q.tag===4&&Q.stateNode.containerInfo===ae.containerInfo&&Q.stateNode.implementation===ae.implementation){o(ee,Q.sibling),ve=x(Q,ae.children||[]),ve.return=ee,ee=ve;break e}else{o(ee,Q);break}else i(ee,Q);Q=Q.sibling}ve=zd(ae,ee.mode,ve),ve.return=ee,ee=ve}return S(ee);case E:return ae=si(ae),dt(ee,Q,ae,ve)}if(G(ae))return _e(ee,Q,ae,ve);if(U(ae)){if(Re=U(ae),typeof Re!="function")throw Error(r(150));return ae=Re.call(ae),Te(ee,Q,ae,ve)}if(typeof ae.then=="function")return dt(ee,Q,Ao(ae),ve);if(ae.$$typeof===A)return dt(ee,Q,So(ee,ae),ve);Do(ee,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,Q!==null&&Q.tag===6?(o(ee,Q.sibling),ve=x(Q,ae),ve.return=ee,ee=ve):(o(ee,Q),ve=Od(ae,ee.mode,ve),ve.return=ee,ee=ve),S(ee)):o(ee,Q)}return function(ee,Q,ae,ve){try{Xr=0;var Re=dt(ee,Q,ae,ve);return Yi=null,Re}catch(Ee){if(Ee===qi||Ee===Mo)throw Ee;var Ze=Ms(29,Ee,null,ee.mode);return Ze.lanes=ve,Ze.return=ee,Ze}}}var ai=Sm(!0),Cm=Sm(!1),ra=!1;function Qd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xd(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function la(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function oa(s,i,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(tt&2)!==0){var x=u.pending;return x===null?i.next=i:(i.next=x.next,x.next=i),u.pending=i,i=jo(s),cm(s,null,o),i}return vo(s,u,i,o),jo(s)}function Kr(s,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=s.pendingLanes,o|=u,i.lanes=o,Va(s,o)}}function Gd(s,i){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var x=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?x=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?x=p=i:p=p.next=i}else x=p=i;o={baseState:u.baseState,firstBaseUpdate:x,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=i:s.next=i,o.lastBaseUpdate=i}var Kd=!1;function Zr(){if(Kd){var s=$i;if(s!==null)throw s}}function Jr(s,i,o,u){Kd=!1;var x=s.updateQueue;ra=!1;var p=x.firstBaseUpdate,S=x.lastBaseUpdate,_=x.shared.pending;if(_!==null){x.shared.pending=null;var q=_,le=q.next;q.next=null,S===null?p=le:S.next=le,S=q;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,_=pe.lastBaseUpdate,_!==S&&(_===null?pe.firstBaseUpdate=le:_.next=le,pe.lastBaseUpdate=q))}if(p!==null){var we=x.baseState;S=0,pe=le=q=null,_=p;do{var ce=_.lane&-536870913,fe=ce!==_.lane;if(fe?(We&ce)===ce:(u&ce)===ce){ce!==0&&ce===Wi&&(Kd=!0),pe!==null&&(pe=pe.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var _e=s,Te=_;ce=i;var dt=o;switch(Te.tag){case 1:if(_e=Te.payload,typeof _e=="function"){we=_e.call(dt,we,ce);break e}we=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Te.payload,ce=typeof _e=="function"?_e.call(dt,we,ce):_e,ce==null)break e;we=b({},we,ce);break e;case 2:ra=!0}}ce=_.callback,ce!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=x.callbacks,fe===null?x.callbacks=[ce]:fe.push(ce))}else fe={lane:ce,tag:_.tag,payload:_.payload,callback:_.callback,next:null},pe===null?(le=pe=fe,q=we):pe=pe.next=fe,S|=ce;if(_=_.next,_===null){if(_=x.shared.pending,_===null)break;fe=_,_=fe.next,fe.next=null,x.lastBaseUpdate=fe,x.shared.pending=null}}while(!0);pe===null&&(q=we),x.baseState=q,x.firstBaseUpdate=le,x.lastBaseUpdate=pe,p===null&&(x.shared.lanes=0),ma|=S,s.lanes=S,s.memoizedState=we}}function Mm(s,i){if(typeof s!="function")throw Error(r(191,s));s.call(i)}function Lm(s,i){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)Mm(o[s],i)}var Qi=C(null),_o=C(0);function Am(s,i){s=zn,ue(_o,s),ue(Qi,i),zn=s|i.baseLanes}function Zd(){ue(_o,zn),ue(Qi,Qi.current)}function Jd(){zn=_o.current,H(Qi),H(_o)}var Ls=C(null),Fs=null;function ca(s){var i=s.alternate;ue(Mt,Mt.current&1),ue(Ls,s),Fs===null&&(i===null||Qi.current!==null||i.memoizedState!==null)&&(Fs=s)}function eu(s){ue(Mt,Mt.current),ue(Ls,s),Fs===null&&(Fs=s)}function Dm(s){s.tag===22?(ue(Mt,Mt.current),ue(Ls,s),Fs===null&&(Fs=s)):da()}function da(){ue(Mt,Mt.current),ue(Ls,Ls.current)}function As(s){H(Ls),Fs===s&&(Fs=null),H(Mt)}var Mt=C(0);function Eo(s){for(var i=s;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||rh(o)||lh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ln=0,Be=null,ot=null,Et=null,Ro=!1,Xi=!1,ii=!1,To=0,el=0,Gi=null,Gy=0;function kt(){throw Error(r(321))}function tu(s,i){if(i===null)return!1;for(var o=0;o<i.length&&o<s.length;o++)if(!Cs(s[o],i[o]))return!1;return!0}function su(s,i,o,u,x,p){return Ln=p,Be=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=s===null||s.memoizedState===null?ff:pu,ii=!1,p=o(u,x),ii=!1,Xi&&(p=Em(i,o,u,x)),_m(s),p}function _m(s){P.H=nl;var i=ot!==null&&ot.next!==null;if(Ln=0,Et=ot=Be=null,Ro=!1,el=0,Gi=null,i)throw Error(r(300));s===null||Rt||(s=s.dependencies,s!==null&&ko(s)&&(Rt=!0))}function Em(s,i,o,u){Be=s;var x=0;do{if(Xi&&(Gi=null),el=0,Xi=!1,25<=x)throw Error(r(301));if(x+=1,Et=ot=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}P.H=xf,p=i(o,u)}while(Xi);return p}function Ky(){var s=P.H,i=s.useState()[0];return i=typeof i.then=="function"?tl(i):i,s=s.useState()[0],(ot!==null?ot.memoizedState:null)!==s&&(Be.flags|=1024),i}function nu(){var s=To!==0;return To=0,s}function au(s,i,o){i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~o}function iu(s){if(Ro){for(s=s.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ro=!1}Ln=0,Et=ot=Be=null,Xi=!1,el=To=0,Gi=null}function ls(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Be.memoizedState=Et=s:Et=Et.next=s,Et}function Lt(){if(ot===null){var s=Be.alternate;s=s!==null?s.memoizedState:null}else s=ot.next;var i=Et===null?Be.memoizedState:Et.next;if(i!==null)Et=i,ot=s;else{if(s===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ot=s,s={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Et===null?Be.memoizedState=Et=s:Et=Et.next=s}return Et}function Oo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(s){var i=el;return el+=1,Gi===null&&(Gi=[]),s=wm(Gi,s,i),i=Be,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?ff:pu),s}function zo(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return tl(s);if(s.$$typeof===A)return Yt(s)}throw Error(r(438,String(s)))}function ru(s){var i=null,o=Be.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(x){return x.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Oo(),Be.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(s),u=0;u<s;u++)o[u]=se;return i.index++,o}function An(s,i){return typeof i=="function"?i(s):i}function Bo(s){var i=Lt();return lu(i,ot,s)}function lu(s,i,o){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var x=s.baseQueue,p=u.pending;if(p!==null){if(x!==null){var S=x.next;x.next=p.next,p.next=S}i.baseQueue=x=p,u.pending=null}if(p=s.baseState,x===null)s.memoizedState=p;else{i=x.next;var _=S=null,q=null,le=i,pe=!1;do{var we=le.lane&-536870913;if(we!==le.lane?(We&we)===we:(Ln&we)===we){var ce=le.revertLane;if(ce===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),we===Wi&&(pe=!0);else if((Ln&ce)===ce){le=le.next,ce===Wi&&(pe=!0);continue}else we={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},q===null?(_=q=we,S=p):q=q.next=we,Be.lanes|=ce,ma|=ce;we=le.action,ii&&o(p,we),p=le.hasEagerState?le.eagerState:o(p,we)}else ce={lane:we,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},q===null?(_=q=ce,S=p):q=q.next=ce,Be.lanes|=we,ma|=we;le=le.next}while(le!==null&&le!==i);if(q===null?S=p:q.next=_,!Cs(p,s.memoizedState)&&(Rt=!0,pe&&(o=$i,o!==null)))throw o;s.memoizedState=p,s.baseState=S,s.baseQueue=q,u.lastRenderedState=p}return x===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function ou(s){var i=Lt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var u=o.dispatch,x=o.pending,p=i.memoizedState;if(x!==null){o.pending=null;var S=x=x.next;do p=s(p,S.action),S=S.next;while(S!==x);Cs(p,i.memoizedState)||(Rt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,u]}function Rm(s,i,o){var u=Be,x=Lt(),p=Ye;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=i();var S=!Cs((ot||x).memoizedState,o);if(S&&(x.memoizedState=o,Rt=!0),x=x.queue,uu(zm.bind(null,u,x,s),[s]),x.getSnapshot!==i||S||Et!==null&&Et.memoizedState.tag&1){if(u.flags|=2048,Ki(9,{destroy:void 0},Om.bind(null,u,x,o,i),null),ht===null)throw Error(r(349));p||(Ln&127)!==0||Tm(u,i,o)}return o}function Tm(s,i,o){s.flags|=16384,s={getSnapshot:i,value:o},i=Be.updateQueue,i===null?(i=Oo(),Be.updateQueue=i,i.stores=[s]):(o=i.stores,o===null?i.stores=[s]:o.push(s))}function Om(s,i,o,u){i.value=o,i.getSnapshot=u,Bm(i)&&Pm(s)}function zm(s,i,o){return o(function(){Bm(i)&&Pm(s)})}function Bm(s){var i=s.getSnapshot;s=s.value;try{var o=i();return!Cs(s,o)}catch{return!0}}function Pm(s){var i=Ga(s,2);i!==null&&vs(i,s,2)}function cu(s){var i=ls();if(typeof s=="function"){var o=s;if(s=o(),ii){jn(!0);try{o()}finally{jn(!1)}}}return i.memoizedState=i.baseState=s,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:s},i}function Im(s,i,o,u){return s.baseState=o,lu(s,ot,typeof u=="function"?u:An)}function Zy(s,i,o,u,x){if(Ho(s))throw Error(r(485));if(s=i.action,s!==null){var p={payload:x,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};P.T!==null?o(!0):p.isTransition=!1,u(p),o=i.pending,o===null?(p.next=i.pending=p,Hm(i,p)):(p.next=o.next,i.pending=o.next=p)}}function Hm(s,i){var o=i.action,u=i.payload,x=s.state;if(i.isTransition){var p=P.T,S={};P.T=S;try{var _=o(x,u),q=P.S;q!==null&&q(S,_),Um(s,i,_)}catch(le){du(s,i,le)}finally{p!==null&&S.types!==null&&(p.types=S.types),P.T=p}}else try{p=o(x,u),Um(s,i,p)}catch(le){du(s,i,le)}}function Um(s,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Fm(s,i,u)},function(u){return du(s,i,u)}):Fm(s,i,o)}function Fm(s,i,o){i.status="fulfilled",i.value=o,Vm(i),s.state=o,i=s.pending,i!==null&&(o=i.next,o===i?s.pending=null:(o=o.next,i.next=o,Hm(s,o)))}function du(s,i,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Vm(i),i=i.next;while(i!==u)}s.action=null}function Vm(s){s=s.listeners;for(var i=0;i<s.length;i++)(0,s[i])()}function Wm(s,i){return i}function $m(s,i){if(Ye){var o=ht.formState;if(o!==null){e:{var u=Be;if(Ye){if(ft){t:{for(var x=ft,p=Us;x.nodeType!==8;){if(!p){x=null;break t}if(x=Vs(x.nextSibling),x===null){x=null;break t}}p=x.data,x=p==="F!"||p==="F"?x:null}if(x){ft=Vs(x.nextSibling),u=x.data==="F!";break e}}aa(u)}u=!1}u&&(i=o[0])}}return o=ls(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:i},o.queue=u,o=uf.bind(null,Be,u),u.dispatch=o,u=cu(!1),p=gu.bind(null,Be,!1,u.queue),u=ls(),x={state:i,dispatch:null,action:s,pending:null},u.queue=x,o=Zy.bind(null,Be,x,p,o),x.dispatch=o,u.memoizedState=s,[i,o,!1]}function qm(s){var i=Lt();return Ym(i,ot,s)}function Ym(s,i,o){if(i=lu(s,i,Wm)[0],s=Bo(An)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=tl(i)}catch(S){throw S===qi?Mo:S}else u=i;i=Lt();var x=i.queue,p=x.dispatch;return o!==i.memoizedState&&(Be.flags|=2048,Ki(9,{destroy:void 0},Jy.bind(null,x,o),null)),[u,p,s]}function Jy(s,i){s.action=i}function Qm(s){var i=Lt(),o=ot;if(o!==null)return Ym(i,o,s);Lt(),i=i.memoizedState,o=Lt();var u=o.queue.dispatch;return o.memoizedState=s,[i,u,!1]}function Ki(s,i,o,u){return s={tag:s,create:o,deps:u,inst:i,next:null},i=Be.updateQueue,i===null&&(i=Oo(),Be.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,i.lastEffect=s),s}function Xm(){return Lt().memoizedState}function Po(s,i,o,u){var x=ls();Be.flags|=s,x.memoizedState=Ki(1|i,{destroy:void 0},o,u===void 0?null:u)}function Io(s,i,o,u){var x=Lt();u=u===void 0?null:u;var p=x.memoizedState.inst;ot!==null&&u!==null&&tu(u,ot.memoizedState.deps)?x.memoizedState=Ki(i,p,o,u):(Be.flags|=s,x.memoizedState=Ki(1|i,p,o,u))}function Gm(s,i){Po(8390656,8,s,i)}function uu(s,i){Io(2048,8,s,i)}function e1(s){Be.flags|=4;var i=Be.updateQueue;if(i===null)i=Oo(),Be.updateQueue=i,i.events=[s];else{var o=i.events;o===null?i.events=[s]:o.push(s)}}function Km(s){var i=Lt().memoizedState;return e1({ref:i,nextImpl:s}),function(){if((tt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Zm(s,i){return Io(4,2,s,i)}function Jm(s,i){return Io(4,4,s,i)}function ef(s,i){if(typeof i=="function"){s=s();var o=i(s);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function tf(s,i,o){o=o!=null?o.concat([s]):null,Io(4,4,ef.bind(null,i,s),o)}function hu(){}function sf(s,i){var o=Lt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&tu(i,u[1])?u[0]:(o.memoizedState=[s,i],s)}function nf(s,i){var o=Lt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&tu(i,u[1]))return u[0];if(u=s(),ii){jn(!0);try{s()}finally{jn(!1)}}return o.memoizedState=[u,i],u}function mu(s,i,o){return o===void 0||(Ln&1073741824)!==0&&(We&261930)===0?s.memoizedState=i:(s.memoizedState=o,s=ix(),Be.lanes|=s,ma|=s,o)}function af(s,i,o,u){return Cs(o,i)?o:Qi.current!==null?(s=mu(s,o,u),Cs(s,i)||(Rt=!0),s):(Ln&42)===0||(Ln&1073741824)!==0&&(We&261930)===0?(Rt=!0,s.memoizedState=o):(s=ix(),Be.lanes|=s,ma|=s,i)}function rf(s,i,o,u,x){var p=X.p;X.p=p!==0&&8>p?p:8;var S=P.T,_={};P.T=_,gu(s,!1,i,o);try{var q=x(),le=P.S;if(le!==null&&le(_,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var pe=Xy(q,u);sl(s,i,pe,Es(s))}else sl(s,i,u,Es(s))}catch(we){sl(s,i,{then:function(){},status:"rejected",reason:we},Es())}finally{X.p=p,S!==null&&_.types!==null&&(S.types=_.types),P.T=S}}function t1(){}function fu(s,i,o,u){if(s.tag!==5)throw Error(r(476));var x=lf(s).queue;rf(s,x,i,T,o===null?t1:function(){return of(s),o(u)})}function lf(s){var i=s.memoizedState;if(i!==null)return i;i={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:T},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:o},next:null},s.memoizedState=i,s=s.alternate,s!==null&&(s.memoizedState=i),i}function of(s){var i=lf(s);i.next===null&&(i=s.alternate.memoizedState),sl(s,i.next.queue,{},Es())}function xu(){return Yt(yl)}function cf(){return Lt().memoizedState}function df(){return Lt().memoizedState}function s1(s){for(var i=s.return;i!==null;){switch(i.tag){case 24:case 3:var o=Es();s=la(o);var u=oa(i,s,o);u!==null&&(vs(u,i,o),Kr(u,i,o)),i={cache:Wd()},s.payload=i;return}i=i.return}}function n1(s,i,o){var u=Es();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ho(s)?hf(i,o):(o=Rd(s,i,o,u),o!==null&&(vs(o,s,u),mf(o,i,u)))}function uf(s,i,o){var u=Es();sl(s,i,o,u)}function sl(s,i,o,u){var x={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ho(s))hf(i,x);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var S=i.lastRenderedState,_=p(S,o);if(x.hasEagerState=!0,x.eagerState=_,Cs(_,S))return vo(s,i,x,0),ht===null&&yo(),!1}catch{}if(o=Rd(s,i,x,u),o!==null)return vs(o,s,u),mf(o,i,u),!0}return!1}function gu(s,i,o,u){if(u={lane:2,revertLane:Qu(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ho(s)){if(i)throw Error(r(479))}else i=Rd(s,o,u,2),i!==null&&vs(i,s,2)}function Ho(s){var i=s.alternate;return s===Be||i!==null&&i===Be}function hf(s,i){Xi=Ro=!0;var o=s.pending;o===null?i.next=i:(i.next=o.next,o.next=i),s.pending=i}function mf(s,i,o){if((o&4194048)!==0){var u=i.lanes;u&=s.pendingLanes,o|=u,i.lanes=o,Va(s,o)}}var nl={readContext:Yt,use:zo,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};nl.useEffectEvent=kt;var ff={readContext:Yt,use:zo,useCallback:function(s,i){return ls().memoizedState=[s,i===void 0?null:i],s},useContext:Yt,useEffect:Gm,useImperativeHandle:function(s,i,o){o=o!=null?o.concat([s]):null,Po(4194308,4,ef.bind(null,i,s),o)},useLayoutEffect:function(s,i){return Po(4194308,4,s,i)},useInsertionEffect:function(s,i){Po(4,2,s,i)},useMemo:function(s,i){var o=ls();i=i===void 0?null:i;var u=s();if(ii){jn(!0);try{s()}finally{jn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(s,i,o){var u=ls();if(o!==void 0){var x=o(i);if(ii){jn(!0);try{o(i)}finally{jn(!1)}}}else x=i;return u.memoizedState=u.baseState=x,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:x},u.queue=s,s=s.dispatch=n1.bind(null,Be,s),[u.memoizedState,s]},useRef:function(s){var i=ls();return s={current:s},i.memoizedState=s},useState:function(s){s=cu(s);var i=s.queue,o=uf.bind(null,Be,i);return i.dispatch=o,[s.memoizedState,o]},useDebugValue:hu,useDeferredValue:function(s,i){var o=ls();return mu(o,s,i)},useTransition:function(){var s=cu(!1);return s=rf.bind(null,Be,s.queue,!0,!1),ls().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,i,o){var u=Be,x=ls();if(Ye){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),ht===null)throw Error(r(349));(We&127)!==0||Tm(u,i,o)}x.memoizedState=o;var p={value:o,getSnapshot:i};return x.queue=p,Gm(zm.bind(null,u,p,s),[s]),u.flags|=2048,Ki(9,{destroy:void 0},Om.bind(null,u,p,o,i),null),o},useId:function(){var s=ls(),i=ht.identifierPrefix;if(Ye){var o=un,u=dn;o=(u&~(1<<32-us(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=To++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Gy++,i="_"+i+"r_"+o.toString(32)+"_";return s.memoizedState=i},useHostTransitionStatus:xu,useFormState:$m,useActionState:$m,useOptimistic:function(s){var i=ls();i.memoizedState=i.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=gu.bind(null,Be,!0,o),o.dispatch=i,[s,i]},useMemoCache:ru,useCacheRefresh:function(){return ls().memoizedState=s1.bind(null,Be)},useEffectEvent:function(s){var i=ls(),o={impl:s};return i.memoizedState=o,function(){if((tt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},pu={readContext:Yt,use:zo,useCallback:sf,useContext:Yt,useEffect:uu,useImperativeHandle:tf,useInsertionEffect:Zm,useLayoutEffect:Jm,useMemo:nf,useReducer:Bo,useRef:Xm,useState:function(){return Bo(An)},useDebugValue:hu,useDeferredValue:function(s,i){var o=Lt();return af(o,ot.memoizedState,s,i)},useTransition:function(){var s=Bo(An)[0],i=Lt().memoizedState;return[typeof s=="boolean"?s:tl(s),i]},useSyncExternalStore:Rm,useId:cf,useHostTransitionStatus:xu,useFormState:qm,useActionState:qm,useOptimistic:function(s,i){var o=Lt();return Im(o,ot,s,i)},useMemoCache:ru,useCacheRefresh:df};pu.useEffectEvent=Km;var xf={readContext:Yt,use:zo,useCallback:sf,useContext:Yt,useEffect:uu,useImperativeHandle:tf,useInsertionEffect:Zm,useLayoutEffect:Jm,useMemo:nf,useReducer:ou,useRef:Xm,useState:function(){return ou(An)},useDebugValue:hu,useDeferredValue:function(s,i){var o=Lt();return ot===null?mu(o,s,i):af(o,ot.memoizedState,s,i)},useTransition:function(){var s=ou(An)[0],i=Lt().memoizedState;return[typeof s=="boolean"?s:tl(s),i]},useSyncExternalStore:Rm,useId:cf,useHostTransitionStatus:xu,useFormState:Qm,useActionState:Qm,useOptimistic:function(s,i){var o=Lt();return ot!==null?Im(o,ot,s,i):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:ru,useCacheRefresh:df};xf.useEffectEvent=Km;function bu(s,i,o,u){i=s.memoizedState,o=o(u,i),o=o==null?i:b({},i,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var yu={enqueueSetState:function(s,i,o){s=s._reactInternals;var u=Es(),x=la(u);x.payload=i,o!=null&&(x.callback=o),i=oa(s,x,u),i!==null&&(vs(i,s,u),Kr(i,s,u))},enqueueReplaceState:function(s,i,o){s=s._reactInternals;var u=Es(),x=la(u);x.tag=1,x.payload=i,o!=null&&(x.callback=o),i=oa(s,x,u),i!==null&&(vs(i,s,u),Kr(i,s,u))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var o=Es(),u=la(o);u.tag=2,i!=null&&(u.callback=i),i=oa(s,u,o),i!==null&&(vs(i,s,o),Kr(i,s,o))}};function gf(s,i,o,u,x,p,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,S):i.prototype&&i.prototype.isPureReactComponent?!Vr(o,u)||!Vr(x,p):!0}function pf(s,i,o,u){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==s&&yu.enqueueReplaceState(i,i.state,null)}function ri(s,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(s=s.defaultProps){o===i&&(o=b({},o));for(var x in s)o[x]===void 0&&(o[x]=s[x])}return o}function bf(s){bo(s)}function yf(s){console.error(s)}function vf(s){bo(s)}function Uo(s,i){try{var o=s.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function jf(s,i,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function vu(s,i,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){Uo(s,i)},o}function wf(s){return s=la(s),s.tag=3,s}function Nf(s,i,o,u){var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var p=u.value;s.payload=function(){return x(p)},s.callback=function(){jf(i,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){jf(i,o,u),typeof x!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var _=u.stack;this.componentDidCatch(u.value,{componentStack:_!==null?_:""})})}function a1(s,i,o,u,x){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&Vi(i,o,x,!0),o=Ls.current,o!==null){switch(o.tag){case 31:case 13:return Fs===null?Jo():o.alternate===null&&St===0&&(St=3),o.flags&=-257,o.flags|=65536,o.lanes=x,u===Lo?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),$u(s,u,x)),!1;case 22:return o.flags|=65536,u===Lo?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),$u(s,u,x)),!1}throw Error(r(435,o.tag))}return $u(s,u,x),Jo(),!1}if(Ye)return i=Ls.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=x,u!==Id&&(s=Error(r(422),{cause:u}),qr(Ps(s,o)))):(u!==Id&&(i=Error(r(423),{cause:u}),qr(Ps(i,o))),s=s.current.alternate,s.flags|=65536,x&=-x,s.lanes|=x,u=Ps(u,o),x=vu(s.stateNode,u,x),Gd(s,x),St!==4&&(St=2)),!1;var p=Error(r(520),{cause:u});if(p=Ps(p,o),ul===null?ul=[p]:ul.push(p),St!==4&&(St=2),i===null)return!0;u=Ps(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,s=x&-x,o.lanes|=s,s=vu(o.stateNode,u,s),Gd(o,s),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(fa===null||!fa.has(p))))return o.flags|=65536,x&=-x,o.lanes|=x,x=wf(x),Nf(x,s,o,u),Gd(o,x),!1}o=o.return}while(o!==null);return!1}var ju=Error(r(461)),Rt=!1;function Qt(s,i,o,u){i.child=s===null?Cm(i,null,o,u):ai(i,s.child,o,u)}function kf(s,i,o,u,x){o=o.render;var p=i.ref;if("ref"in u){var S={};for(var _ in u)_!=="ref"&&(S[_]=u[_])}else S=u;return ei(i),u=su(s,i,o,S,p,x),_=nu(),s!==null&&!Rt?(au(s,i,x),Dn(s,i,x)):(Ye&&_&&Bd(i),i.flags|=1,Qt(s,i,u,x),i.child)}function Sf(s,i,o,u,x){if(s===null){var p=o.type;return typeof p=="function"&&!Td(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Cf(s,i,p,u,x)):(s=wo(o.type,null,u,i,i.mode,x),s.ref=i.ref,s.return=i,i.child=s)}if(p=s.child,!Au(s,x)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Vr,o(S,u)&&s.ref===i.ref)return Dn(s,i,x)}return i.flags|=1,s=kn(p,u),s.ref=i.ref,s.return=i,i.child=s}function Cf(s,i,o,u,x){if(s!==null){var p=s.memoizedProps;if(Vr(p,u)&&s.ref===i.ref)if(Rt=!1,i.pendingProps=u=p,Au(s,x))(s.flags&131072)!==0&&(Rt=!0);else return i.lanes=s.lanes,Dn(s,i,x)}return wu(s,i,o,u,x)}function Mf(s,i,o,u){var x=u.children,p=s!==null?s.memoizedState:null;if(s===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,s!==null){for(u=i.child=s.child,x=0;u!==null;)x=x|u.lanes|u.childLanes,u=u.sibling;u=x&~p}else u=0,i.child=null;return Lf(s,i,p,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},s!==null&&Co(i,p!==null?p.cachePool:null),p!==null?Am(i,p):Zd(),Dm(i);else return u=i.lanes=536870912,Lf(s,i,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(Co(i,p.cachePool),Am(i,p),da(),i.memoizedState=null):(s!==null&&Co(i,null),Zd(),da());return Qt(s,i,x,o),i.child}function al(s,i){return s!==null&&s.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Lf(s,i,o,u,x){var p=qd();return p=p===null?null:{parent:_t._currentValue,pool:p},i.memoizedState={baseLanes:o,cachePool:p},s!==null&&Co(i,null),Zd(),Dm(i),s!==null&&Vi(s,i,u,!0),i.childLanes=x,null}function Fo(s,i){return i=Wo({mode:i.mode,children:i.children},s.mode),i.ref=s.ref,s.child=i,i.return=s,i}function Af(s,i,o){return ai(i,s.child,null,o),s=Fo(i,i.pendingProps),s.flags|=2,As(i),i.memoizedState=null,s}function i1(s,i,o){var u=i.pendingProps,x=(i.flags&128)!==0;if(i.flags&=-129,s===null){if(Ye){if(u.mode==="hidden")return s=Fo(i,u),i.lanes=536870912,al(null,s);if(eu(i),(s=ft)?(s=Ux(s,Us),s=s!==null&&s.data==="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:sa!==null?{id:dn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},o=um(s),o.return=i,i.child=o,qt=i,ft=null)):s=null,s===null)throw aa(i);return i.lanes=536870912,null}return Fo(i,u)}var p=s.memoizedState;if(p!==null){var S=p.dehydrated;if(eu(i),x)if(i.flags&256)i.flags&=-257,i=Af(s,i,o);else if(i.memoizedState!==null)i.child=s.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Vi(s,i,o,!1),x=(o&s.childLanes)!==0,Rt||x){if(u=ht,u!==null&&(S=Ai(u,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,Ga(s,S),vs(u,s,S),ju;Jo(),i=Af(s,i,o)}else s=p.treeContext,ft=Vs(S.nextSibling),qt=i,Ye=!0,na=null,Us=!1,s!==null&&fm(i,s),i=Fo(i,u),i.flags|=4096;return i}return s=kn(s.child,{mode:u.mode,children:u.children}),s.ref=i.ref,i.child=s,s.return=i,s}function Vo(s,i){var o=i.ref;if(o===null)s!==null&&s.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(s===null||s.ref!==o)&&(i.flags|=4194816)}}function wu(s,i,o,u,x){return ei(i),o=su(s,i,o,u,void 0,x),u=nu(),s!==null&&!Rt?(au(s,i,x),Dn(s,i,x)):(Ye&&u&&Bd(i),i.flags|=1,Qt(s,i,o,x),i.child)}function Df(s,i,o,u,x,p){return ei(i),i.updateQueue=null,o=Em(i,u,o,x),_m(s),u=nu(),s!==null&&!Rt?(au(s,i,p),Dn(s,i,p)):(Ye&&u&&Bd(i),i.flags|=1,Qt(s,i,o,p),i.child)}function _f(s,i,o,u,x){if(ei(i),i.stateNode===null){var p=Ii,S=o.contextType;typeof S=="object"&&S!==null&&(p=Yt(S)),p=new o(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=yu,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Qd(i),S=o.contextType,p.context=typeof S=="object"&&S!==null?Yt(S):Ii,p.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(bu(i,o,S,u),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&yu.enqueueReplaceState(p,p.state,null),Jr(i,u,p,x),Zr(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(s===null){p=i.stateNode;var _=i.memoizedProps,q=ri(o,_);p.props=q;var le=p.context,pe=o.contextType;S=Ii,typeof pe=="object"&&pe!==null&&(S=Yt(pe));var we=o.getDerivedStateFromProps;pe=typeof we=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,pe||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||le!==S)&&pf(i,p,u,S),ra=!1;var ce=i.memoizedState;p.state=ce,Jr(i,u,p,x),Zr(),le=i.memoizedState,_||ce!==le||ra?(typeof we=="function"&&(bu(i,o,we,u),le=i.memoizedState),(q=ra||gf(i,o,q,u,ce,le,S))?(pe||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=le),p.props=u,p.state=le,p.context=S,u=q):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Xd(s,i),S=i.memoizedProps,pe=ri(o,S),p.props=pe,we=i.pendingProps,ce=p.context,le=o.contextType,q=Ii,typeof le=="object"&&le!==null&&(q=Yt(le)),_=o.getDerivedStateFromProps,(le=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==we||ce!==q)&&pf(i,p,u,q),ra=!1,ce=i.memoizedState,p.state=ce,Jr(i,u,p,x),Zr();var fe=i.memoizedState;S!==we||ce!==fe||ra||s!==null&&s.dependencies!==null&&ko(s.dependencies)?(typeof _=="function"&&(bu(i,o,_,u),fe=i.memoizedState),(pe=ra||gf(i,o,pe,u,ce,fe,q)||s!==null&&s.dependencies!==null&&ko(s.dependencies))?(le||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,fe,q),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,fe,q)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&ce===s.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&ce===s.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=fe),p.props=u,p.state=fe,p.context=q,u=pe):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&ce===s.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&ce===s.memoizedState||(i.flags|=1024),u=!1)}return p=u,Vo(s,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,s!==null&&u?(i.child=ai(i,s.child,null,x),i.child=ai(i,null,o,x)):Qt(s,i,o,x),i.memoizedState=p.state,s=i.child):s=Dn(s,i,x),s}function Ef(s,i,o,u){return Za(),i.flags|=256,Qt(s,i,o,u),i.child}var Nu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(s){return{baseLanes:s,cachePool:vm()}}function Su(s,i,o){return s=s!==null?s.childLanes&~o:0,i&&(s|=_s),s}function Rf(s,i,o){var u=i.pendingProps,x=!1,p=(i.flags&128)!==0,S;if((S=p)||(S=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),S&&(x=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,s===null){if(Ye){if(x?ca(i):da(),(s=ft)?(s=Ux(s,Us),s=s!==null&&s.data!=="&"?s:null,s!==null&&(i.memoizedState={dehydrated:s,treeContext:sa!==null?{id:dn,overflow:un}:null,retryLane:536870912,hydrationErrors:null},o=um(s),o.return=i,i.child=o,qt=i,ft=null)):s=null,s===null)throw aa(i);return lh(s)?i.lanes=32:i.lanes=536870912,null}var _=u.children;return u=u.fallback,x?(da(),x=i.mode,_=Wo({mode:"hidden",children:_},x),u=Ka(u,x,o,null),_.return=i,u.return=i,_.sibling=u,i.child=_,u=i.child,u.memoizedState=ku(o),u.childLanes=Su(s,S,o),i.memoizedState=Nu,al(null,u)):(ca(i),Cu(i,_))}var q=s.memoizedState;if(q!==null&&(_=q.dehydrated,_!==null)){if(p)i.flags&256?(ca(i),i.flags&=-257,i=Mu(s,i,o)):i.memoizedState!==null?(da(),i.child=s.child,i.flags|=128,i=null):(da(),_=u.fallback,x=i.mode,u=Wo({mode:"visible",children:u.children},x),_=Ka(_,x,o,null),_.flags|=2,u.return=i,_.return=i,u.sibling=_,i.child=u,ai(i,s.child,null,o),u=i.child,u.memoizedState=ku(o),u.childLanes=Su(s,S,o),i.memoizedState=Nu,i=al(null,u));else if(ca(i),lh(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var le=S.dgst;S=le,u=Error(r(419)),u.stack="",u.digest=S,qr({value:u,source:null,stack:null}),i=Mu(s,i,o)}else if(Rt||Vi(s,i,o,!1),S=(o&s.childLanes)!==0,Rt||S){if(S=ht,S!==null&&(u=Ai(S,o),u!==0&&u!==q.retryLane))throw q.retryLane=u,Ga(s,u),vs(S,s,u),ju;rh(_)||Jo(),i=Mu(s,i,o)}else rh(_)?(i.flags|=192,i.child=s.child,i=null):(s=q.treeContext,ft=Vs(_.nextSibling),qt=i,Ye=!0,na=null,Us=!1,s!==null&&fm(i,s),i=Cu(i,u.children),i.flags|=4096);return i}return x?(da(),_=u.fallback,x=i.mode,q=s.child,le=q.sibling,u=kn(q,{mode:"hidden",children:u.children}),u.subtreeFlags=q.subtreeFlags&65011712,le!==null?_=kn(le,_):(_=Ka(_,x,o,null),_.flags|=2),_.return=i,u.return=i,u.sibling=_,i.child=u,al(null,u),u=i.child,_=s.child.memoizedState,_===null?_=ku(o):(x=_.cachePool,x!==null?(q=_t._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=vm(),_={baseLanes:_.baseLanes|o,cachePool:x}),u.memoizedState=_,u.childLanes=Su(s,S,o),i.memoizedState=Nu,al(s.child,u)):(ca(i),o=s.child,s=o.sibling,o=kn(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,s!==null&&(S=i.deletions,S===null?(i.deletions=[s],i.flags|=16):S.push(s)),i.child=o,i.memoizedState=null,o)}function Cu(s,i){return i=Wo({mode:"visible",children:i},s.mode),i.return=s,s.child=i}function Wo(s,i){return s=Ms(22,s,null,i),s.lanes=0,s}function Mu(s,i,o){return ai(i,s.child,null,o),s=Cu(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Tf(s,i,o){s.lanes|=i;var u=s.alternate;u!==null&&(u.lanes|=i),Fd(s.return,i,o)}function Lu(s,i,o,u,x,p){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:x,treeForkCount:p}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=x,S.treeForkCount=p)}function Of(s,i,o){var u=i.pendingProps,x=u.revealOrder,p=u.tail;u=u.children;var S=Mt.current,_=(S&2)!==0;if(_?(S=S&1|2,i.flags|=128):S&=1,ue(Mt,S),Qt(s,i,u,o),u=Ye?$r:0,!_&&s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Tf(s,o,i);else if(s.tag===19)Tf(s,o,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(x){case"forwards":for(o=i.child,x=null;o!==null;)s=o.alternate,s!==null&&Eo(s)===null&&(x=o),o=o.sibling;o=x,o===null?(x=i.child,i.child=null):(x=o.sibling,o.sibling=null),Lu(i,!1,x,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,x=i.child,i.child=null;x!==null;){if(s=x.alternate,s!==null&&Eo(s)===null){i.child=x;break}s=x.sibling,x.sibling=o,o=x,x=s}Lu(i,!0,o,null,p,u);break;case"together":Lu(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Dn(s,i,o){if(s!==null&&(i.dependencies=s.dependencies),ma|=i.lanes,(o&i.childLanes)===0)if(s!==null){if(Vi(s,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(s!==null&&i.child!==s.child)throw Error(r(153));if(i.child!==null){for(s=i.child,o=kn(s,s.pendingProps),i.child=o,o.return=i;s.sibling!==null;)s=s.sibling,o=o.sibling=kn(s,s.pendingProps),o.return=i;o.sibling=null}return i.child}function Au(s,i){return(s.lanes&i)!==0?!0:(s=s.dependencies,!!(s!==null&&ko(s)))}function r1(s,i,o){switch(i.tag){case 3:De(i,i.stateNode.containerInfo),ia(i,_t,s.memoizedState.cache),Za();break;case 27:case 5:te(i);break;case 4:De(i,i.stateNode.containerInfo);break;case 10:ia(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,eu(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ca(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Rf(s,i,o):(ca(i),s=Dn(s,i,o),s!==null?s.sibling:null);ca(i);break;case 19:var x=(s.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(Vi(s,i,o,!1),u=(o&i.childLanes)!==0),x){if(u)return Of(s,i,o);i.flags|=128}if(x=i.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ue(Mt,Mt.current),u)break;return null;case 22:return i.lanes=0,Mf(s,i,o,i.pendingProps);case 24:ia(i,_t,s.memoizedState.cache)}return Dn(s,i,o)}function zf(s,i,o){if(s!==null)if(s.memoizedProps!==i.pendingProps)Rt=!0;else{if(!Au(s,o)&&(i.flags&128)===0)return Rt=!1,r1(s,i,o);Rt=(s.flags&131072)!==0}else Rt=!1,Ye&&(i.flags&1048576)!==0&&mm(i,$r,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(s=si(i.elementType),i.type=s,typeof s=="function")Td(s)?(u=ri(s,u),i.tag=1,i=_f(null,i,s,u,o)):(i.tag=0,i=wu(null,i,s,u,o));else{if(s!=null){var x=s.$$typeof;if(x===Y){i.tag=11,i=kf(null,i,s,u,o);break e}else if(x===z){i.tag=14,i=Sf(null,i,s,u,o);break e}}throw i=$(s)||s,Error(r(306,i,""))}}return i;case 0:return wu(s,i,i.type,i.pendingProps,o);case 1:return u=i.type,x=ri(u,i.pendingProps),_f(s,i,u,x,o);case 3:e:{if(De(i,i.stateNode.containerInfo),s===null)throw Error(r(387));u=i.pendingProps;var p=i.memoizedState;x=p.element,Xd(s,i),Jr(i,u,null,o);var S=i.memoizedState;if(u=S.cache,ia(i,_t,u),u!==p.cache&&Vd(i,[_t],o,!0),Zr(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Ef(s,i,u,o);break e}else if(u!==x){x=Ps(Error(r(424)),i),qr(x),i=Ef(s,i,u,o);break e}else for(s=i.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ft=Vs(s.firstChild),qt=i,Ye=!0,na=null,Us=!0,o=Cm(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Za(),u===x){i=Dn(s,i,o);break e}Qt(s,i,u,o)}i=i.child}return i;case 26:return Vo(s,i),s===null?(o=Yx(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,s=i.pendingProps,u=rc(J.current).createElement(o),u[Ct]=i,u[Kt]=s,Xt(u,o,s),at(u),i.stateNode=u):i.memoizedState=Yx(i.type,s.memoizedProps,i.pendingProps,s.memoizedState),null;case 27:return te(i),s===null&&Ye&&(u=i.stateNode=Wx(i.type,i.pendingProps,J.current),qt=i,Us=!0,x=ft,ba(i.type)?(oh=x,ft=Vs(u.firstChild)):ft=x),Qt(s,i,i.pendingProps.children,o),Vo(s,i),s===null&&(i.flags|=4194304),i.child;case 5:return s===null&&Ye&&((x=u=ft)&&(u=z1(u,i.type,i.pendingProps,Us),u!==null?(i.stateNode=u,qt=i,ft=Vs(u.firstChild),Us=!1,x=!0):x=!1),x||aa(i)),te(i),x=i.type,p=i.pendingProps,S=s!==null?s.memoizedProps:null,u=p.children,nh(x,p)?u=null:S!==null&&nh(x,S)&&(i.flags|=32),i.memoizedState!==null&&(x=su(s,i,Ky,null,null,o),yl._currentValue=x),Vo(s,i),Qt(s,i,u,o),i.child;case 6:return s===null&&Ye&&((s=o=ft)&&(o=B1(o,i.pendingProps,Us),o!==null?(i.stateNode=o,qt=i,ft=null,s=!0):s=!1),s||aa(i)),null;case 13:return Rf(s,i,o);case 4:return De(i,i.stateNode.containerInfo),u=i.pendingProps,s===null?i.child=ai(i,null,u,o):Qt(s,i,u,o),i.child;case 11:return kf(s,i,i.type,i.pendingProps,o);case 7:return Qt(s,i,i.pendingProps,o),i.child;case 8:return Qt(s,i,i.pendingProps.children,o),i.child;case 12:return Qt(s,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,ia(i,i.type,u.value),Qt(s,i,u.children,o),i.child;case 9:return x=i.type._context,u=i.pendingProps.children,ei(i),x=Yt(x),u=u(x),i.flags|=1,Qt(s,i,u,o),i.child;case 14:return Sf(s,i,i.type,i.pendingProps,o);case 15:return Cf(s,i,i.type,i.pendingProps,o);case 19:return Of(s,i,o);case 31:return i1(s,i,o);case 22:return Mf(s,i,o,i.pendingProps);case 24:return ei(i),u=Yt(_t),s===null?(x=qd(),x===null&&(x=ht,p=Wd(),x.pooledCache=p,p.refCount++,p!==null&&(x.pooledCacheLanes|=o),x=p),i.memoizedState={parent:u,cache:x},Qd(i),ia(i,_t,x)):((s.lanes&o)!==0&&(Xd(s,i),Jr(i,null,null,o),Zr()),x=s.memoizedState,p=i.memoizedState,x.parent!==u?(x={parent:u,cache:u},i.memoizedState=x,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=x),ia(i,_t,u)):(u=p.cache,ia(i,_t,u),u!==x.cache&&Vd(i,[_t],o,!0))),Qt(s,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function _n(s){s.flags|=4}function Du(s,i,o,u,x){if((i=(s.mode&32)!==0)&&(i=!1),i){if(s.flags|=16777216,(x&335544128)===x)if(s.stateNode.complete)s.flags|=8192;else if(cx())s.flags|=8192;else throw ni=Lo,Yd}else s.flags&=-16777217}function Bf(s,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Zx(i))if(cx())s.flags|=8192;else throw ni=Lo,Yd}function $o(s,i){i!==null&&(s.flags|=4),s.flags&16384&&(i=s.tag!==22?Ua():536870912,s.lanes|=i,tr|=i)}function il(s,i){if(!Ye)switch(s.tailMode){case"hidden":i=s.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function xt(s){var i=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(i)for(var x=s.child;x!==null;)o|=x.lanes|x.childLanes,u|=x.subtreeFlags&65011712,u|=x.flags&65011712,x.return=s,x=x.sibling;else for(x=s.child;x!==null;)o|=x.lanes|x.childLanes,u|=x.subtreeFlags,u|=x.flags,x.return=s,x=x.sibling;return s.subtreeFlags|=u,s.childLanes=o,i}function l1(s,i,o){var u=i.pendingProps;switch(Pd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(i),null;case 1:return xt(i),null;case 3:return o=i.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Mn(_t),oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Fi(i)?_n(i):s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Hd())),xt(i),null;case 26:var x=i.type,p=i.memoizedState;return s===null?(_n(i),p!==null?(xt(i),Bf(i,p)):(xt(i),Du(i,x,null,u,o))):p?p!==s.memoizedState?(_n(i),xt(i),Bf(i,p)):(xt(i),i.flags&=-16777217):(s=s.memoizedProps,s!==u&&_n(i),xt(i),Du(i,x,s,u,o)),null;case 27:if(Ne(i),o=J.current,x=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&_n(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return xt(i),null}s=ge.current,Fi(i)?xm(i):(s=Wx(x,u,o),i.stateNode=s,_n(i))}return xt(i),null;case 5:if(Ne(i),x=i.type,s!==null&&i.stateNode!=null)s.memoizedProps!==u&&_n(i);else{if(!u){if(i.stateNode===null)throw Error(r(166));return xt(i),null}if(p=ge.current,Fi(i))xm(i);else{var S=rc(J.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?S.createElement(x,{is:u.is}):S.createElement(x)}}p[Ct]=i,p[Kt]=u;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=p;e:switch(Xt(p,x,u),x){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&_n(i)}}return xt(i),Du(i,i.type,s===null?null:s.memoizedProps,i.pendingProps,o),null;case 6:if(s&&i.stateNode!=null)s.memoizedProps!==u&&_n(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(r(166));if(s=J.current,Fi(i)){if(s=i.stateNode,o=i.memoizedProps,u=null,x=qt,x!==null)switch(x.tag){case 27:case 5:u=x.memoizedProps}s[Ct]=i,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Rx(s.nodeValue,o)),s||aa(i,!0)}else s=rc(s).createTextNode(u),s[Ct]=i,i.stateNode=s}return xt(i),null;case 31:if(o=i.memoizedState,s===null||s.memoizedState!==null){if(u=Fi(i),o!==null){if(s===null){if(!u)throw Error(r(318));if(s=i.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Ct]=i}else Za(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),s=!1}else o=Hd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return i.flags&256?(As(i),i):(As(i),null);if((i.flags&128)!==0)throw Error(r(558))}return xt(i),null;case 13:if(u=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(x=Fi(i),u!==null&&u.dehydrated!==null){if(s===null){if(!x)throw Error(r(318));if(x=i.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Ct]=i}else Za(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;xt(i),x=!1}else x=Hd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=x),x=!0;if(!x)return i.flags&256?(As(i),i):(As(i),null)}return As(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=i.child,x=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(x=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==x&&(u.flags|=2048)),o!==s&&o&&(i.child.flags|=8192),$o(i,i.updateQueue),xt(i),null);case 4:return oe(),s===null&&Zu(i.stateNode.containerInfo),xt(i),null;case 10:return Mn(i.type),xt(i),null;case 19:if(H(Mt),u=i.memoizedState,u===null)return xt(i),null;if(x=(i.flags&128)!==0,p=u.rendering,p===null)if(x)il(u,!1);else{if(St!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(p=Eo(s),p!==null){for(i.flags|=128,il(u,!1),s=p.updateQueue,i.updateQueue=s,$o(i,s),i.subtreeFlags=0,s=o,o=i.child;o!==null;)dm(o,s),o=o.sibling;return ue(Mt,Mt.current&1|2),Ye&&Sn(i,u.treeForkCount),i.child}s=s.sibling}u.tail!==null&&zt()>Go&&(i.flags|=128,x=!0,il(u,!1),i.lanes=4194304)}else{if(!x)if(s=Eo(p),s!==null){if(i.flags|=128,x=!0,s=s.updateQueue,i.updateQueue=s,$o(i,s),il(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ye)return xt(i),null}else 2*zt()-u.renderingStartTime>Go&&o!==536870912&&(i.flags|=128,x=!0,il(u,!1),i.lanes=4194304);u.isBackwards?(p.sibling=i.child,i.child=p):(s=u.last,s!==null?s.sibling=p:i.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=zt(),s.sibling=null,o=Mt.current,ue(Mt,x?o&1|2:o&1),Ye&&Sn(i,u.treeForkCount),s):(xt(i),null);case 22:case 23:return As(i),Jd(),u=i.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(xt(i),i.subtreeFlags&6&&(i.flags|=8192)):xt(i),o=i.updateQueue,o!==null&&$o(i,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),s!==null&&H(ti),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Mn(_t),xt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function o1(s,i){switch(Pd(i),i.tag){case 1:return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return Mn(_t),oe(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 26:case 27:case 5:return Ne(i),null;case 31:if(i.memoizedState!==null){if(As(i),i.alternate===null)throw Error(r(340));Za()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 13:if(As(i),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Za()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return H(Mt),null;case 4:return oe(),null;case 10:return Mn(i.type),null;case 22:case 23:return As(i),Jd(),s!==null&&H(ti),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 24:return Mn(_t),null;case 25:return null;default:return null}}function Pf(s,i){switch(Pd(i),i.tag){case 3:Mn(_t),oe();break;case 26:case 27:case 5:Ne(i);break;case 4:oe();break;case 31:i.memoizedState!==null&&As(i);break;case 13:As(i);break;case 19:H(Mt);break;case 10:Mn(i.type);break;case 22:case 23:As(i),Jd(),s!==null&&H(ti);break;case 24:Mn(_t)}}function rl(s,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var x=u.next;o=x;do{if((o.tag&s)===s){u=void 0;var p=o.create,S=o.inst;u=p(),S.destroy=u}o=o.next}while(o!==x)}}catch(_){rt(i,i.return,_)}}function ua(s,i,o){try{var u=i.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var p=x.next;u=p;do{if((u.tag&s)===s){var S=u.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,x=i;var q=o,le=_;try{le()}catch(pe){rt(x,q,pe)}}}u=u.next}while(u!==p)}}catch(pe){rt(i,i.return,pe)}}function If(s){var i=s.updateQueue;if(i!==null){var o=s.stateNode;try{Lm(i,o)}catch(u){rt(s,s.return,u)}}}function Hf(s,i,o){o.props=ri(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){rt(s,i,u)}}function ll(s,i){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(x){rt(s,i,x)}}function hn(s,i){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(x){rt(s,i,x)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(x){rt(s,i,x)}else o.current=null}function Uf(s){var i=s.type,o=s.memoizedProps,u=s.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(x){rt(s,s.return,x)}}function _u(s,i,o){try{var u=s.stateNode;D1(u,s.type,o,i),u[Kt]=i}catch(x){rt(s,s.return,x)}}function Ff(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ba(s.type)||s.tag===4}function Eu(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ff(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ba(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ru(s,i,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(s),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Le));else if(u!==4&&(u===27&&ba(s.type)&&(o=s.stateNode,i=null),s=s.child,s!==null))for(Ru(s,i,o),s=s.sibling;s!==null;)Ru(s,i,o),s=s.sibling}function qo(s,i,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,i?o.insertBefore(s,i):o.appendChild(s);else if(u!==4&&(u===27&&ba(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(qo(s,i,o),s=s.sibling;s!==null;)qo(s,i,o),s=s.sibling}function Vf(s){var i=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,x=i.attributes;x.length;)i.removeAttributeNode(x[0]);Xt(i,u,o),i[Ct]=s,i[Kt]=o}catch(p){rt(s,s.return,p)}}var En=!1,Tt=!1,Tu=!1,Wf=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function c1(s,i){if(s=s.containerInfo,th=mc,s=tm(s),Md(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var x=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,_=-1,q=-1,le=0,pe=0,we=s,ce=null;t:for(;;){for(var fe;we!==o||x!==0&&we.nodeType!==3||(_=S+x),we!==p||u!==0&&we.nodeType!==3||(q=S+u),we.nodeType===3&&(S+=we.nodeValue.length),(fe=we.firstChild)!==null;)ce=we,we=fe;for(;;){if(we===s)break t;if(ce===o&&++le===x&&(_=S),ce===p&&++pe===u&&(q=S),(fe=we.nextSibling)!==null)break;we=ce,ce=we.parentNode}we=fe}o=_===-1||q===-1?null:{start:_,end:q}}else o=null}o=o||{start:0,end:0}}else o=null;for(sh={focusedElem:s,selectionRange:o},mc=!1,Ht=i;Ht!==null;)if(i=Ht,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Ht=s;else for(;Ht!==null;){switch(i=Ht,p=i.alternate,s=i.flags,i.tag){case 0:if((s&4)!==0&&(s=i.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)x=s[o],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,o=i,x=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var _e=ri(o.type,x);s=u.getSnapshotBeforeUpdate(_e,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(Te){rt(o,o.return,Te)}}break;case 3:if((s&1024)!==0){if(s=i.stateNode.containerInfo,o=s.nodeType,o===9)ih(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ih(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=i.sibling,s!==null){s.return=i.return,Ht=s;break}Ht=i.return}}function $f(s,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tn(s,o),u&4&&rl(5,o);break;case 1:if(Tn(s,o),u&4)if(s=o.stateNode,i===null)try{s.componentDidMount()}catch(S){rt(o,o.return,S)}else{var x=ri(o.type,i.memoizedProps);i=i.memoizedState;try{s.componentDidUpdate(x,i,s.__reactInternalSnapshotBeforeUpdate)}catch(S){rt(o,o.return,S)}}u&64&&If(o),u&512&&ll(o,o.return);break;case 3:if(Tn(s,o),u&64&&(s=o.updateQueue,s!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Lm(s,i)}catch(S){rt(o,o.return,S)}}break;case 27:i===null&&u&4&&Vf(o);case 26:case 5:Tn(s,o),i===null&&u&4&&Uf(o),u&512&&ll(o,o.return);break;case 12:Tn(s,o);break;case 31:Tn(s,o),u&4&&Qf(s,o);break;case 13:Tn(s,o),u&4&&Xf(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=b1.bind(null,o),P1(s,o))));break;case 22:if(u=o.memoizedState!==null||En,!u){i=i!==null&&i.memoizedState!==null||Tt,x=En;var p=Tt;En=u,(Tt=i)&&!p?On(s,o,(o.subtreeFlags&8772)!==0):Tn(s,o),En=x,Tt=p}break;case 30:break;default:Tn(s,o)}}function qf(s){var i=s.alternate;i!==null&&(s.alternate=null,qf(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&Tr(i)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var bt=null,gs=!1;function Rn(s,i,o){for(o=o.child;o!==null;)Yf(s,i,o),o=o.sibling}function Yf(s,i,o){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Si,o)}catch{}switch(o.tag){case 26:Tt||hn(o,i),Rn(s,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Tt||hn(o,i);var u=bt,x=gs;ba(o.type)&&(bt=o.stateNode,gs=!1),Rn(s,i,o),gl(o.stateNode),bt=u,gs=x;break;case 5:Tt||hn(o,i);case 6:if(u=bt,x=gs,bt=null,Rn(s,i,o),bt=u,gs=x,bt!==null)if(gs)try{(bt.nodeType===9?bt.body:bt.nodeName==="HTML"?bt.ownerDocument.body:bt).removeChild(o.stateNode)}catch(p){rt(o,i,p)}else try{bt.removeChild(o.stateNode)}catch(p){rt(o,i,p)}break;case 18:bt!==null&&(gs?(s=bt,Ix(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),cr(s)):Ix(bt,o.stateNode));break;case 4:u=bt,x=gs,bt=o.stateNode.containerInfo,gs=!0,Rn(s,i,o),bt=u,gs=x;break;case 0:case 11:case 14:case 15:ua(2,o,i),Tt||ua(4,o,i),Rn(s,i,o);break;case 1:Tt||(hn(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Hf(o,i,u)),Rn(s,i,o);break;case 21:Rn(s,i,o);break;case 22:Tt=(u=Tt)||o.memoizedState!==null,Rn(s,i,o),Tt=u;break;default:Rn(s,i,o)}}function Qf(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{cr(s)}catch(o){rt(i,i.return,o)}}}function Xf(s,i){if(i.memoizedState===null&&(s=i.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{cr(s)}catch(o){rt(i,i.return,o)}}function d1(s){switch(s.tag){case 31:case 13:case 19:var i=s.stateNode;return i===null&&(i=s.stateNode=new Wf),i;case 22:return s=s.stateNode,i=s._retryCache,i===null&&(i=s._retryCache=new Wf),i;default:throw Error(r(435,s.tag))}}function Yo(s,i){var o=d1(s);i.forEach(function(u){if(!o.has(u)){o.add(u);var x=y1.bind(null,s,u);u.then(x,x)}})}function ps(s,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var x=o[u],p=s,S=i,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(ba(_.type)){bt=_.stateNode,gs=!1;break e}break;case 5:bt=_.stateNode,gs=!1;break e;case 3:case 4:bt=_.stateNode.containerInfo,gs=!0;break e}_=_.return}if(bt===null)throw Error(r(160));Yf(p,S,x),bt=null,gs=!1,p=x.alternate,p!==null&&(p.return=null),x.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Gf(i,s),i=i.sibling}var Js=null;function Gf(s,i){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ps(i,s),bs(s),u&4&&(ua(3,s,s.return),rl(3,s),ua(5,s,s.return));break;case 1:ps(i,s),bs(s),u&512&&(Tt||o===null||hn(o,o.return)),u&64&&En&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var x=Js;if(ps(i,s),bs(s),u&512&&(Tt||o===null||hn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){e:{u=s.type,o=s.memoizedProps,x=x.ownerDocument||x;t:switch(u){case"title":p=x.getElementsByTagName("title")[0],(!p||p[Gs]||p[Ct]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=x.createElement(u),x.head.insertBefore(p,x.querySelector("head > title"))),Xt(p,u,o),p[Ct]=s,at(p),u=p;break e;case"link":var S=Gx("link","href",x).get(u+(o.href||""));if(S){for(var _=0;_<S.length;_++)if(p=S[_],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(_,1);break t}}p=x.createElement(u),Xt(p,u,o),x.head.appendChild(p);break;case"meta":if(S=Gx("meta","content",x).get(u+(o.content||""))){for(_=0;_<S.length;_++)if(p=S[_],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(_,1);break t}}p=x.createElement(u),Xt(p,u,o),x.head.appendChild(p);break;default:throw Error(r(468,u))}p[Ct]=s,at(p),u=p}s.stateNode=u}else Kx(x,s.type,s.stateNode);else s.stateNode=Xx(x,u,s.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?Kx(x,s.type,s.stateNode):Xx(x,u,s.memoizedProps)):u===null&&s.stateNode!==null&&_u(s,s.memoizedProps,o.memoizedProps)}break;case 27:ps(i,s),bs(s),u&512&&(Tt||o===null||hn(o,o.return)),o!==null&&u&4&&_u(s,s.memoizedProps,o.memoizedProps);break;case 5:if(ps(i,s),bs(s),u&512&&(Tt||o===null||hn(o,o.return)),s.flags&32){x=s.stateNode;try{R(x,"")}catch(_e){rt(s,s.return,_e)}}u&4&&s.stateNode!=null&&(x=s.memoizedProps,_u(s,x,o!==null?o.memoizedProps:x)),u&1024&&(Tu=!0);break;case 6:if(ps(i,s),bs(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(_e){rt(s,s.return,_e)}}break;case 3:if(cc=null,x=Js,Js=lc(i.containerInfo),ps(i,s),Js=x,bs(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{cr(i.containerInfo)}catch(_e){rt(s,s.return,_e)}Tu&&(Tu=!1,Kf(s));break;case 4:u=Js,Js=lc(s.stateNode.containerInfo),ps(i,s),bs(s),Js=u;break;case 12:ps(i,s),bs(s);break;case 31:ps(i,s),bs(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yo(s,u)));break;case 13:ps(i,s),bs(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xo=zt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yo(s,u)));break;case 22:x=s.memoizedState!==null;var q=o!==null&&o.memoizedState!==null,le=En,pe=Tt;if(En=le||x,Tt=pe||q,ps(i,s),Tt=pe,En=le,bs(s),u&8192)e:for(i=s.stateNode,i._visibility=x?i._visibility&-2:i._visibility|1,x&&(o===null||q||En||Tt||li(s)),o=null,i=s;;){if(i.tag===5||i.tag===26){if(o===null){q=o=i;try{if(p=q.stateNode,x)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=q.stateNode;var we=q.memoizedProps.style,ce=we!=null&&we.hasOwnProperty("display")?we.display:null;_.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(_e){rt(q,q.return,_e)}}}else if(i.tag===6){if(o===null){q=i;try{q.stateNode.nodeValue=x?"":q.memoizedProps}catch(_e){rt(q,q.return,_e)}}}else if(i.tag===18){if(o===null){q=i;try{var fe=q.stateNode;x?Hx(fe,!0):Hx(q.stateNode,!1)}catch(_e){rt(q,q.return,_e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===s)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Yo(s,o))));break;case 19:ps(i,s),bs(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yo(s,u)));break;case 30:break;case 21:break;default:ps(i,s),bs(s)}}function bs(s){var i=s.flags;if(i&2){try{for(var o,u=s.return;u!==null;){if(Ff(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var x=o.stateNode,p=Eu(s);qo(s,p,x);break;case 5:var S=o.stateNode;o.flags&32&&(R(S,""),o.flags&=-33);var _=Eu(s);qo(s,_,S);break;case 3:case 4:var q=o.stateNode.containerInfo,le=Eu(s);Ru(s,le,q);break;default:throw Error(r(161))}}catch(pe){rt(s,s.return,pe)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function Kf(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var i=s;Kf(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),s=s.sibling}}function Tn(s,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)$f(s,i.alternate,i),i=i.sibling}function li(s){for(s=s.child;s!==null;){var i=s;switch(i.tag){case 0:case 11:case 14:case 15:ua(4,i,i.return),li(i);break;case 1:hn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Hf(i,i.return,o),li(i);break;case 27:gl(i.stateNode);case 26:case 5:hn(i,i.return),li(i);break;case 22:i.memoizedState===null&&li(i);break;case 30:li(i);break;default:li(i)}s=s.sibling}}function On(s,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,x=s,p=i,S=p.flags;switch(p.tag){case 0:case 11:case 15:On(x,p,o),rl(4,p);break;case 1:if(On(x,p,o),u=p,x=u.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(le){rt(u,u.return,le)}if(u=p,x=u.updateQueue,x!==null){var _=u.stateNode;try{var q=x.shared.hiddenCallbacks;if(q!==null)for(x.shared.hiddenCallbacks=null,x=0;x<q.length;x++)Mm(q[x],_)}catch(le){rt(u,u.return,le)}}o&&S&64&&If(p),ll(p,p.return);break;case 27:Vf(p);case 26:case 5:On(x,p,o),o&&u===null&&S&4&&Uf(p),ll(p,p.return);break;case 12:On(x,p,o);break;case 31:On(x,p,o),o&&S&4&&Qf(x,p);break;case 13:On(x,p,o),o&&S&4&&Xf(x,p);break;case 22:p.memoizedState===null&&On(x,p,o),ll(p,p.return);break;case 30:break;default:On(x,p,o)}i=i.sibling}}function Ou(s,i){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Yr(o))}function zu(s,i){s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Yr(s))}function en(s,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zf(s,i,o,u),i=i.sibling}function Zf(s,i,o,u){var x=i.flags;switch(i.tag){case 0:case 11:case 15:en(s,i,o,u),x&2048&&rl(9,i);break;case 1:en(s,i,o,u);break;case 3:en(s,i,o,u),x&2048&&(s=null,i.alternate!==null&&(s=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==s&&(i.refCount++,s!=null&&Yr(s)));break;case 12:if(x&2048){en(s,i,o,u),s=i.stateNode;try{var p=i.memoizedProps,S=p.id,_=p.onPostCommit;typeof _=="function"&&_(S,i.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(q){rt(i,i.return,q)}}else en(s,i,o,u);break;case 31:en(s,i,o,u);break;case 13:en(s,i,o,u);break;case 23:break;case 22:p=i.stateNode,S=i.alternate,i.memoizedState!==null?p._visibility&2?en(s,i,o,u):ol(s,i):p._visibility&2?en(s,i,o,u):(p._visibility|=2,Zi(s,i,o,u,(i.subtreeFlags&10256)!==0||!1)),x&2048&&Ou(S,i);break;case 24:en(s,i,o,u),x&2048&&zu(i.alternate,i);break;default:en(s,i,o,u)}}function Zi(s,i,o,u,x){for(x=x&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var p=s,S=i,_=o,q=u,le=S.flags;switch(S.tag){case 0:case 11:case 15:Zi(p,S,_,q,x),rl(8,S);break;case 23:break;case 22:var pe=S.stateNode;S.memoizedState!==null?pe._visibility&2?Zi(p,S,_,q,x):ol(p,S):(pe._visibility|=2,Zi(p,S,_,q,x)),x&&le&2048&&Ou(S.alternate,S);break;case 24:Zi(p,S,_,q,x),x&&le&2048&&zu(S.alternate,S);break;default:Zi(p,S,_,q,x)}i=i.sibling}}function ol(s,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=s,u=i,x=u.flags;switch(u.tag){case 22:ol(o,u),x&2048&&Ou(u.alternate,u);break;case 24:ol(o,u),x&2048&&zu(u.alternate,u);break;default:ol(o,u)}i=i.sibling}}var cl=8192;function Ji(s,i,o){if(s.subtreeFlags&cl)for(s=s.child;s!==null;)Jf(s,i,o),s=s.sibling}function Jf(s,i,o){switch(s.tag){case 26:Ji(s,i,o),s.flags&cl&&s.memoizedState!==null&&G1(o,Js,s.memoizedState,s.memoizedProps);break;case 5:Ji(s,i,o);break;case 3:case 4:var u=Js;Js=lc(s.stateNode.containerInfo),Ji(s,i,o),Js=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=cl,cl=16777216,Ji(s,i,o),cl=u):Ji(s,i,o));break;default:Ji(s,i,o)}}function ex(s){var i=s.alternate;if(i!==null&&(s=i.child,s!==null)){i.child=null;do i=s.sibling,s.sibling=null,s=i;while(s!==null)}}function dl(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ht=u,sx(u,s)}ex(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)tx(s),s=s.sibling}function tx(s){switch(s.tag){case 0:case 11:case 15:dl(s),s.flags&2048&&ua(9,s,s.return);break;case 3:dl(s);break;case 12:dl(s);break;case 22:var i=s.stateNode;s.memoizedState!==null&&i._visibility&2&&(s.return===null||s.return.tag!==13)?(i._visibility&=-3,Qo(s)):dl(s);break;default:dl(s)}}function Qo(s){var i=s.deletions;if((s.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ht=u,sx(u,s)}ex(s)}for(s=s.child;s!==null;){switch(i=s,i.tag){case 0:case 11:case 15:ua(8,i,i.return),Qo(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Qo(i));break;default:Qo(i)}s=s.sibling}}function sx(s,i){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:ua(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=s;Ht!==null;){u=Ht;var x=u.sibling,p=u.return;if(qf(u),u===o){Ht=null;break e}if(x!==null){x.return=p,Ht=x;break e}Ht=p}}}var u1={getCacheForType:function(s){var i=Yt(_t),o=i.data.get(s);return o===void 0&&(o=s(),i.data.set(s,o)),o},cacheSignal:function(){return Yt(_t).controller.signal}},h1=typeof WeakMap=="function"?WeakMap:Map,tt=0,ht=null,Fe=null,We=0,it=0,Ds=null,ha=!1,er=!1,Bu=!1,zn=0,St=0,ma=0,oi=0,Pu=0,_s=0,tr=0,ul=null,ys=null,Iu=!1,Xo=0,nx=0,Go=1/0,Ko=null,fa=null,Bt=0,xa=null,sr=null,Bn=0,Hu=0,Uu=null,ax=null,hl=0,Fu=null;function Es(){return(tt&2)!==0&&We!==0?We&-We:P.T!==null?Qu():_r()}function ix(){if(_s===0)if((We&536870912)===0||Ye){var s=wn;wn<<=1,(wn&3932160)===0&&(wn=262144),_s=s}else _s=536870912;return s=Ls.current,s!==null&&(s.flags|=32),_s}function vs(s,i,o){(s===ht&&(it===2||it===9)||s.cancelPendingCommit!==null)&&(nr(s,0),ga(s,We,_s,!1)),ln(s,o),((tt&2)===0||s!==ht)&&(s===ht&&((tt&2)===0&&(oi|=o),St===4&&ga(s,We,_s,!1)),mn(s))}function rx(s,i,o){if((tt&6)!==0)throw Error(r(327));var u=!o&&(i&127)===0&&(i&s.expiredLanes)===0||Li(s,i),x=u?x1(s,i):Wu(s,i,!0),p=u;do{if(x===0){er&&!u&&ga(s,i,0,!1);break}else{if(o=s.current.alternate,p&&!m1(o)){x=Wu(s,i,!1),p=!1;continue}if(x===2){if(p=i,s.errorRecoveryDisabledLanes&p)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var _=s;x=ul;var q=_.current.memoizedState.isDehydrated;if(q&&(nr(_,S).flags|=256),S=Wu(_,S,!1),S!==2){if(Bu&&!q){_.errorRecoveryDisabledLanes|=p,oi|=p,x=4;break e}p=ys,ys=x,p!==null&&(ys===null?ys=p:ys.push.apply(ys,p))}x=S}if(p=!1,x!==2)continue}}if(x===1){nr(s,0),ga(s,i,0,!0);break}e:{switch(u=s,p=x,p){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ga(u,i,_s,!ha);break e;case 2:ys=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(x=Xo+300-zt(),10<x)){if(ga(u,i,_s,!ha),Mi(u,0,!0)!==0)break e;Bn=i,u.timeoutHandle=Bx(lx.bind(null,u,o,ys,Ko,Iu,i,_s,oi,tr,ha,p,"Throttled",-0,0),x);break e}lx(u,o,ys,Ko,Iu,i,_s,oi,tr,ha,p,null,-0,0)}}break}while(!0);mn(s)}function lx(s,i,o,u,x,p,S,_,q,le,pe,we,ce,fe){if(s.timeoutHandle=-1,we=i.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Le},Jf(i,p,we);var _e=(p&62914560)===p?Xo-zt():(p&4194048)===p?nx-zt():0;if(_e=K1(we,_e),_e!==null){Bn=p,s.cancelPendingCommit=_e(xx.bind(null,s,i,p,o,u,x,S,_,q,pe,we,null,ce,fe)),ga(s,p,S,!le);return}}xx(s,i,p,o,u,x,S,_,q)}function m1(s){for(var i=s;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var x=o[u],p=x.getSnapshot;x=x.value;try{if(!Cs(p(),x))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ga(s,i,o,u){i&=~Pu,i&=~oi,s.suspendedLanes|=i,s.pingedLanes&=~i,u&&(s.warmLanes|=i),u=s.expirationTimes;for(var x=i;0<x;){var p=31-us(x),S=1<<p;u[p]=-1,x&=~S}o!==0&&Fa(s,o,i)}function Zo(){return(tt&6)===0?(ml(0),!1):!0}function Vu(){if(Fe!==null){if(it===0)var s=Fe.return;else s=Fe,Cn=Ja=null,iu(s),Yi=null,Xr=0,s=Fe;for(;s!==null;)Pf(s.alternate,s),s=s.return;Fe=null}}function nr(s,i){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,R1(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Bn=0,Vu(),ht=s,Fe=o=kn(s.current,null),We=i,it=0,Ds=null,ha=!1,er=Li(s,i),Bu=!1,tr=_s=Pu=oi=ma=St=0,ys=ul=null,Iu=!1,(i&8)!==0&&(i|=i&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=i;0<u;){var x=31-us(u),p=1<<x;i|=s[x],u&=~p}return zn=i,yo(),o}function ox(s,i){Be=null,P.H=nl,i===qi||i===Mo?(i=Nm(),it=3):i===Yd?(i=Nm(),it=4):it=i===ju?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ds=i,Fe===null&&(St=1,Uo(s,Ps(i,s.current)))}function cx(){var s=Ls.current;return s===null?!0:(We&4194048)===We?Fs===null:(We&62914560)===We||(We&536870912)!==0?s===Fs:!1}function dx(){var s=P.H;return P.H=nl,s===null?nl:s}function ux(){var s=P.A;return P.A=u1,s}function Jo(){St=4,ha||(We&4194048)!==We&&Ls.current!==null||(er=!0),(ma&134217727)===0&&(oi&134217727)===0||ht===null||ga(ht,We,_s,!1)}function Wu(s,i,o){var u=tt;tt|=2;var x=dx(),p=ux();(ht!==s||We!==i)&&(Ko=null,nr(s,i)),i=!1;var S=St;e:do try{if(it!==0&&Fe!==null){var _=Fe,q=Ds;switch(it){case 8:Vu(),S=6;break e;case 3:case 2:case 9:case 6:Ls.current===null&&(i=!0);var le=it;if(it=0,Ds=null,ar(s,_,q,le),o&&er){S=0;break e}break;default:le=it,it=0,Ds=null,ar(s,_,q,le)}}f1(),S=St;break}catch(pe){ox(s,pe)}while(!0);return i&&s.shellSuspendCounter++,Cn=Ja=null,tt=u,P.H=x,P.A=p,Fe===null&&(ht=null,We=0,yo()),S}function f1(){for(;Fe!==null;)hx(Fe)}function x1(s,i){var o=tt;tt|=2;var u=dx(),x=ux();ht!==s||We!==i?(Ko=null,Go=zt()+500,nr(s,i)):er=Li(s,i);e:do try{if(it!==0&&Fe!==null){i=Fe;var p=Ds;t:switch(it){case 1:it=0,Ds=null,ar(s,i,p,1);break;case 2:case 9:if(jm(p)){it=0,Ds=null,mx(i);break}i=function(){it!==2&&it!==9||ht!==s||(it=7),mn(s)},p.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:jm(p)?(it=0,Ds=null,mx(i)):(it=0,Ds=null,ar(s,i,p,7));break;case 5:var S=null;switch(Fe.tag){case 26:S=Fe.memoizedState;case 5:case 27:var _=Fe;if(S?Zx(S):_.stateNode.complete){it=0,Ds=null;var q=_.sibling;if(q!==null)Fe=q;else{var le=_.return;le!==null?(Fe=le,ec(le)):Fe=null}break t}}it=0,Ds=null,ar(s,i,p,5);break;case 6:it=0,Ds=null,ar(s,i,p,6);break;case 8:Vu(),St=6;break e;default:throw Error(r(462))}}g1();break}catch(pe){ox(s,pe)}while(!0);return Cn=Ja=null,P.H=u,P.A=x,tt=o,Fe!==null?0:(ht=null,We=0,yo(),St)}function g1(){for(;Fe!==null&&!Ia();)hx(Fe)}function hx(s){var i=zf(s.alternate,s,zn);s.memoizedProps=s.pendingProps,i===null?ec(s):Fe=i}function mx(s){var i=s,o=i.alternate;switch(i.tag){case 15:case 0:i=Df(o,i,i.pendingProps,i.type,void 0,We);break;case 11:i=Df(o,i,i.pendingProps,i.type.render,i.ref,We);break;case 5:iu(i);default:Pf(o,i),i=Fe=dm(i,zn),i=zf(o,i,zn)}s.memoizedProps=s.pendingProps,i===null?ec(s):Fe=i}function ar(s,i,o,u){Cn=Ja=null,iu(i),Yi=null,Xr=0;var x=i.return;try{if(a1(s,x,i,o,We)){St=1,Uo(s,Ps(o,s.current)),Fe=null;return}}catch(p){if(x!==null)throw Fe=x,p;St=1,Uo(s,Ps(o,s.current)),Fe=null;return}i.flags&32768?(Ye||u===1?s=!0:er||(We&536870912)!==0?s=!1:(ha=s=!0,(u===2||u===9||u===3||u===6)&&(u=Ls.current,u!==null&&u.tag===13&&(u.flags|=16384))),fx(i,s)):ec(i)}function ec(s){var i=s;do{if((i.flags&32768)!==0){fx(i,ha);return}s=i.return;var o=l1(i.alternate,i,zn);if(o!==null){Fe=o;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=s}while(i!==null);St===0&&(St=5)}function fx(s,i){do{var o=o1(s.alternate,s);if(o!==null){o.flags&=32767,Fe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(s=s.sibling,s!==null)){Fe=s;return}Fe=s=o}while(s!==null);St=6,Fe=null}function xx(s,i,o,u,x,p,S,_,q){s.cancelPendingCommit=null;do tc();while(Bt!==0);if((tt&6)!==0)throw Error(r(327));if(i!==null){if(i===s.current)throw Error(r(177));if(p=i.lanes|i.childLanes,p|=Ed,no(s,o,p,S,_,q),s===ht&&(Fe=ht=null,We=0),sr=i,xa=s,Bn=o,Hu=p,Uu=x,ax=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,v1(et,function(){return vx(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=P.T,P.T=null,x=X.p,X.p=2,S=tt,tt|=4;try{c1(s,i,o)}finally{tt=S,X.p=x,P.T=u}}Bt=1,gx(),px(),bx()}}function gx(){if(Bt===1){Bt=0;var s=xa,i=sr,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=P.T,P.T=null;var u=X.p;X.p=2;var x=tt;tt|=4;try{Gf(i,s);var p=sh,S=tm(s.containerInfo),_=p.focusedElem,q=p.selectionRange;if(S!==_&&_&&_.ownerDocument&&em(_.ownerDocument.documentElement,_)){if(q!==null&&Md(_)){var le=q.start,pe=q.end;if(pe===void 0&&(pe=le),"selectionStart"in _)_.selectionStart=le,_.selectionEnd=Math.min(pe,_.value.length);else{var we=_.ownerDocument||document,ce=we&&we.defaultView||window;if(ce.getSelection){var fe=ce.getSelection(),_e=_.textContent.length,Te=Math.min(q.start,_e),dt=q.end===void 0?Te:Math.min(q.end,_e);!fe.extend&&Te>dt&&(S=dt,dt=Te,Te=S);var ee=J0(_,Te),Q=J0(_,dt);if(ee&&Q&&(fe.rangeCount!==1||fe.anchorNode!==ee.node||fe.anchorOffset!==ee.offset||fe.focusNode!==Q.node||fe.focusOffset!==Q.offset)){var ae=we.createRange();ae.setStart(ee.node,ee.offset),fe.removeAllRanges(),Te>dt?(fe.addRange(ae),fe.extend(Q.node,Q.offset)):(ae.setEnd(Q.node,Q.offset),fe.addRange(ae))}}}}for(we=[],fe=_;fe=fe.parentNode;)fe.nodeType===1&&we.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<we.length;_++){var ve=we[_];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}mc=!!th,sh=th=null}finally{tt=x,X.p=u,P.T=o}}s.current=i,Bt=2}}function px(){if(Bt===2){Bt=0;var s=xa,i=sr,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=P.T,P.T=null;var u=X.p;X.p=2;var x=tt;tt|=4;try{$f(s,i.alternate,i)}finally{tt=x,X.p=u,P.T=o}}Bt=3}}function bx(){if(Bt===4||Bt===3){Bt=0,Cr();var s=xa,i=sr,o=Bn,u=ax;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Bt=5:(Bt=0,sr=xa=null,yx(s,s.pendingLanes));var x=s.pendingLanes;if(x===0&&(fa=null),Dr(o),i=i.stateNode,ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Si,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=P.T,x=X.p,X.p=2,P.T=null;try{for(var p=s.onRecoverableError,S=0;S<u.length;S++){var _=u[S];p(_.value,{componentStack:_.stack})}}finally{P.T=i,X.p=x}}(Bn&3)!==0&&tc(),mn(s),x=s.pendingLanes,(o&261930)!==0&&(x&42)!==0?s===Fu?hl++:(hl=0,Fu=s):hl=0,ml(0)}}function yx(s,i){(s.pooledCacheLanes&=i)===0&&(i=s.pooledCache,i!=null&&(s.pooledCache=null,Yr(i)))}function tc(){return gx(),px(),bx(),vx()}function vx(){if(Bt!==5)return!1;var s=xa,i=Hu;Hu=0;var o=Dr(Bn),u=P.T,x=X.p;try{X.p=32>o?32:o,P.T=null,o=Uu,Uu=null;var p=xa,S=Bn;if(Bt=0,sr=xa=null,Bn=0,(tt&6)!==0)throw Error(r(331));var _=tt;if(tt|=4,tx(p.current),Zf(p,p.current,S,o),tt=_,ml(0,!1),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Si,p)}catch{}return!0}finally{X.p=x,P.T=u,yx(s,i)}}function jx(s,i,o){i=Ps(o,i),i=vu(s.stateNode,i,2),s=oa(s,i,2),s!==null&&(ln(s,2),mn(s))}function rt(s,i,o){if(s.tag===3)jx(s,s,o);else for(;i!==null;){if(i.tag===3){jx(i,s,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fa===null||!fa.has(u))){s=Ps(o,s),o=wf(2),u=oa(i,o,2),u!==null&&(Nf(o,u,i,s),ln(u,2),mn(u));break}}i=i.return}}function $u(s,i,o){var u=s.pingCache;if(u===null){u=s.pingCache=new h1;var x=new Set;u.set(i,x)}else x=u.get(i),x===void 0&&(x=new Set,u.set(i,x));x.has(o)||(Bu=!0,x.add(o),s=p1.bind(null,s,i,o),i.then(s,s))}function p1(s,i,o){var u=s.pingCache;u!==null&&u.delete(i),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,ht===s&&(We&o)===o&&(St===4||St===3&&(We&62914560)===We&&300>zt()-Xo?(tt&2)===0&&nr(s,0):Pu|=o,tr===We&&(tr=0)),mn(s)}function wx(s,i){i===0&&(i=Ua()),s=Ga(s,i),s!==null&&(ln(s,i),mn(s))}function b1(s){var i=s.memoizedState,o=0;i!==null&&(o=i.retryLane),wx(s,o)}function y1(s,i){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,x=s.memoizedState;x!==null&&(o=x.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(i),wx(s,o)}function v1(s,i){return rn(s,i)}var sc=null,ir=null,qu=!1,nc=!1,Yu=!1,pa=0;function mn(s){s!==ir&&s.next===null&&(ir===null?sc=ir=s:ir=ir.next=s),nc=!0,qu||(qu=!0,w1())}function ml(s,i){if(!Yu&&nc){Yu=!0;do for(var o=!1,u=sc;u!==null;){if(s!==0){var x=u.pendingLanes;if(x===0)var p=0;else{var S=u.suspendedLanes,_=u.pingedLanes;p=(1<<31-us(42|s)+1)-1,p&=x&~(S&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Cx(u,p))}else p=We,p=Mi(u,u===ht?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Li(u,p)||(o=!0,Cx(u,p));u=u.next}while(o);Yu=!1}}function j1(){Nx()}function Nx(){nc=qu=!1;var s=0;pa!==0&&E1()&&(s=pa);for(var i=zt(),o=null,u=sc;u!==null;){var x=u.next,p=kx(u,i);p===0?(u.next=null,o===null?sc=x:o.next=x,x===null&&(ir=o)):(o=u,(s!==0||(p&3)!==0)&&(nc=!0)),u=x}Bt!==0&&Bt!==5||ml(s),pa!==0&&(pa=0)}function kx(s,i){for(var o=s.suspendedLanes,u=s.pingedLanes,x=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var S=31-us(p),_=1<<S,q=x[S];q===-1?((_&o)===0||(_&u)!==0)&&(x[S]=so(_,i)):q<=i&&(s.expiredLanes|=_),p&=~_}if(i=ht,o=We,o=Mi(s,s===i?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===i&&(it===2||it===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Gt(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||Li(s,o)){if(i=o&-o,i===s.callbackPriority)return i;switch(u!==null&&Gt(u),Dr(o)){case 2:case 8:o=Ce;break;case 32:o=et;break;case 268435456:o=Ha;break;default:o=et}return u=Sx.bind(null,s),o=rn(o,u),s.callbackPriority=i,s.callbackNode=o,i}return u!==null&&u!==null&&Gt(u),s.callbackPriority=2,s.callbackNode=null,2}function Sx(s,i){if(Bt!==0&&Bt!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(tc()&&s.callbackNode!==o)return null;var u=We;return u=Mi(s,s===ht?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(rx(s,u,i),kx(s,zt()),s.callbackNode!=null&&s.callbackNode===o?Sx.bind(null,s):null)}function Cx(s,i){if(tc())return null;rx(s,i,!0)}function w1(){T1(function(){(tt&6)!==0?rn(ke,j1):Nx()})}function Qu(){if(pa===0){var s=Wi;s===0&&(s=Qn,Qn<<=1,(Qn&261888)===0&&(Qn=256)),pa=s}return pa}function Mx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:re(""+s)}function Lx(s,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,s.id&&o.setAttribute("form",s.id),i.parentNode.insertBefore(o,i),s=new FormData(s),o.parentNode.removeChild(o),s}function N1(s,i,o,u,x){if(i==="submit"&&o&&o.stateNode===x){var p=Mx((x[Kt]||null).action),S=u.submitter;S&&(i=(i=S[Kt]||null)?Mx(i.formAction):S.getAttribute("formAction"),i!==null&&(p=i,S=null));var _=new xo("action","action",null,u,x);s.push({event:_,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(pa!==0){var q=S?Lx(x,S):new FormData(x);fu(o,{pending:!0,data:q,method:x.method,action:p},null,q)}}else typeof p=="function"&&(_.preventDefault(),q=S?Lx(x,S):new FormData(x),fu(o,{pending:!0,data:q,method:x.method,action:p},p,q))},currentTarget:x}]})}}for(var Xu=0;Xu<_d.length;Xu++){var Gu=_d[Xu],k1=Gu.toLowerCase(),S1=Gu[0].toUpperCase()+Gu.slice(1);Zs(k1,"on"+S1)}Zs(am,"onAnimationEnd"),Zs(im,"onAnimationIteration"),Zs(rm,"onAnimationStart"),Zs("dblclick","onDoubleClick"),Zs("focusin","onFocus"),Zs("focusout","onBlur"),Zs(Uy,"onTransitionRun"),Zs(Fy,"onTransitionStart"),Zs(Vy,"onTransitionCancel"),Zs(lm,"onTransitionEnd"),Ks("onMouseEnter",["mouseout","mouseover"]),Ks("onMouseLeave",["mouseout","mouseover"]),Ks("onPointerEnter",["pointerout","pointerover"]),Ks("onPointerLeave",["pointerout","pointerover"]),pt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pt("onBeforeInput",["compositionend","keypress","textInput","paste"]),pt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function Ax(s,i){i=(i&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],x=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var S=u.length-1;0<=S;S--){var _=u[S],q=_.instance,le=_.currentTarget;if(_=_.listener,q!==p&&x.isPropagationStopped())break e;p=_,x.currentTarget=le;try{p(x)}catch(pe){bo(pe)}x.currentTarget=null,p=q}else for(S=0;S<u.length;S++){if(_=u[S],q=_.instance,le=_.currentTarget,_=_.listener,q!==p&&x.isPropagationStopped())break e;p=_,x.currentTarget=le;try{p(x)}catch(pe){bo(pe)}x.currentTarget=null,p=q}}}}function Ve(s,i){var o=i[Er];o===void 0&&(o=i[Er]=new Set);var u=s+"__bubble";o.has(u)||(Dx(i,s,2,!1),o.add(u))}function Ku(s,i,o){var u=0;i&&(u|=4),Dx(o,s,u,i)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Zu(s){if(!s[ac]){s[ac]=!0,ao.forEach(function(o){o!=="selectionchange"&&(C1.has(o)||Ku(o,!1,s),Ku(o,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ac]||(i[ac]=!0,Ku("selectionchange",!1,i))}}function Dx(s,i,o,u){switch(ig(i)){case 2:var x=ev;break;case 8:x=tv;break;default:x=mh}o=x.bind(null,i,o,s),x=void 0,!Ti||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(x=!0),u?x!==void 0?s.addEventListener(i,o,{capture:!0,passive:x}):s.addEventListener(i,o,!0):x!==void 0?s.addEventListener(i,o,{passive:x}):s.addEventListener(i,o,!1)}function Ju(s,i,o,u,x){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var _=u.stateNode.containerInfo;if(_===x)break;if(S===4)for(S=u.return;S!==null;){var q=S.tag;if((q===3||q===4)&&S.stateNode.containerInfo===x)return;S=S.return}for(;_!==null;){if(S=Gn(_),S===null)return;if(q=S.tag,q===5||q===6||q===26||q===27){u=p=S;continue e}_=_.parentNode}}u=u.return}Zt(function(){var le=p,pe=Ge(o),we=[];e:{var ce=om.get(s);if(ce!==void 0){var fe=xo,_e=s;switch(s){case"keypress":if(mo(o)===0)break e;case"keydown":case"keyup":fe=yy;break;case"focusin":_e="focus",fe=wd;break;case"focusout":_e="blur",fe=wd;break;case"beforeblur":case"afterblur":fe=wd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=B0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=ly;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=wy;break;case am:case im:case rm:fe=dy;break;case lm:fe=ky;break;case"scroll":case"scrollend":fe=iy;break;case"wheel":fe=Cy;break;case"copy":case"cut":case"paste":fe=hy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=I0;break;case"toggle":case"beforetoggle":fe=Ly}var Te=(i&4)!==0,dt=!Te&&(s==="scroll"||s==="scrollend"),ee=Te?ce!==null?ce+"Capture":null:ce;Te=[];for(var Q=le,ae;Q!==null;){var ve=Q;if(ae=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ae===null||ee===null||(ve=Qe(Q,ee),ve!=null&&Te.push(xl(Q,ve,ae))),dt)break;Q=Q.return}0<Te.length&&(ce=new fe(ce,_e,null,o,pe),we.push({event:ce,listeners:Te}))}}if((i&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ce&&o!==Ue&&(_e=o.relatedTarget||o.fromElement)&&(Gn(_e)||_e[hs]))break e;if((fe||ce)&&(ce=pe.window===pe?pe:(ce=pe.ownerDocument)?ce.defaultView||ce.parentWindow:window,fe?(_e=o.relatedTarget||o.toElement,fe=le,_e=_e?Gn(_e):null,_e!==null&&(dt=c(_e),Te=_e.tag,_e!==dt||Te!==5&&Te!==27&&Te!==6)&&(_e=null)):(fe=null,_e=le),fe!==_e)){if(Te=B0,ve="onMouseLeave",ee="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Te=I0,ve="onPointerLeave",ee="onPointerEnter",Q="pointer"),dt=fe==null?ce:Wa(fe),ae=_e==null?ce:Wa(_e),ce=new Te(ve,Q+"leave",fe,o,pe),ce.target=dt,ce.relatedTarget=ae,ve=null,Gn(pe)===le&&(Te=new Te(ee,Q+"enter",_e,o,pe),Te.target=ae,Te.relatedTarget=dt,ve=Te),dt=ve,fe&&_e)t:{for(Te=M1,ee=fe,Q=_e,ae=0,ve=ee;ve;ve=Te(ve))ae++;ve=0;for(var Re=Q;Re;Re=Te(Re))ve++;for(;0<ae-ve;)ee=Te(ee),ae--;for(;0<ve-ae;)Q=Te(Q),ve--;for(;ae--;){if(ee===Q||Q!==null&&ee===Q.alternate){Te=ee;break t}ee=Te(ee),Q=Te(Q)}Te=null}else Te=null;fe!==null&&_x(we,ce,fe,Te,!1),_e!==null&&dt!==null&&_x(we,dt,_e,Te,!0)}}e:{if(ce=le?Wa(le):window,fe=ce.nodeName&&ce.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ce.type==="file")var Ze=Y0;else if($0(ce))if(Q0)Ze=Py;else{Ze=zy;var Ee=Oy}else fe=ce.nodeName,!fe||fe.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?le&&xe(le.elementType)&&(Ze=Y0):Ze=By;if(Ze&&(Ze=Ze(s,le))){q0(we,Ze,o,pe);break e}Ee&&Ee(s,ce,le),s==="focusout"&&le&&ce.type==="number"&&le.memoizedProps.value!=null&&zr(ce,"number",ce.value)}switch(Ee=le?Wa(le):window,s){case"focusin":($0(Ee)||Ee.contentEditable==="true")&&(zi=Ee,Ld=le,Wr=null);break;case"focusout":Wr=Ld=zi=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,sm(we,o,pe);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":sm(we,o,pe)}var Ie;if(kd)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Oi?V0(s,o)&&($e="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(H0&&o.locale!=="ko"&&(Oi||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Oi&&(Ie=O0()):(ta=pe,yd="value"in ta?ta.value:ta.textContent,Oi=!0)),Ee=ic(le,$e),0<Ee.length&&($e=new P0($e,s,null,o,pe),we.push({event:$e,listeners:Ee}),Ie?$e.data=Ie:(Ie=W0(o),Ie!==null&&($e.data=Ie)))),(Ie=Dy?_y(s,o):Ey(s,o))&&($e=ic(le,"onBeforeInput"),0<$e.length&&(Ee=new P0("onBeforeInput","beforeinput",null,o,pe),we.push({event:Ee,listeners:$e}),Ee.data=Ie)),N1(we,s,le,o,pe)}Ax(we,i)})}function xl(s,i,o){return{instance:s,listener:i,currentTarget:o}}function ic(s,i){for(var o=i+"Capture",u=[];s!==null;){var x=s,p=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||p===null||(x=Qe(s,o),x!=null&&u.unshift(xl(s,x,p)),x=Qe(s,i),x!=null&&u.push(xl(s,x,p))),s.tag===3)return u;s=s.return}return[]}function M1(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function _x(s,i,o,u,x){for(var p=i._reactName,S=[];o!==null&&o!==u;){var _=o,q=_.alternate,le=_.stateNode;if(_=_.tag,q!==null&&q===u)break;_!==5&&_!==26&&_!==27||le===null||(q=le,x?(le=Qe(o,p),le!=null&&S.unshift(xl(o,le,q))):x||(le=Qe(o,p),le!=null&&S.push(xl(o,le,q)))),o=o.return}S.length!==0&&s.push({event:i,listeners:S})}var L1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function Ex(s){return(typeof s=="string"?s:""+s).replace(L1,`
`).replace(A1,"")}function Rx(s,i){return i=Ex(i),Ex(s)===i}function ct(s,i,o,u,x,p){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||R(s,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&R(s,""+u);break;case"className":_i(s,"class",u);break;case"tabIndex":_i(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(s,o,u);break;case"style":he(s,u,p);break;case"data":if(i!=="object"){_i(s,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=re(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&ct(s,i,"name",x.name,x,null),ct(s,i,"formEncType",x.formEncType,x,null),ct(s,i,"formMethod",x.formMethod,x,null),ct(s,i,"formTarget",x.formTarget,x,null)):(ct(s,i,"encType",x.encType,x,null),ct(s,i,"method",x.method,x,null),ct(s,i,"target",x.target,x,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=re(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=Le);break;case"onScroll":u!=null&&Ve("scroll",s);break;case"onScrollEnd":u!=null&&Ve("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=re(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Ve("beforetoggle",s),Ve("toggle",s),Di(s,"popover",u);break;case"xlinkActuate":It(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ne.get(o)||o,Di(s,o,u))}}function eh(s,i,o,u,x,p){switch(o){case"style":he(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(x.children!=null)throw Error(r(60));s.innerHTML=o}}break;case"children":typeof u=="string"?R(s,u):(typeof u=="number"||typeof u=="bigint")&&R(s,""+u);break;case"onScroll":u!=null&&Ve("scroll",s);break;case"onScrollEnd":u!=null&&Ve("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Le);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jn.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(x=o.endsWith("Capture"),i=o.slice(2,x?o.length-7:void 0),p=s[Kt]||null,p=p!=null?p[o]:null,typeof p=="function"&&s.removeEventListener(i,p,x),typeof u=="function")){typeof p!="function"&&p!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(i,u,x);break e}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Di(s,o,u)}}}function Xt(s,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",s),Ve("load",s);var u=!1,x=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ct(s,i,p,S,o,null)}}x&&ct(s,i,"srcSet",o.srcSet,o,null),u&&ct(s,i,"src",o.src,o,null);return;case"input":Ve("invalid",s);var _=p=S=x=null,q=null,le=null;for(u in o)if(o.hasOwnProperty(u)){var pe=o[u];if(pe!=null)switch(u){case"name":x=pe;break;case"type":S=pe;break;case"checked":q=pe;break;case"defaultChecked":le=pe;break;case"value":p=pe;break;case"defaultValue":_=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,i));break;default:ct(s,i,u,pe,o,null)}}oo(s,p,_,q,le,S,x,!1);return;case"select":Ve("invalid",s),u=S=p=null;for(x in o)if(o.hasOwnProperty(x)&&(_=o[x],_!=null))switch(x){case"value":p=_;break;case"defaultValue":S=_;break;case"multiple":u=_;default:ct(s,i,x,_,o,null)}i=p,o=S,s.multiple=!!u,i!=null?ea(s,!!u,i,!1):o!=null&&ea(s,!!u,o,!0);return;case"textarea":Ve("invalid",s),p=x=u=null;for(S in o)if(o.hasOwnProperty(S)&&(_=o[S],_!=null))switch(S){case"value":u=_;break;case"defaultValue":x=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:ct(s,i,S,_,o,null)}uo(s,u,x,p);return;case"option":for(q in o)o.hasOwnProperty(q)&&(u=o[q],u!=null)&&(q==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":ct(s,i,q,u,o,null));return;case"dialog":Ve("beforetoggle",s),Ve("toggle",s),Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":Ve("load",s);break;case"video":case"audio":for(u=0;u<fl.length;u++)Ve(fl[u],s);break;case"image":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"embed":case"source":case"link":Ve("error",s),Ve("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in o)if(o.hasOwnProperty(le)&&(u=o[le],u!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:ct(s,i,le,u,o,null)}return;default:if(xe(i)){for(pe in o)o.hasOwnProperty(pe)&&(u=o[pe],u!==void 0&&eh(s,i,pe,u,o,void 0));return}}for(_ in o)o.hasOwnProperty(_)&&(u=o[_],u!=null&&ct(s,i,_,u,o,null))}function D1(s,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,p=null,S=null,_=null,q=null,le=null,pe=null;for(fe in o){var we=o[fe];if(o.hasOwnProperty(fe)&&we!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":q=we;default:u.hasOwnProperty(fe)||ct(s,i,fe,null,u,we)}}for(var ce in u){var fe=u[ce];if(we=o[ce],u.hasOwnProperty(ce)&&(fe!=null||we!=null))switch(ce){case"type":p=fe;break;case"name":x=fe;break;case"checked":le=fe;break;case"defaultChecked":pe=fe;break;case"value":S=fe;break;case"defaultValue":_=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,i));break;default:fe!==we&&ct(s,i,ce,fe,u,we)}}Or(s,S,_,q,le,pe,p,x);return;case"select":fe=S=_=ce=null;for(p in o)if(q=o[p],o.hasOwnProperty(p)&&q!=null)switch(p){case"value":break;case"multiple":fe=q;default:u.hasOwnProperty(p)||ct(s,i,p,null,u,q)}for(x in u)if(p=u[x],q=o[x],u.hasOwnProperty(x)&&(p!=null||q!=null))switch(x){case"value":ce=p;break;case"defaultValue":_=p;break;case"multiple":S=p;default:p!==q&&ct(s,i,x,p,u,q)}i=_,o=S,u=fe,ce!=null?ea(s,!!o,ce,!1):!!u!=!!o&&(i!=null?ea(s,!!o,i,!0):ea(s,!!o,o?[]:"",!1));return;case"textarea":fe=ce=null;for(_ in o)if(x=o[_],o.hasOwnProperty(_)&&x!=null&&!u.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:ct(s,i,_,null,u,x)}for(S in u)if(x=u[S],p=o[S],u.hasOwnProperty(S)&&(x!=null||p!=null))switch(S){case"value":ce=x;break;case"defaultValue":fe=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==p&&ct(s,i,S,x,u,p)}co(s,ce,fe);return;case"option":for(var _e in o)ce=o[_e],o.hasOwnProperty(_e)&&ce!=null&&!u.hasOwnProperty(_e)&&(_e==="selected"?s.selected=!1:ct(s,i,_e,null,u,ce));for(q in u)ce=u[q],fe=o[q],u.hasOwnProperty(q)&&ce!==fe&&(ce!=null||fe!=null)&&(q==="selected"?s.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":ct(s,i,q,ce,u,fe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)ce=o[Te],o.hasOwnProperty(Te)&&ce!=null&&!u.hasOwnProperty(Te)&&ct(s,i,Te,null,u,ce);for(le in u)if(ce=u[le],fe=o[le],u.hasOwnProperty(le)&&ce!==fe&&(ce!=null||fe!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,i));break;default:ct(s,i,le,ce,u,fe)}return;default:if(xe(i)){for(var dt in o)ce=o[dt],o.hasOwnProperty(dt)&&ce!==void 0&&!u.hasOwnProperty(dt)&&eh(s,i,dt,void 0,u,ce);for(pe in u)ce=u[pe],fe=o[pe],!u.hasOwnProperty(pe)||ce===fe||ce===void 0&&fe===void 0||eh(s,i,pe,ce,u,fe);return}}for(var ee in o)ce=o[ee],o.hasOwnProperty(ee)&&ce!=null&&!u.hasOwnProperty(ee)&&ct(s,i,ee,null,u,ce);for(we in u)ce=u[we],fe=o[we],!u.hasOwnProperty(we)||ce===fe||ce==null&&fe==null||ct(s,i,we,ce,u,fe)}function Tx(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _1(){if(typeof performance.getEntriesByType=="function"){for(var s=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var x=o[u],p=x.transferSize,S=x.initiatorType,_=x.duration;if(p&&_&&Tx(S)){for(S=0,_=x.responseEnd,u+=1;u<o.length;u++){var q=o[u],le=q.startTime;if(le>_)break;var pe=q.transferSize,we=q.initiatorType;pe&&Tx(we)&&(q=q.responseEnd,S+=pe*(q<_?1:(_-le)/(q-le)))}if(--u,i+=8*(p+S)/(x.duration/1e3),s++,10<s)break}}if(0<s)return i/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var th=null,sh=null;function rc(s){return s.nodeType===9?s:s.ownerDocument}function Ox(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zx(s,i){if(s===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&i==="foreignObject"?0:s}function nh(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ah=null;function E1(){var s=window.event;return s&&s.type==="popstate"?s===ah?!1:(ah=s,!0):(ah=null,!1)}var Bx=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,Px=typeof Promise=="function"?Promise:void 0,T1=typeof queueMicrotask=="function"?queueMicrotask:typeof Px<"u"?function(s){return Px.resolve(null).then(s).catch(O1)}:Bx;function O1(s){setTimeout(function(){throw s})}function ba(s){return s==="head"}function Ix(s,i){var o=i,u=0;do{var x=o.nextSibling;if(s.removeChild(o),x&&x.nodeType===8)if(o=x.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(x),cr(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")gl(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,gl(o);for(var p=o.firstChild;p;){var S=p.nextSibling,_=p.nodeName;p[Gs]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&gl(s.ownerDocument.body);o=x}while(o);cr(i)}function Hx(s,i){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function ih(s){var i=s.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ih(o),Tr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function z1(s,i,o,u){for(;s.nodeType===1;){var x=o;if(s.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Gs])switch(i){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==x.rel||s.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||s.getAttribute("title")!==(x.title==null?null:x.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(x.src==null?null:x.src)||s.getAttribute("type")!==(x.type==null?null:x.type)||s.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(i==="input"&&s.type==="hidden"){var p=x.name==null?null:""+x.name;if(x.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Vs(s.nextSibling),s===null)break}return null}function B1(s,i,o){if(i==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Vs(s.nextSibling),s===null))return null;return s}function Ux(s,i){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=Vs(s.nextSibling),s===null))return null;return s}function rh(s){return s.data==="$?"||s.data==="$~"}function lh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function P1(s,i){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=i;else if(s.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Vs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return s}var oh=null;function Fx(s){s=s.nextSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(i===0)return Vs(s.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}s=s.nextSibling}return null}function Vx(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return s;i--}else o!=="/$"&&o!=="/&"||i++}s=s.previousSibling}return null}function Wx(s,i,o){switch(i=rc(o),s){case"html":if(s=i.documentElement,!s)throw Error(r(452));return s;case"head":if(s=i.head,!s)throw Error(r(453));return s;case"body":if(s=i.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function gl(s){for(var i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Tr(s)}var Ws=new Map,$x=new Set;function lc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Pn=X.d;X.d={f:I1,r:H1,D:U1,C:F1,L:V1,m:W1,X:q1,S:$1,M:Y1};function I1(){var s=Pn.f(),i=Zo();return s||i}function H1(s){var i=Kn(s);i!==null&&i.tag===5&&i.type==="form"?of(i):Pn.r(s)}var rr=typeof document>"u"?null:document;function qx(s,i,o){var u=rr;if(u&&typeof i=="string"&&i){var x=rs(i);x='link[rel="'+s+'"][href="'+x+'"]',typeof o=="string"&&(x+='[crossorigin="'+o+'"]'),$x.has(x)||($x.add(x),s={rel:s,crossOrigin:o,href:i},u.querySelector(x)===null&&(i=u.createElement("link"),Xt(i,"link",s),at(i),u.head.appendChild(i)))}}function U1(s){Pn.D(s),qx("dns-prefetch",s,null)}function F1(s,i){Pn.C(s,i),qx("preconnect",s,i)}function V1(s,i,o){Pn.L(s,i,o);var u=rr;if(u&&s&&i){var x='link[rel="preload"][as="'+rs(i)+'"]';i==="image"&&o&&o.imageSrcSet?(x+='[imagesrcset="'+rs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(x+='[imagesizes="'+rs(o.imageSizes)+'"]')):x+='[href="'+rs(s)+'"]';var p=x;switch(i){case"style":p=lr(s);break;case"script":p=or(s)}Ws.has(p)||(s=b({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:s,as:i},o),Ws.set(p,s),u.querySelector(x)!==null||i==="style"&&u.querySelector(pl(p))||i==="script"&&u.querySelector(bl(p))||(i=u.createElement("link"),Xt(i,"link",s),at(i),u.head.appendChild(i)))}}function W1(s,i){Pn.m(s,i);var o=rr;if(o&&s){var u=i&&typeof i.as=="string"?i.as:"script",x='link[rel="modulepreload"][as="'+rs(u)+'"][href="'+rs(s)+'"]',p=x;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=or(s)}if(!Ws.has(p)&&(s=b({rel:"modulepreload",href:s},i),Ws.set(p,s),o.querySelector(x)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(bl(p)))return}u=o.createElement("link"),Xt(u,"link",s),at(u),o.head.appendChild(u)}}}function $1(s,i,o){Pn.S(s,i,o);var u=rr;if(u&&s){var x=Zn(u).hoistableStyles,p=lr(s);i=i||"default";var S=x.get(p);if(!S){var _={loading:0,preload:null};if(S=u.querySelector(pl(p)))_.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":i},o),(o=Ws.get(p))&&ch(s,o);var q=S=u.createElement("link");at(q),Xt(q,"link",s),q._p=new Promise(function(le,pe){q.onload=le,q.onerror=pe}),q.addEventListener("load",function(){_.loading|=1}),q.addEventListener("error",function(){_.loading|=2}),_.loading|=4,oc(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:_},x.set(p,S)}}}function q1(s,i){Pn.X(s,i);var o=rr;if(o&&s){var u=Zn(o).hoistableScripts,x=or(s),p=u.get(x);p||(p=o.querySelector(bl(x)),p||(s=b({src:s,async:!0},i),(i=Ws.get(x))&&dh(s,i),p=o.createElement("script"),at(p),Xt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(x,p))}}function Y1(s,i){Pn.M(s,i);var o=rr;if(o&&s){var u=Zn(o).hoistableScripts,x=or(s),p=u.get(x);p||(p=o.querySelector(bl(x)),p||(s=b({src:s,async:!0,type:"module"},i),(i=Ws.get(x))&&dh(s,i),p=o.createElement("script"),at(p),Xt(p,"link",s),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(x,p))}}function Yx(s,i,o,u){var x=(x=J.current)?lc(x):null;if(!x)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=lr(o.href),o=Zn(x).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=lr(o.href);var p=Zn(x).hoistableStyles,S=p.get(s);if(S||(x=x.ownerDocument||x,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,S),(p=x.querySelector(pl(s)))&&!p._p&&(S.instance=p,S.state.loading=5),Ws.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ws.set(s,o),p||Q1(x,s,o,S.state))),i&&u===null)throw Error(r(528,""));return S}if(i&&u!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=or(o),o=Zn(x).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function lr(s){return'href="'+rs(s)+'"'}function pl(s){return'link[rel="stylesheet"]['+s+"]"}function Qx(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function Q1(s,i,o,u){s.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=s.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Xt(i,"link",o),at(i),s.head.appendChild(i))}function or(s){return'[src="'+rs(s)+'"]'}function bl(s){return"script[async]"+s}function Xx(s,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=s.querySelector('style[data-href~="'+rs(o.href)+'"]');if(u)return i.instance=u,at(u),u;var x=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),at(u),Xt(u,"style",x),oc(u,o.precedence,s),i.instance=u;case"stylesheet":x=lr(o.href);var p=s.querySelector(pl(x));if(p)return i.state.loading|=4,i.instance=p,at(p),p;u=Qx(o),(x=Ws.get(x))&&ch(u,x),p=(s.ownerDocument||s).createElement("link"),at(p);var S=p;return S._p=new Promise(function(_,q){S.onload=_,S.onerror=q}),Xt(p,"link",u),i.state.loading|=4,oc(p,o.precedence,s),i.instance=p;case"script":return p=or(o.src),(x=s.querySelector(bl(p)))?(i.instance=x,at(x),x):(u=o,(x=Ws.get(p))&&(u=b({},o),dh(u,x)),s=s.ownerDocument||s,x=s.createElement("script"),at(x),Xt(x,"link",u),s.head.appendChild(x),i.instance=x);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,oc(u,o.precedence,s));return i.instance}function oc(s,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=u.length?u[u.length-1]:null,p=x,S=0;S<u.length;S++){var _=u[S];if(_.dataset.precedence===i)p=_;else if(p!==x)break}p?p.parentNode.insertBefore(s,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(s,i.firstChild))}function ch(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.title==null&&(s.title=i.title)}function dh(s,i){s.crossOrigin==null&&(s.crossOrigin=i.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=i.referrerPolicy),s.integrity==null&&(s.integrity=i.integrity)}var cc=null;function Gx(s,i,o){if(cc===null){var u=new Map,x=cc=new Map;x.set(o,u)}else x=cc,u=x.get(o),u||(u=new Map,x.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),x=0;x<o.length;x++){var p=o[x];if(!(p[Gs]||p[Ct]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(i)||"";S=s+S;var _=u.get(S);_?_.push(p):u.set(S,[p])}}return u}function Kx(s,i,o){s=s.ownerDocument||s,s.head.insertBefore(o,i==="title"?s.querySelector("head > title"):null)}function X1(s,i,o){if(o===1||i.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(s=i.disabled,typeof i.precedence=="string"&&s==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Zx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function G1(s,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var x=lr(u.href),p=i.querySelector(pl(x));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(s.count++,s=dc.bind(s),i.then(s,s)),o.state.loading|=4,o.instance=p,at(p);return}p=i.ownerDocument||i,u=Qx(u),(x=Ws.get(x))&&ch(u,x),p=p.createElement("link"),at(p);var S=p;S._p=new Promise(function(_,q){S.onload=_,S.onerror=q}),Xt(p,"link",u),o.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=dc.bind(s),i.addEventListener("load",o),i.addEventListener("error",o))}}var uh=0;function K1(s,i){return s.stylesheets&&s.count===0&&hc(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&hc(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+i);0<s.imgBytes&&uh===0&&(uh=62500*_1());var x=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&hc(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>uh?50:800)+i);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(x)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uc=null;function hc(s,i){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uc=new Map,i.forEach(Z1,s),uc=null,dc.call(s))}function Z1(s,i){if(!(i.state.loading&4)){var o=uc.get(s);if(o)var u=o.get(null);else{o=new Map,uc.set(s,o);for(var x=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<x.length;p++){var S=x[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}x=i.instance,S=x.getAttribute("data-precedence"),p=o.get(S)||u,p===u&&o.set(null,x),o.set(S,x),this.count++,u=dc.bind(this),x.addEventListener("load",u),x.addEventListener("error",u),p?p.parentNode.insertBefore(x,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(x,s.firstChild)),i.state.loading|=4}}var yl={$$typeof:A,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function J1(s,i,o,u,x,p,S,_,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=u,this.onUncaughtError=x,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Jx(s,i,o,u,x,p,S,_,q,le,pe,we){return s=new J1(s,i,o,S,q,le,pe,we,_),i=1,p===!0&&(i|=24),p=Ms(3,null,null,i),s.current=p,p.stateNode=s,i=Wd(),i.refCount++,s.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:i},Qd(p),s}function eg(s){return s?(s=Ii,s):Ii}function tg(s,i,o,u,x,p){x=eg(x),u.context===null?u.context=x:u.pendingContext=x,u=la(i),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=oa(s,u,i),o!==null&&(vs(o,s,i),Kr(o,s,i))}function sg(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<i?o:i}}function hh(s,i){sg(s,i),(s=s.alternate)&&sg(s,i)}function ng(s){if(s.tag===13||s.tag===31){var i=Ga(s,67108864);i!==null&&vs(i,s,67108864),hh(s,67108864)}}function ag(s){if(s.tag===13||s.tag===31){var i=Es();i=Dt(i);var o=Ga(s,i);o!==null&&vs(o,s,i),hh(s,i)}}var mc=!0;function ev(s,i,o,u){var x=P.T;P.T=null;var p=X.p;try{X.p=2,mh(s,i,o,u)}finally{X.p=p,P.T=x}}function tv(s,i,o,u){var x=P.T;P.T=null;var p=X.p;try{X.p=8,mh(s,i,o,u)}finally{X.p=p,P.T=x}}function mh(s,i,o,u){if(mc){var x=fh(u);if(x===null)Ju(s,i,u,fc,o),rg(s,u);else if(nv(x,s,i,o,u))u.stopPropagation();else if(rg(s,u),i&4&&-1<sv.indexOf(s)){for(;x!==null;){var p=Kn(x);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Xe(p.pendingLanes);if(S!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var q=1<<31-us(S);_.entanglements[1]|=q,S&=~q}mn(p),(tt&6)===0&&(Go=zt()+500,ml(0))}}break;case 31:case 13:_=Ga(p,2),_!==null&&vs(_,p,2),Zo(),hh(p,2)}if(p=fh(u),p===null&&Ju(s,i,u,fc,o),p===x)break;x=p}x!==null&&u.stopPropagation()}else Ju(s,i,u,null,o)}}function fh(s){return s=Ge(s),xh(s)}var fc=null;function xh(s){if(fc=null,s=Gn(s),s!==null){var i=c(s);if(i===null)s=null;else{var o=i.tag;if(o===13){if(s=d(i),s!==null)return s;s=null}else if(o===31){if(s=h(i),s!==null)return s;s=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null)}}return fc=s,null}function ig(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(K()){case ke:return 2;case Ce:return 8;case et:case zs:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var gh=!1,ya=null,va=null,ja=null,vl=new Map,jl=new Map,wa=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(s,i){switch(s){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function wl(s,i,o,u,x,p){return s===null||s.nativeEvent!==p?(s={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[x]},i!==null&&(i=Kn(i),i!==null&&ng(i)),s):(s.eventSystemFlags|=u,i=s.targetContainers,x!==null&&i.indexOf(x)===-1&&i.push(x),s)}function nv(s,i,o,u,x){switch(i){case"focusin":return ya=wl(ya,s,i,o,u,x),!0;case"dragenter":return va=wl(va,s,i,o,u,x),!0;case"mouseover":return ja=wl(ja,s,i,o,u,x),!0;case"pointerover":var p=x.pointerId;return vl.set(p,wl(vl.get(p)||null,s,i,o,u,x)),!0;case"gotpointercapture":return p=x.pointerId,jl.set(p,wl(jl.get(p)||null,s,i,o,u,x)),!0}return!1}function lg(s){var i=Gn(s.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=d(o),i!==null){s.blockedOn=i,Ss(s.priority,function(){ag(o)});return}}else if(i===31){if(i=h(o),i!==null){s.blockedOn=i,Ss(s.priority,function(){ag(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function xc(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var o=fh(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Ue=u,o.target.dispatchEvent(u),Ue=null}else return i=Kn(o),i!==null&&ng(i),s.blockedOn=o,!1;i.shift()}return!0}function og(s,i,o){xc(s)&&o.delete(i)}function av(){gh=!1,ya!==null&&xc(ya)&&(ya=null),va!==null&&xc(va)&&(va=null),ja!==null&&xc(ja)&&(ja=null),vl.forEach(og),jl.forEach(og)}function gc(s,i){s.blockedOn===i&&(s.blockedOn=null,gh||(gh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,av)))}var pc=null;function cg(s){pc!==s&&(pc=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pc===s&&(pc=null);for(var i=0;i<s.length;i+=3){var o=s[i],u=s[i+1],x=s[i+2];if(typeof u!="function"){if(xh(u||o)===null)continue;break}var p=Kn(o);p!==null&&(s.splice(i,3),i-=3,fu(p,{pending:!0,data:x,method:o.method,action:u},u,x))}}))}function cr(s){function i(q){return gc(q,s)}ya!==null&&gc(ya,s),va!==null&&gc(va,s),ja!==null&&gc(ja,s),vl.forEach(i),jl.forEach(i);for(var o=0;o<wa.length;o++){var u=wa[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<wa.length&&(o=wa[0],o.blockedOn===null);)lg(o),o.blockedOn===null&&wa.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var x=o[u],p=o[u+1],S=x[Kt]||null;if(typeof p=="function")S||cg(o);else if(S){var _=null;if(p&&p.hasAttribute("formAction")){if(x=p,S=p[Kt]||null)_=S.formAction;else if(xh(x)!==null)continue}else _=S.action;typeof _=="function"?o[u+1]=_:(o.splice(u,3),u-=3),cg(o)}}}function dg(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return x=S})},focusReset:"manual",scroll:"manual"})}function i(){x!==null&&(x(),x=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,x=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),x!==null&&(x(),x=null)}}}function ph(s){this._internalRoot=s}bc.prototype.render=ph.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,u=Es();tg(o,u,s,i,null,null)},bc.prototype.unmount=ph.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;tg(s.current,2,null,s,null,null),Zo(),i[hs]=null}};function bc(s){this._internalRoot=s}bc.prototype.unstable_scheduleHydration=function(s){if(s){var i=_r();s={blockedOn:null,target:s,priority:i};for(var o=0;o<wa.length&&i!==0&&i<wa[o].priority;o++);wa.splice(o,0,s),o===0&&lg(s)}};var ug=t.version;if(ug!=="19.2.3")throw Error(r(527,ug,"19.2.3"));X.findDOMNode=function(s){var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(i),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var iv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Si=yc.inject(iv),ds=yc}catch{}}return kl.createRoot=function(s,i){if(!l(s))throw Error(r(299));var o=!1,u="",x=bf,p=yf,S=vf;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(x=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=Jx(s,1,!1,null,null,o,u,null,x,p,S,dg),s[hs]=i.current,Zu(s),new ph(i)},kl.hydrateRoot=function(s,i,o){if(!l(s))throw Error(r(299));var u=!1,x="",p=bf,S=yf,_=vf,q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError),o.formState!==void 0&&(q=o.formState)),i=Jx(s,1,!0,i,o??null,u,x,q,p,S,_,dg),i.context=eg(null),o=i.current,u=Es(),u=Dt(u),x=la(u),x.callback=null,oa(o,x,u),o=u,i.current.lanes=o,ln(i,o),mn(i),s[hs]=i.current,Zu(s),new bc(i)},kl.version="19.2.3",kl}var jg;function xv(){if(jg)return vh.exports;jg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vh.exports=fv(),vh.exports}var gv=xv();const pv=xb(gv);var wg="popstate";function bv(n={}){function t(r,l){let{pathname:c,search:d,hash:h}=r.location;return Yh("",{pathname:c,search:d,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function a(r,l){return typeof l=="string"?l:Il(l)}return vv(t,a,null,n)}function yt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ts(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yv(){return Math.random().toString(36).substring(2,10)}function Ng(n,t){return{usr:n.state,key:n.key,idx:t}}function Yh(n,t,a=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?vr(t):t,state:a,key:t&&t.key||r||yv()}}function Il({pathname:n="/",search:t="",hash:a=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(n+=a.charAt(0)==="#"?a:"#"+a),n}function vr(n){let t={};if(n){let a=n.indexOf("#");a>=0&&(t.hash=n.substring(a),n=n.substring(0,a));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function vv(n,t,a,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,h="POP",m=null,f=g();f==null&&(f=0,d.replaceState({...d.state,idx:f},""));function g(){return(d.state||{idx:null}).idx}function b(){h="POP";let N=g(),M=N==null?null:N-f;f=N,m&&m({action:h,location:j.location,delta:M})}function w(N,M){h="PUSH";let B=Yh(j.location,N,M);f=g()+1;let A=Ng(B,f),Y=j.createHref(B);try{d.pushState(A,"",Y)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(Y)}c&&m&&m({action:h,location:j.location,delta:1})}function y(N,M){h="REPLACE";let B=Yh(j.location,N,M);f=g();let A=Ng(B,f),Y=j.createHref(B);d.replaceState(A,"",Y),c&&m&&m({action:h,location:j.location,delta:0})}function v(N){return jv(N)}let j={get action(){return h},get location(){return n(l,d)},listen(N){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(wg,b),m=N,()=>{l.removeEventListener(wg,b),m=null}},createHref(N){return t(l,N)},createURL:v,encodeLocation(N){let M=v(N);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:y,go(N){return d.go(N)}};return j}function jv(n,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),yt(a,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Il(n);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function gb(n,t,a="/"){return wv(n,t,a,!1)}function wv(n,t,a,r){let l=typeof t=="string"?vr(t):t,c=qn(l.pathname||"/",a);if(c==null)return null;let d=pb(n);Nv(d);let h=null;for(let m=0;h==null&&m<d.length;++m){let f=Tv(c);h=Ev(d[m],f,r)}return h}function pb(n,t=[],a=[],r="",l=!1){let c=(d,h,m=l,f)=>{let g={relativePath:f===void 0?d.path||"":f,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&m)return;yt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let b=$n([r,g.relativePath]),w=a.concat(g);d.children&&d.children.length>0&&(yt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),pb(d.children,t,w,b,m)),!(d.path==null&&!d.index)&&t.push({path:b,score:Dv(b,d.index),routesMeta:w})};return n.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))c(d,h);else for(let m of bb(d.path))c(d,h,!0,m)}),t}function bb(n){let t=n.split("/");if(t.length===0)return[];let[a,...r]=t,l=a.endsWith("?"),c=a.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=bb(r.join("/")),h=[];return h.push(...d.map(m=>m===""?c:[c,m].join("/"))),l&&h.push(...d),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function Nv(n){n.sort((t,a)=>t.score!==a.score?a.score-t.score:_v(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var kv=/^:[\w-]+$/,Sv=3,Cv=2,Mv=1,Lv=10,Av=-2,kg=n=>n==="*";function Dv(n,t){let a=n.split("/"),r=a.length;return a.some(kg)&&(r+=Av),t&&(r+=Cv),a.filter(l=>!kg(l)).reduce((l,c)=>l+(kv.test(c)?Sv:c===""?Mv:Lv),r)}function _v(n,t){return n.length===t.length&&n.slice(0,-1).every((r,l)=>r===t[l])?n[n.length-1]-t[t.length-1]:0}function Ev(n,t,a=!1){let{routesMeta:r}=n,l={},c="/",d=[];for(let h=0;h<r.length;++h){let m=r[h],f=h===r.length-1,g=c==="/"?t:t.slice(c.length)||"/",b=$c({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),w=m.route;if(!b&&f&&a&&!r[r.length-1].route.index&&(b=$c({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:$n([c,b.pathname]),pathnameBase:Pv($n([c,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(c=$n([c,b.pathnameBase]))}return d}function $c(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[a,r]=Rv(n.path,n.caseSensitive,n.end),l=t.match(a);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),h=l.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:b},w)=>{if(g==="*"){let v=h[w]||"";d=c.slice(0,c.length-v.length).replace(/(.)\/+$/,"$1")}const y=h[w];return b&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:c,pathnameBase:d,pattern:n}}function Rv(n,t=!1,a=!0){Ts(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function Tv(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ts(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function qn(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=n.charAt(a);return r&&r!=="/"?null:n.slice(a)||"/"}var yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ov=n=>yb.test(n);function zv(n,t="/"){let{pathname:a,search:r="",hash:l=""}=typeof n=="string"?vr(n):n,c;if(a)if(Ov(a))c=a;else{if(a.includes("//")){let d=a;a=a.replace(/\/\/+/g,"/"),Ts(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${a}`)}a.startsWith("/")?c=Sg(a.substring(1),"/"):c=Sg(a,t)}else c=t;return{pathname:c,search:Iv(r),hash:Hv(l)}}function Sg(n,t){let a=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?a.length>1&&a.pop():l!=="."&&a.push(l)}),a.length>1?a.join("/"):"/"}function kh(n,t,a,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bv(n){return n.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function c0(n){let t=Bv(n);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function d0(n,t,a,r=!1){let l;typeof n=="string"?l=vr(n):(l={...n},yt(!l.pathname||!l.pathname.includes("?"),kh("?","pathname","search",l)),yt(!l.pathname||!l.pathname.includes("#"),kh("#","pathname","hash",l)),yt(!l.search||!l.search.includes("#"),kh("#","search","hash",l)));let c=n===""||l.pathname==="",d=c?"/":l.pathname,h;if(d==null)h=a;else{let b=t.length-1;if(!r&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}h=b>=0?t[b]:"/"}let m=zv(l,h),f=d&&d!=="/"&&d.endsWith("/"),g=(c||d===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var $n=n=>n.join("/").replace(/\/\/+/g,"/"),Pv=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Iv=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Hv=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Uv=class{constructor(n,t,a,r=!1){this.status=n,this.statusText=t||"",this.internal=r,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function Fv(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Vv(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jb(n,t){let a=n;if(typeof a!="string"||!yb.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let r=a,l=!1;if(vb)try{let c=new URL(window.location.href),d=a.startsWith("//")?new URL(c.protocol+a):new URL(a),h=qn(d.pathname,t);d.origin===c.origin&&h!=null?a=h+d.search+d.hash:l=!0}catch{Ts(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:l,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wb=["POST","PUT","PATCH","DELETE"];new Set(wb);var Wv=["GET",...wb];new Set(Wv);var jr=k.createContext(null);jr.displayName="DataRouter";var sd=k.createContext(null);sd.displayName="DataRouterState";var $v=k.createContext(!1),Nb=k.createContext({isTransitioning:!1});Nb.displayName="ViewTransition";var qv=k.createContext(new Map);qv.displayName="Fetchers";var Yv=k.createContext(null);Yv.displayName="Await";var Os=k.createContext(null);Os.displayName="Navigation";var Yl=k.createContext(null);Yl.displayName="Location";var Qs=k.createContext({outlet:null,matches:[],isDataRoute:!1});Qs.displayName="Route";var u0=k.createContext(null);u0.displayName="RouteError";var kb="REACT_ROUTER_ERROR",Qv="REDIRECT",Xv="ROUTE_ERROR_RESPONSE";function Gv(n){if(n.startsWith(`${kb}:${Qv}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Kv(n){if(n.startsWith(`${kb}:${Xv}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Uv(t.status,t.statusText,t.data)}catch{}}function Zv(n,{relative:t}={}){yt(wr(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=k.useContext(Os),{hash:l,pathname:c,search:d}=Ql(n,{relative:t}),h=c;return a!=="/"&&(h=c==="/"?a:$n([a,c])),r.createHref({pathname:h,search:d,hash:l})}function wr(){return k.useContext(Yl)!=null}function vn(){return yt(wr(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Yl).location}var Sb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cb(n){k.useContext(Os).static||k.useLayoutEffect(n)}function mt(){let{isDataRoute:n}=k.useContext(Qs);return n?mj():Jv()}function Jv(){yt(wr(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(jr),{basename:t,navigator:a}=k.useContext(Os),{matches:r}=k.useContext(Qs),{pathname:l}=vn(),c=JSON.stringify(c0(r)),d=k.useRef(!1);return Cb(()=>{d.current=!0}),k.useCallback((m,f={})=>{if(Ts(d.current,Sb),!d.current)return;if(typeof m=="number"){a.go(m);return}let g=d0(m,JSON.parse(c),l,f.relative==="path");n==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:$n([t,g.pathname])),(f.replace?a.replace:a.push)(g,f.state,f)},[t,a,c,l,n])}var ej=k.createContext(null);function tj(n){let t=k.useContext(Qs).outlet;return k.useMemo(()=>t&&k.createElement(ej.Provider,{value:n},t),[t,n])}function Xs(){let{matches:n}=k.useContext(Qs),t=n[n.length-1];return t?t.params:{}}function Ql(n,{relative:t}={}){let{matches:a}=k.useContext(Qs),{pathname:r}=vn(),l=JSON.stringify(c0(a));return k.useMemo(()=>d0(n,JSON.parse(l),r,t==="path"),[n,l,r,t])}function sj(n,t){return Mb(n,t)}function Mb(n,t,a,r,l){yt(wr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(Os),{matches:d}=k.useContext(Qs),h=d[d.length-1],m=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let B=b&&b.path||"";Ab(f,!b||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=vn(),y;if(t){let B=typeof t=="string"?vr(t):t;yt(g==="/"||B.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),y=B}else y=w;let v=y.pathname||"/",j=v;if(g!=="/"){let B=g.replace(/^\//,"").split("/");j="/"+v.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=gb(n,{pathname:j});Ts(b||N!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ts(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=lj(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:$n([g,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:$n([g,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),d,a,r,l);return t&&M?k.createElement(Yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},M):M}function nj(){let n=hj(),t=Fv(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),a=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),a?k.createElement("pre",{style:l},a):null,d)}var aj=k.createElement(nj,null),Lb=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const a=Kv(n.digest);a&&(n=a)}let t=n!==void 0?k.createElement(Qs.Provider,{value:this.props.routeContext},k.createElement(u0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?k.createElement(ij,{error:n},t):t}};Lb.contextType=$v;var Sh=new WeakMap;function ij({children:n,error:t}){let{basename:a}=k.useContext(Os);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=Gv(t.digest);if(r){let l=Sh.get(t);if(l)throw l;let c=jb(r.location,a);if(vb&&!Sh.get(t))if(c.isExternal||r.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:r.replace}));throw Sh.set(t,d),d}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function rj({routeContext:n,match:t,children:a}){let r=k.useContext(jr);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(Qs.Provider,{value:n},a)}function lj(n,t=[],a=null,r=null,l=null){if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let c=n,d=a?.errors;if(d!=null){let g=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);yt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let h=!1,m=-1;if(a)for(let g=0;g<c.length;g++){let b=c[g];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=g),b.route.id){let{loaderData:w,errors:y}=a,v=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!y||y[b.route.id]===void 0);if(b.route.lazy||v){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let f=a&&r?(g,b)=>{r(g,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:Vv(a.matches),errorInfo:b})}:void 0;return c.reduceRight((g,b,w)=>{let y,v=!1,j=null,N=null;a&&(y=d&&b.route.id?d[b.route.id]:void 0,j=b.route.errorElement||aj,h&&(m<0&&w===0?(Ab("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,N=null):m===w&&(v=!0,N=b.route.hydrateFallbackElement||null)));let M=t.concat(c.slice(0,w+1)),B=()=>{let A;return y?A=j:v?A=N:b.route.Component?A=k.createElement(b.route.Component,null):b.route.element?A=b.route.element:A=g,k.createElement(rj,{match:b,routeContext:{outlet:g,matches:M,isDataRoute:a!=null},children:A})};return a&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?k.createElement(Lb,{location:a.location,revalidation:a.revalidation,component:j,error:y,children:B(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:f}):B()},null)}function h0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oj(n){let t=k.useContext(jr);return yt(t,h0(n)),t}function cj(n){let t=k.useContext(sd);return yt(t,h0(n)),t}function dj(n){let t=k.useContext(Qs);return yt(t,h0(n)),t}function m0(n){let t=dj(n),a=t.matches[t.matches.length-1];return yt(a.route.id,`${n} can only be used on routes that contain a unique "id"`),a.route.id}function uj(){return m0("useRouteId")}function hj(){let n=k.useContext(u0),t=cj("useRouteError"),a=m0("useRouteError");return n!==void 0?n:t.errors?.[a]}function mj(){let{router:n}=oj("useNavigate"),t=m0("useNavigate"),a=k.useRef(!1);return Cb(()=>{a.current=!0}),k.useCallback(async(l,c={})=>{Ts(a.current,Sb),a.current&&(typeof l=="number"?await n.navigate(l):await n.navigate(l,{fromRouteId:t,...c}))},[n,t])}var Cg={};function Ab(n,t,a){!t&&!Cg[n]&&(Cg[n]=!0,Ts(!1,a))}k.memo(fj);function fj({routes:n,future:t,state:a,onError:r}){return Mb(n,void 0,a,r,t)}function qc({to:n,replace:t,state:a,relative:r}){yt(wr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(Os);Ts(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(Qs),{pathname:d}=vn(),h=mt(),m=d0(n,c0(c),d,r==="path"),f=JSON.stringify(m);return k.useEffect(()=>{h(JSON.parse(f),{replace:t,state:a,relative:r})},[h,f,r,t,a]),null}function xj(n){return tj(n.context)}function ut(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gj({basename:n="/",children:t=null,location:a,navigationType:r="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){yt(!wr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[h,l,c,d]);typeof a=="string"&&(a=vr(a));let{pathname:f="/",search:g="",hash:b="",state:w=null,key:y="default"}=a,v=k.useMemo(()=>{let j=qn(f,h);return j==null?null:{location:{pathname:j,search:g,hash:b,state:w,key:y},navigationType:r}},[h,f,g,b,w,y,r]);return Ts(v!=null,`<Router basename="${h}"> is not able to match the URL "${f}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(Os.Provider,{value:m},k.createElement(Yl.Provider,{children:t,value:v}))}function pj({children:n,location:t}){return sj(Qh(n),t)}function Qh(n,t=[]){let a=[];return k.Children.forEach(n,(r,l)=>{if(!k.isValidElement(r))return;let c=[...t,l];if(r.type===k.Fragment){a.push.apply(a,Qh(r.props.children,c));return}yt(r.type===ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Qh(r.props.children,c)),a.push(d)}),a}var Pc="get",Ic="application/x-www-form-urlencoded";function nd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function bj(n){return nd(n)&&n.tagName.toLowerCase()==="button"}function yj(n){return nd(n)&&n.tagName.toLowerCase()==="form"}function vj(n){return nd(n)&&n.tagName.toLowerCase()==="input"}function jj(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function wj(n,t){return n.button===0&&(!t||t==="_self")&&!jj(n)}function Xh(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((t,a)=>{let r=n[a];return t.concat(Array.isArray(r)?r.map(l=>[a,l]):[[a,r]])},[]))}function Nj(n,t){let a=Xh(n);return t&&t.forEach((r,l)=>{a.has(l)||t.getAll(l).forEach(c=>{a.append(l,c)})}),a}var vc=null;function kj(){if(vc===null)try{new FormData(document.createElement("form"),0),vc=!1}catch{vc=!0}return vc}var Sj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(n){return n!=null&&!Sj.has(n)?(Ts(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):n}function Cj(n,t){let a,r,l,c,d;if(yj(n)){let h=n.getAttribute("action");r=h?qn(h,t):null,a=n.getAttribute("method")||Pc,l=Ch(n.getAttribute("enctype"))||Ic,c=new FormData(n)}else if(bj(n)||vj(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(r=m?qn(m,t):null,a=n.getAttribute("formmethod")||h.getAttribute("method")||Pc,l=Ch(n.getAttribute("formenctype"))||Ch(h.getAttribute("enctype"))||Ic,c=new FormData(h,n),!kj()){let{name:f,type:g,value:b}=n;if(g==="image"){let w=f?`${f}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else f&&c.append(f,b)}}else{if(nd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Pc,r=null,l=Ic,d=n}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:a.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function f0(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Mj(n,t,a){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&qn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function Lj(n,t){if(n.id in t)return t[n.id];try{let a=await import(n.module);return t[n.id]=a,a}catch(a){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Aj(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Dj(n,t,a){let r=await Promise.all(n.map(async l=>{let c=t.routes[l.route.id];if(c){let d=await Lj(c,a);return d.links?d.links():[]}return[]}));return Tj(r.flat(1).filter(Aj).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Mg(n,t,a,r,l,c){let d=(m,f)=>a[f]?m.route.id!==a[f].route.id:!0,h=(m,f)=>a[f].pathname!==m.pathname||a[f].route.path?.endsWith("*")&&a[f].params["*"]!==m.params["*"];return c==="assets"?t.filter((m,f)=>d(m,f)||h(m,f)):c==="data"?t.filter((m,f)=>{let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(d(m,f)||h(m,f))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _j(n,t,{includeHydrateFallback:a}={}){return Ej(n.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),a&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Ej(n){return[...new Set(n)]}function Rj(n){let t={},a=Object.keys(n).sort();for(let r of a)t[r]=n[r];return t}function Tj(n,t){let a=new Set;return new Set(t),n.reduce((r,l)=>{let c=JSON.stringify(Rj(l));return a.has(c)||(a.add(c),r.push({key:c,link:l})),r},[])}function Db(){let n=k.useContext(jr);return f0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Oj(){let n=k.useContext(sd);return f0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var x0=k.createContext(void 0);x0.displayName="FrameworkContext";function _b(){let n=k.useContext(x0);return f0(n,"You must render this element inside a <HydratedRouter> element"),n}function zj(n,t){let a=k.useContext(x0),[r,l]=k.useState(!1),[c,d]=k.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:b}=t,w=k.useRef(null);k.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let j=M=>{M.forEach(B=>{d(B.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[n]),k.useEffect(()=>{if(r){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[r]);let y=()=>{l(!0)},v=()=>{l(!1),d(!1)};return a?n!=="intent"?[c,w,{}]:[c,w,{onFocus:Sl(h,y),onBlur:Sl(m,v),onMouseEnter:Sl(f,y),onMouseLeave:Sl(g,v),onTouchStart:Sl(b,y)}]:[!1,w,{}]}function Sl(n,t){return a=>{n&&n(a),a.defaultPrevented||t(a)}}function Bj({page:n,...t}){let{router:a}=Db(),r=k.useMemo(()=>gb(a.routes,n,a.basename),[a.routes,n,a.basename]);return r?k.createElement(Ij,{page:n,matches:r,...t}):null}function Pj(n){let{manifest:t,routeModules:a}=_b(),[r,l]=k.useState([]);return k.useEffect(()=>{let c=!1;return Dj(n,t,a).then(d=>{c||l(d)}),()=>{c=!0}},[n,t,a]),r}function Ij({page:n,matches:t,...a}){let r=vn(),{manifest:l,routeModules:c}=_b(),{basename:d}=Db(),{loaderData:h,matches:m}=Oj(),f=k.useMemo(()=>Mg(n,t,m,l,r,"data"),[n,t,m,l,r]),g=k.useMemo(()=>Mg(n,t,m,l,r,"assets"),[n,t,m,l,r]),b=k.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,j=!1;if(t.forEach(M=>{let B=l.routes[M.route.id];!B||!B.hasLoader||(!f.some(A=>A.route.id===M.route.id)&&M.route.id in h&&c[M.route.id]?.shouldRevalidate||B.hasClientLoader?j=!0:v.add(M.route.id))}),v.size===0)return[];let N=Mj(n,d,"data");return j&&v.size>0&&N.searchParams.set("_routes",t.filter(M=>v.has(M.route.id)).map(M=>M.route.id).join(",")),[N.pathname+N.search]},[d,h,r,l,f,t,n,c]),w=k.useMemo(()=>_j(g,l),[g,l]),y=Pj(g);return k.createElement(k.Fragment,null,b.map(v=>k.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...a})),w.map(v=>k.createElement("link",{key:v,rel:"modulepreload",href:v,...a})),y.map(({key:v,link:j})=>k.createElement("link",{key:v,nonce:a.nonce,...j})))}function Hj(...n){return t=>{n.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var Uj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uj&&(window.__reactRouterVersion="7.11.0")}catch{}function Fj({basename:n,children:t,unstable_useTransitions:a,window:r}){let l=k.useRef();l.current==null&&(l.current=bv({window:r,v5Compat:!0}));let c=l.current,[d,h]=k.useState({action:c.action,location:c.location}),m=k.useCallback(f=>{a===!1?h(f):k.startTransition(()=>h(f))},[a]);return k.useLayoutEffect(()=>c.listen(m),[c,m]),k.createElement(gj,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:a})}var Eb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rb=k.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:h,target:m,to:f,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:w,...y},v){let{basename:j,unstable_useTransitions:N}=k.useContext(Os),M=typeof f=="string"&&Eb.test(f),B=jb(f,j);f=B.to;let A=Zv(f,{relative:l}),[Y,V,D]=zj(r,y),z=qj(f,{replace:d,state:h,target:m,preventScrollReset:g,relative:l,viewTransition:b,unstable_defaultShouldRevalidate:w,unstable_useTransitions:N});function E(se){t&&t(se),se.defaultPrevented||z(se)}let F=k.createElement("a",{...y,...D,href:B.absoluteURL||A,onClick:B.isExternal||c?t:E,ref:Hj(v,V),target:m,"data-discover":!M&&a==="render"?"true":void 0});return Y&&!M?k.createElement(k.Fragment,null,F,k.createElement(Bj,{page:A})):F});Rb.displayName="Link";var Vj=k.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:h,children:m,...f},g){let b=Ql(d,{relative:f.relative}),w=vn(),y=k.useContext(sd),{navigator:v,basename:j}=k.useContext(Os),N=y!=null&&Kj(b)&&h===!0,M=v.encodeLocation?v.encodeLocation(b).pathname:b.pathname,B=w.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(B=B.toLowerCase(),A=A?A.toLowerCase():null,M=M.toLowerCase()),A&&j&&(A=qn(A,j)||A);const Y=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=B===M||!l&&B.startsWith(M)&&B.charAt(Y)==="/",D=A!=null&&(A===M||!l&&A.startsWith(M)&&A.charAt(M.length)==="/"),z={isActive:V,isPending:D,isTransitioning:N},E=V?t:void 0,F;typeof r=="function"?F=r(z):F=[r,V?"active":null,D?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let se=typeof c=="function"?c(z):c;return k.createElement(Rb,{...f,"aria-current":E,className:F,ref:g,style:se,to:d,viewTransition:h},typeof m=="function"?m(z):m)});Vj.displayName="NavLink";var Wj=k.forwardRef(({discover:n="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:l,state:c,method:d=Pc,action:h,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:w,...y},v)=>{let{unstable_useTransitions:j}=k.useContext(Os),N=Xj(),M=Gj(h,{relative:f}),B=d.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&Eb.test(h),Y=V=>{if(m&&m(V),V.defaultPrevented)return;V.preventDefault();let D=V.nativeEvent.submitter,z=D?.getAttribute("formmethod")||d,E=()=>N(D||V.currentTarget,{fetcherKey:t,method:z,navigate:a,replace:l,state:c,relative:f,preventScrollReset:g,viewTransition:b,unstable_defaultShouldRevalidate:w});j&&a!==!1?k.startTransition(()=>E()):E()};return k.createElement("form",{ref:v,method:B,action:M,onSubmit:r?m:Y,...y,"data-discover":!A&&n==="render"?"true":void 0})});Wj.displayName="Form";function $j(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(n){let t=k.useContext(jr);return yt(t,$j(n)),t}function qj(n,{target:t,replace:a,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let f=mt(),g=vn(),b=Ql(n,{relative:c});return k.useCallback(w=>{if(wj(w,t)){w.preventDefault();let y=a!==void 0?a:Il(g)===Il(b),v=()=>f(n,{replace:y,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h});m?k.startTransition(()=>v()):v()}},[g,f,b,a,r,t,n,l,c,d,h,m])}function wi(n){Ts(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=k.useRef(Xh(n)),a=k.useRef(!1),r=vn(),l=k.useMemo(()=>Nj(r.search,a.current?null:t.current),[r.search]),c=mt(),d=k.useCallback((h,m)=>{const f=Xh(typeof h=="function"?h(new URLSearchParams(l)):h);a.current=!0,c("?"+f,m)},[c,l]);return[l,d]}var Yj=0,Qj=()=>`__${String(++Yj)}__`;function Xj(){let{router:n}=Tb("useSubmit"),{basename:t}=k.useContext(Os),a=uj(),r=n.fetch,l=n.navigate;return k.useCallback(async(c,d={})=>{let{action:h,method:m,encType:f,formData:g,body:b}=Cj(c,t);if(d.navigate===!1){let w=d.fetcherKey||Qj();await r(w,a,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:g,body:b,formMethod:d.method||m,formEncType:d.encType||f,flushSync:d.flushSync})}else await l(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:g,body:b,formMethod:d.method||m,formEncType:d.encType||f,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,t,a])}function Gj(n,{relative:t}={}){let{basename:a}=k.useContext(Os),r=k.useContext(Qs);yt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...Ql(n||".",{relative:t})},d=vn();if(n==null){c.search=d.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(g=>g==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();c.search=g?`?${g}`:""}}return(!n||n===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(c.pathname=c.pathname==="/"?a:$n([a,c.pathname])),Il(c)}function Kj(n,{relative:t}={}){let a=k.useContext(Nb);yt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Tb("useViewTransitionState"),l=Ql(n,{relative:t});if(!a.isTransitioning)return!1;let c=qn(a.currentLocation.pathname,r)||a.currentLocation.pathname,d=qn(a.nextLocation.pathname,r)||a.nextLocation.pathname;return $c(l.pathname,d)!=null||$c(l.pathname,c)!=null}const Mh=[{id:"analytical-dashboard",label:"Dashboard",path:"/projects/dashboard",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"project-management",label:"Project Management",path:"/projects",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}];function Zj({isOpen:n=!1,onClose:t}){const a=vn(),r=mt(),l=[{id:"dashboard",label:"Dashboard",path:"/dashboard",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})},{id:"contacts",label:"Contacts",path:"/contacts",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})},{id:"import",label:"Import",path:"/import",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}],c={label:"Master Dashboard",path:"/master-dashboard",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},d=v=>v==="/dashboard"||v==="/"?a.pathname==="/dashboard"||a.pathname==="/":v==="/master-dashboard"?a.pathname==="/master-dashboard":v==="/projects/dashboard"?a.pathname==="/projects/dashboard":v==="/projects"?a.pathname==="/projects"||a.pathname.startsWith("/projects/")&&a.pathname!=="/projects/dashboard"&&!a.pathname.startsWith("/projects/dashboard/"):a.pathname.startsWith(v),h=l.some(v=>d(v.path)),[m,f]=k.useState(h),g=Mh.some(v=>d(v.path)),[b,w]=k.useState(g);k.useEffect(()=>{l.some(j=>d(j.path))&&f(!0)},[a.pathname]),k.useEffect(()=>{Mh.some(j=>d(j.path))&&w(!0)},[a.pathname]);const y=v=>{r(v),t&&t()};return e.jsxs("div",{className:`
      w-64 bg-white border-r border-gray-200 h-screen flex flex-col fixed left-0 top-0 z-50
      transform transition-transform duration-300 ease-in-out
      lg:translate-x-0
      ${n?"translate-x-0":"-translate-x-full"}
    `,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})})}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:"Outbound SaaS"})]}),e.jsx("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100","aria-label":"Close menu",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("nav",{className:"flex-1 px-4 py-4 overflow-y-auto",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>f(!m),className:"w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Databank"})]}),e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${m?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),m&&e.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 pl-2",children:l.map(v=>{const j=d(v.path);return e.jsxs("button",{onClick:()=>y(v.path==="/dashboard"?"/":v.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${j?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx("span",{className:j?"text-blue-600":"text-gray-500",children:v.icon}),e.jsx("span",{className:`text-sm font-medium ${j?"text-blue-600":"text-gray-700"}`,children:v.label})]},v.id)})})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("button",{onClick:()=>w(!b),className:"w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-gray-700 hover:bg-gray-50 hover:text-gray-900 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Projects"})]}),e.jsx("svg",{className:`w-4 h-4 text-gray-500 transition-transform ${b?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),b&&e.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 pl-2",children:Mh.map(v=>{const j=d(v.path);return e.jsxs("button",{onClick:()=>y(v.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${j?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx("span",{className:j?"text-blue-600":"text-gray-500",children:v.icon}),e.jsx("span",{className:`text-sm font-medium ${j?"text-blue-600":"text-gray-700"}`,children:v.label})]},v.id)})})]}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{onClick:()=>y(c.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${d(c.path)?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx("span",{className:d(c.path)?"text-blue-600":"text-gray-500",children:c.icon}),e.jsx("span",{className:`text-sm font-medium ${d(c.path)?"text-blue-600":"text-gray-700"}`,children:c.label})]})}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{onClick:()=>y("/employee-performance"),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors ${d("/employee-performance")?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx("span",{className:d("/employee-performance")?"text-blue-600":"text-gray-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("span",{className:`text-sm font-medium ${d("/employee-performance")?"text-blue-600":"text-gray-700"}`,children:"Employee Performance"})]})})]})}),e.jsxs("div",{className:"px-4 py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:(()=>{const v=JSON.parse(localStorage.getItem("user")||"{}");return v.name?v.name.charAt(0).toUpperCase():"U"})()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(()=>{const v=JSON.parse(localStorage.getItem("user")||"{}");return v.name||v.email||"User"})()}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:JSON.parse(localStorage.getItem("user")||"{}").email||""})]})]}),e.jsxs("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r("/login")},className:"w-full flex items-center gap-2 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})}function Jj(){const n=localStorage.getItem("token"),[t,a]=k.useState(!1);return n?e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>a(!1)}),e.jsx(Zj,{isOpen:t,onClose:()=>a(!1)}),e.jsxs("main",{className:"flex-1 lg:ml-64 overflow-y-auto",children:[e.jsxs("div",{className:"lg:hidden sticky top-0 z-30 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>a(!t),className:"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500","aria-label":"Toggle menu",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})})}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Outbound SaaS"})]})]}),e.jsx(xj,{context:{setSidebarOpen:a}})]})]}):e.jsx(qc,{to:"/login",replace:!0})}function Ob(n,t){return function(){return n.apply(t,arguments)}}const{toString:ew}=Object.prototype,{getPrototypeOf:g0}=Object,{iterator:ad,toStringTag:zb}=Symbol,id=(n=>t=>{const a=ew.call(t);return n[a]||(n[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),sn=n=>(n=n.toLowerCase(),t=>id(t)===n),rd=n=>t=>typeof t===n,{isArray:Nr}=Array,gr=rd("undefined");function Xl(n){return n!==null&&!gr(n)&&n.constructor!==null&&!gr(n.constructor)&&Ns(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Bb=sn("ArrayBuffer");function tw(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&Bb(n.buffer),t}const sw=rd("string"),Ns=rd("function"),Pb=rd("number"),Gl=n=>n!==null&&typeof n=="object",nw=n=>n===!0||n===!1,Hc=n=>{if(id(n)!=="object")return!1;const t=g0(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zb in n)&&!(ad in n)},aw=n=>{if(!Gl(n)||Xl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},iw=sn("Date"),rw=sn("File"),lw=sn("Blob"),ow=sn("FileList"),cw=n=>Gl(n)&&Ns(n.pipe),dw=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Ns(n.append)&&((t=id(n))==="formdata"||t==="object"&&Ns(n.toString)&&n.toString()==="[object FormData]"))},uw=sn("URLSearchParams"),[hw,mw,fw,xw]=["ReadableStream","Request","Response","Headers"].map(sn),gw=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kl(n,t,{allOwnKeys:a=!1}={}){if(n===null||typeof n>"u")return;let r,l;if(typeof n!="object"&&(n=[n]),Nr(n))for(r=0,l=n.length;r<l;r++)t.call(null,n[r],r,n);else{if(Xl(n))return;const c=a?Object.getOwnPropertyNames(n):Object.keys(n),d=c.length;let h;for(r=0;r<d;r++)h=c[r],t.call(null,n[h],h,n)}}function Ib(n,t){if(Xl(n))return null;t=t.toLowerCase();const a=Object.keys(n);let r=a.length,l;for(;r-- >0;)if(l=a[r],t===l.toLowerCase())return l;return null}const fi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Hb=n=>!gr(n)&&n!==fi;function Gh(){const{caseless:n,skipUndefined:t}=Hb(this)&&this||{},a={},r=(l,c)=>{const d=n&&Ib(a,c)||c;Hc(a[d])&&Hc(l)?a[d]=Gh(a[d],l):Hc(l)?a[d]=Gh({},l):Nr(l)?a[d]=l.slice():(!t||!gr(l))&&(a[d]=l)};for(let l=0,c=arguments.length;l<c;l++)arguments[l]&&Kl(arguments[l],r);return a}const pw=(n,t,a,{allOwnKeys:r}={})=>(Kl(t,(l,c)=>{a&&Ns(l)?n[c]=Ob(l,a):n[c]=l},{allOwnKeys:r}),n),bw=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),yw=(n,t,a,r)=>{n.prototype=Object.create(t.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),a&&Object.assign(n.prototype,a)},vw=(n,t,a,r)=>{let l,c,d;const h={};if(t=t||{},n==null)return t;do{for(l=Object.getOwnPropertyNames(n),c=l.length;c-- >0;)d=l[c],(!r||r(d,n,t))&&!h[d]&&(t[d]=n[d],h[d]=!0);n=a!==!1&&g0(n)}while(n&&(!a||a(n,t))&&n!==Object.prototype);return t},jw=(n,t,a)=>{n=String(n),(a===void 0||a>n.length)&&(a=n.length),a-=t.length;const r=n.indexOf(t,a);return r!==-1&&r===a},ww=n=>{if(!n)return null;if(Nr(n))return n;let t=n.length;if(!Pb(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=n[t];return a},Nw=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&g0(Uint8Array)),kw=(n,t)=>{const r=(n&&n[ad]).call(n);let l;for(;(l=r.next())&&!l.done;){const c=l.value;t.call(n,c[0],c[1])}},Sw=(n,t)=>{let a;const r=[];for(;(a=n.exec(t))!==null;)r.push(a);return r},Cw=sn("HTMLFormElement"),Mw=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,l){return r.toUpperCase()+l}),Lg=(({hasOwnProperty:n})=>(t,a)=>n.call(t,a))(Object.prototype),Lw=sn("RegExp"),Ub=(n,t)=>{const a=Object.getOwnPropertyDescriptors(n),r={};Kl(a,(l,c)=>{let d;(d=t(l,c,n))!==!1&&(r[c]=d||l)}),Object.defineProperties(n,r)},Aw=n=>{Ub(n,(t,a)=>{if(Ns(n)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=n[a];if(Ns(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Dw=(n,t)=>{const a={},r=l=>{l.forEach(c=>{a[c]=!0})};return Nr(n)?r(n):r(String(n).split(t)),a},_w=()=>{},Ew=(n,t)=>n!=null&&Number.isFinite(n=+n)?n:t;function Rw(n){return!!(n&&Ns(n.append)&&n[zb]==="FormData"&&n[ad])}const Tw=n=>{const t=new Array(10),a=(r,l)=>{if(Gl(r)){if(t.indexOf(r)>=0)return;if(Xl(r))return r;if(!("toJSON"in r)){t[l]=r;const c=Nr(r)?[]:{};return Kl(r,(d,h)=>{const m=a(d,l+1);!gr(m)&&(c[h]=m)}),t[l]=void 0,c}}return r};return a(n,0)},Ow=sn("AsyncFunction"),zw=n=>n&&(Gl(n)||Ns(n))&&Ns(n.then)&&Ns(n.catch),Fb=((n,t)=>n?setImmediate:t?((a,r)=>(fi.addEventListener("message",({source:l,data:c})=>{l===fi&&c===a&&r.length&&r.shift()()},!1),l=>{r.push(l),fi.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Ns(fi.postMessage)),Bw=typeof queueMicrotask<"u"?queueMicrotask.bind(fi):typeof process<"u"&&process.nextTick||Fb,Pw=n=>n!=null&&Ns(n[ad]),me={isArray:Nr,isArrayBuffer:Bb,isBuffer:Xl,isFormData:dw,isArrayBufferView:tw,isString:sw,isNumber:Pb,isBoolean:nw,isObject:Gl,isPlainObject:Hc,isEmptyObject:aw,isReadableStream:hw,isRequest:mw,isResponse:fw,isHeaders:xw,isUndefined:gr,isDate:iw,isFile:rw,isBlob:lw,isRegExp:Lw,isFunction:Ns,isStream:cw,isURLSearchParams:uw,isTypedArray:Nw,isFileList:ow,forEach:Kl,merge:Gh,extend:pw,trim:gw,stripBOM:bw,inherits:yw,toFlatObject:vw,kindOf:id,kindOfTest:sn,endsWith:jw,toArray:ww,forEachEntry:kw,matchAll:Sw,isHTMLForm:Cw,hasOwnProperty:Lg,hasOwnProp:Lg,reduceDescriptors:Ub,freezeMethods:Aw,toObjectSet:Dw,toCamelCase:Mw,noop:_w,toFiniteNumber:Ew,findKey:Ib,global:fi,isContextDefined:Hb,isSpecCompliantForm:Rw,toJSONObject:Tw,isAsyncFn:Ow,isThenable:zw,setImmediate:Fb,asap:Bw,isIterable:Pw};function Pe(n,t,a,r,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),l&&(this.response=l,this.status=l.status?l.status:null)}me.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Vb=Pe.prototype,Wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Wb[n]={value:n}});Object.defineProperties(Pe,Wb);Object.defineProperty(Vb,"isAxiosError",{value:!0});Pe.from=(n,t,a,r,l,c)=>{const d=Object.create(Vb);me.toFlatObject(n,d,function(g){return g!==Error.prototype},f=>f!=="isAxiosError");const h=n&&n.message?n.message:"Error",m=t==null&&n?n.code:t;return Pe.call(d,h,m,a,r,l),n&&d.cause==null&&Object.defineProperty(d,"cause",{value:n,configurable:!0}),d.name=n&&n.name||"Error",c&&Object.assign(d,c),d};const Iw=null;function Kh(n){return me.isPlainObject(n)||me.isArray(n)}function $b(n){return me.endsWith(n,"[]")?n.slice(0,-2):n}function Ag(n,t,a){return n?n.concat(t).map(function(l,c){return l=$b(l),!a&&c?"["+l+"]":l}).join(a?".":""):t}function Hw(n){return me.isArray(n)&&!n.some(Kh)}const Uw=me.toFlatObject(me,{},null,function(t){return/^is[A-Z]/.test(t)});function ld(n,t,a){if(!me.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,a=me.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,N){return!me.isUndefined(N[j])});const r=a.metaTokens,l=a.visitor||g,c=a.dots,d=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(t);if(!me.isFunction(l))throw new TypeError("visitor must be a function");function f(v){if(v===null)return"";if(me.isDate(v))return v.toISOString();if(me.isBoolean(v))return v.toString();if(!m&&me.isBlob(v))throw new Pe("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(v)||me.isTypedArray(v)?m&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function g(v,j,N){let M=v;if(v&&!N&&typeof v=="object"){if(me.endsWith(j,"{}"))j=r?j:j.slice(0,-2),v=JSON.stringify(v);else if(me.isArray(v)&&Hw(v)||(me.isFileList(v)||me.endsWith(j,"[]"))&&(M=me.toArray(v)))return j=$b(j),M.forEach(function(A,Y){!(me.isUndefined(A)||A===null)&&t.append(d===!0?Ag([j],Y,c):d===null?j:j+"[]",f(A))}),!1}return Kh(v)?!0:(t.append(Ag(N,j,c),f(v)),!1)}const b=[],w=Object.assign(Uw,{defaultVisitor:g,convertValue:f,isVisitable:Kh});function y(v,j){if(!me.isUndefined(v)){if(b.indexOf(v)!==-1)throw Error("Circular reference detected in "+j.join("."));b.push(v),me.forEach(v,function(M,B){(!(me.isUndefined(M)||M===null)&&l.call(t,M,me.isString(B)?B.trim():B,j,w))===!0&&y(M,j?j.concat(B):[B])}),b.pop()}}if(!me.isObject(n))throw new TypeError("data must be an object");return y(n),t}function Dg(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function p0(n,t){this._pairs=[],n&&ld(n,this,t)}const qb=p0.prototype;qb.append=function(t,a){this._pairs.push([t,a])};qb.toString=function(t){const a=t?function(r){return t.call(this,r,Dg)}:Dg;return this._pairs.map(function(l){return a(l[0])+"="+a(l[1])},"").join("&")};function Fw(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Yb(n,t,a){if(!t)return n;const r=a&&a.encode||Fw;me.isFunction(a)&&(a={serialize:a});const l=a&&a.serialize;let c;if(l?c=l(t,a):c=me.isURLSearchParams(t)?t.toString():new p0(t,a).toString(r),c){const d=n.indexOf("#");d!==-1&&(n=n.slice(0,d)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class _g{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){me.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Qb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vw=typeof URLSearchParams<"u"?URLSearchParams:p0,Ww=typeof FormData<"u"?FormData:null,$w=typeof Blob<"u"?Blob:null,qw={isBrowser:!0,classes:{URLSearchParams:Vw,FormData:Ww,Blob:$w},protocols:["http","https","file","blob","url","data"]},b0=typeof window<"u"&&typeof document<"u",Zh=typeof navigator=="object"&&navigator||void 0,Yw=b0&&(!Zh||["ReactNative","NativeScript","NS"].indexOf(Zh.product)<0),Qw=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Xw=b0&&window.location.href||"http://localhost",Gw=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:b0,hasStandardBrowserEnv:Yw,hasStandardBrowserWebWorkerEnv:Qw,navigator:Zh,origin:Xw},Symbol.toStringTag,{value:"Module"})),ts={...Gw,...qw};function Kw(n,t){return ld(n,new ts.classes.URLSearchParams,{visitor:function(a,r,l,c){return ts.isNode&&me.isBuffer(a)?(this.append(r,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)},...t})}function Zw(n){return me.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jw(n){const t={},a=Object.keys(n);let r;const l=a.length;let c;for(r=0;r<l;r++)c=a[r],t[c]=n[c];return t}function Xb(n){function t(a,r,l,c){let d=a[c++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),m=c>=a.length;return d=!d&&me.isArray(l)?l.length:d,m?(me.hasOwnProp(l,d)?l[d]=[l[d],r]:l[d]=r,!h):((!l[d]||!me.isObject(l[d]))&&(l[d]=[]),t(a,r,l[d],c)&&me.isArray(l[d])&&(l[d]=Jw(l[d])),!h)}if(me.isFormData(n)&&me.isFunction(n.entries)){const a={};return me.forEachEntry(n,(r,l)=>{t(Zw(r),l,a,0)}),a}return null}function e4(n,t,a){if(me.isString(n))try{return(t||JSON.parse)(n),me.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(n)}const Zl={transitional:Qb,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",l=r.indexOf("application/json")>-1,c=me.isObject(t);if(c&&me.isHTMLForm(t)&&(t=new FormData(t)),me.isFormData(t))return l?JSON.stringify(Xb(t)):t;if(me.isArrayBuffer(t)||me.isBuffer(t)||me.isStream(t)||me.isFile(t)||me.isBlob(t)||me.isReadableStream(t))return t;if(me.isArrayBufferView(t))return t.buffer;if(me.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(c){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Kw(t,this.formSerializer).toString();if((h=me.isFileList(t))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ld(h?{"files[]":t}:t,m&&new m,this.formSerializer)}}return c||l?(a.setContentType("application/json",!1),e4(t)):t}],transformResponse:[function(t){const a=this.transitional||Zl.transitional,r=a&&a.forcedJSONParsing,l=this.responseType==="json";if(me.isResponse(t)||me.isReadableStream(t))return t;if(t&&me.isString(t)&&(r&&!this.responseType||l)){const d=!(a&&a.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(h){if(d)throw h.name==="SyntaxError"?Pe.from(h,Pe.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ts.classes.FormData,Blob:ts.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],n=>{Zl.headers[n]={}});const t4=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s4=n=>{const t={};let a,r,l;return n&&n.split(`
`).forEach(function(d){l=d.indexOf(":"),a=d.substring(0,l).trim().toLowerCase(),r=d.substring(l+1).trim(),!(!a||t[a]&&t4[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},Eg=Symbol("internals");function Cl(n){return n&&String(n).trim().toLowerCase()}function Uc(n){return n===!1||n==null?n:me.isArray(n)?n.map(Uc):String(n)}function n4(n){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(n);)t[r[1]]=r[2];return t}const a4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Lh(n,t,a,r,l){if(me.isFunction(r))return r.call(this,t,a);if(l&&(t=a),!!me.isString(t)){if(me.isString(r))return t.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(t)}}function i4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function r4(n,t){const a=me.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+a,{value:function(l,c,d){return this[r].call(this,t,l,c,d)},configurable:!0})})}let ks=class{constructor(t){t&&this.set(t)}set(t,a,r){const l=this;function c(h,m,f){const g=Cl(m);if(!g)throw new Error("header name must be a non-empty string");const b=me.findKey(l,g);(!b||l[b]===void 0||f===!0||f===void 0&&l[b]!==!1)&&(l[b||m]=Uc(h))}const d=(h,m)=>me.forEach(h,(f,g)=>c(f,g,m));if(me.isPlainObject(t)||t instanceof this.constructor)d(t,a);else if(me.isString(t)&&(t=t.trim())&&!a4(t))d(s4(t),a);else if(me.isObject(t)&&me.isIterable(t)){let h={},m,f;for(const g of t){if(!me.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[f=g[0]]=(m=h[f])?me.isArray(m)?[...m,g[1]]:[m,g[1]]:g[1]}d(h,a)}else t!=null&&c(a,t,r);return this}get(t,a){if(t=Cl(t),t){const r=me.findKey(this,t);if(r){const l=this[r];if(!a)return l;if(a===!0)return n4(l);if(me.isFunction(a))return a.call(this,l,r);if(me.isRegExp(a))return a.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=Cl(t),t){const r=me.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||Lh(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let l=!1;function c(d){if(d=Cl(d),d){const h=me.findKey(r,d);h&&(!a||Lh(r,r[h],h,a))&&(delete r[h],l=!0)}}return me.isArray(t)?t.forEach(c):c(t),l}clear(t){const a=Object.keys(this);let r=a.length,l=!1;for(;r--;){const c=a[r];(!t||Lh(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const a=this,r={};return me.forEach(this,(l,c)=>{const d=me.findKey(r,c);if(d){a[d]=Uc(l),delete a[c];return}const h=t?i4(c):String(c).trim();h!==c&&delete a[c],a[h]=Uc(l),r[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return me.forEach(this,(r,l)=>{r!=null&&r!==!1&&(a[l]=t&&me.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(l=>r.set(l)),r}static accessor(t){const r=(this[Eg]=this[Eg]={accessors:{}}).accessors,l=this.prototype;function c(d){const h=Cl(d);r[h]||(r4(l,d),r[h]=!0)}return me.isArray(t)?t.forEach(c):c(t),this}};ks.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(ks.prototype,({value:n},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(r){this[a]=r}}});me.freezeMethods(ks);function Ah(n,t){const a=this||Zl,r=t||a,l=ks.from(r.headers);let c=r.data;return me.forEach(n,function(h){c=h.call(a,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function Gb(n){return!!(n&&n.__CANCEL__)}function kr(n,t,a){Pe.call(this,n??"canceled",Pe.ERR_CANCELED,t,a),this.name="CanceledError"}me.inherits(kr,Pe,{__CANCEL__:!0});function Kb(n,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?n(a):t(new Pe("Request failed with status code "+a.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function l4(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function o4(n,t){n=n||10;const a=new Array(n),r=new Array(n);let l=0,c=0,d;return t=t!==void 0?t:1e3,function(m){const f=Date.now(),g=r[c];d||(d=f),a[l]=m,r[l]=f;let b=c,w=0;for(;b!==l;)w+=a[b++],b=b%n;if(l=(l+1)%n,l===c&&(c=(c+1)%n),f-d<t)return;const y=g&&f-g;return y?Math.round(w*1e3/y):void 0}}function c4(n,t){let a=0,r=1e3/t,l,c;const d=(f,g=Date.now())=>{a=g,l=null,c&&(clearTimeout(c),c=null),n(...f)};return[(...f)=>{const g=Date.now(),b=g-a;b>=r?d(f,g):(l=f,c||(c=setTimeout(()=>{c=null,d(l)},r-b)))},()=>l&&d(l)]}const Yc=(n,t,a=3)=>{let r=0;const l=o4(50,250);return c4(c=>{const d=c.loaded,h=c.lengthComputable?c.total:void 0,m=d-r,f=l(m),g=d<=h;r=d;const b={loaded:d,total:h,progress:h?d/h:void 0,bytes:m,rate:f||void 0,estimated:f&&h&&g?(h-d)/f:void 0,event:c,lengthComputable:h!=null,[t?"download":"upload"]:!0};n(b)},a)},Rg=(n,t)=>{const a=n!=null;return[r=>t[0]({lengthComputable:a,total:n,loaded:r}),t[1]]},Tg=n=>(...t)=>me.asap(()=>n(...t)),d4=ts.hasStandardBrowserEnv?((n,t)=>a=>(a=new URL(a,ts.origin),n.protocol===a.protocol&&n.host===a.host&&(t||n.port===a.port)))(new URL(ts.origin),ts.navigator&&/(msie|trident)/i.test(ts.navigator.userAgent)):()=>!0,u4=ts.hasStandardBrowserEnv?{write(n,t,a,r,l,c,d){if(typeof document>"u")return;const h=[`${n}=${encodeURIComponent(t)}`];me.isNumber(a)&&h.push(`expires=${new Date(a).toUTCString()}`),me.isString(r)&&h.push(`path=${r}`),me.isString(l)&&h.push(`domain=${l}`),c===!0&&h.push("secure"),me.isString(d)&&h.push(`SameSite=${d}`),document.cookie=h.join("; ")},read(n){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function h4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function m4(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function Zb(n,t,a){let r=!h4(t);return n&&(r||a==!1)?m4(n,t):t}const Og=n=>n instanceof ks?{...n}:n;function bi(n,t){t=t||{};const a={};function r(f,g,b,w){return me.isPlainObject(f)&&me.isPlainObject(g)?me.merge.call({caseless:w},f,g):me.isPlainObject(g)?me.merge({},g):me.isArray(g)?g.slice():g}function l(f,g,b,w){if(me.isUndefined(g)){if(!me.isUndefined(f))return r(void 0,f,b,w)}else return r(f,g,b,w)}function c(f,g){if(!me.isUndefined(g))return r(void 0,g)}function d(f,g){if(me.isUndefined(g)){if(!me.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,b){if(b in t)return r(f,g);if(b in n)return r(void 0,f)}const m={url:c,method:c,data:c,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(f,g,b)=>l(Og(f),Og(g),b,!0)};return me.forEach(Object.keys({...n,...t}),function(g){const b=m[g]||l,w=b(n[g],t[g],g);me.isUndefined(w)&&b!==h||(a[g]=w)}),a}const Jb=n=>{const t=bi({},n);let{data:a,withXSRFToken:r,xsrfHeaderName:l,xsrfCookieName:c,headers:d,auth:h}=t;if(t.headers=d=ks.from(d),t.url=Yb(Zb(t.baseURL,t.url,t.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),me.isFormData(a)){if(ts.hasStandardBrowserEnv||ts.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(me.isFunction(a.getHeaders)){const m=a.getHeaders(),f=["content-type","content-length"];Object.entries(m).forEach(([g,b])=>{f.includes(g.toLowerCase())&&d.set(g,b)})}}if(ts.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(t)),r||r!==!1&&d4(t.url))){const m=l&&c&&u4.read(c);m&&d.set(l,m)}return t},f4=typeof XMLHttpRequest<"u",x4=f4&&function(n){return new Promise(function(a,r){const l=Jb(n);let c=l.data;const d=ks.from(l.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:f}=l,g,b,w,y,v;function j(){y&&y(),v&&v(),l.cancelToken&&l.cancelToken.unsubscribe(g),l.signal&&l.signal.removeEventListener("abort",g)}let N=new XMLHttpRequest;N.open(l.method.toUpperCase(),l.url,!0),N.timeout=l.timeout;function M(){if(!N)return;const A=ks.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),V={data:!h||h==="text"||h==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:A,config:n,request:N};Kb(function(z){a(z),j()},function(z){r(z),j()},V),N=null}"onloadend"in N?N.onloadend=M:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(M)},N.onabort=function(){N&&(r(new Pe("Request aborted",Pe.ECONNABORTED,n,N)),N=null)},N.onerror=function(Y){const V=Y&&Y.message?Y.message:"Network Error",D=new Pe(V,Pe.ERR_NETWORK,n,N);D.event=Y||null,r(D),N=null},N.ontimeout=function(){let Y=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const V=l.transitional||Qb;l.timeoutErrorMessage&&(Y=l.timeoutErrorMessage),r(new Pe(Y,V.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,n,N)),N=null},c===void 0&&d.setContentType(null),"setRequestHeader"in N&&me.forEach(d.toJSON(),function(Y,V){N.setRequestHeader(V,Y)}),me.isUndefined(l.withCredentials)||(N.withCredentials=!!l.withCredentials),h&&h!=="json"&&(N.responseType=l.responseType),f&&([w,v]=Yc(f,!0),N.addEventListener("progress",w)),m&&N.upload&&([b,y]=Yc(m),N.upload.addEventListener("progress",b),N.upload.addEventListener("loadend",y)),(l.cancelToken||l.signal)&&(g=A=>{N&&(r(!A||A.type?new kr(null,n,N):A),N.abort(),N=null)},l.cancelToken&&l.cancelToken.subscribe(g),l.signal&&(l.signal.aborted?g():l.signal.addEventListener("abort",g)));const B=l4(l.url);if(B&&ts.protocols.indexOf(B)===-1){r(new Pe("Unsupported protocol "+B+":",Pe.ERR_BAD_REQUEST,n));return}N.send(c||null)})},g4=(n,t)=>{const{length:a}=n=n?n.filter(Boolean):[];if(t||a){let r=new AbortController,l;const c=function(f){if(!l){l=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Pe?g:new kr(g instanceof Error?g.message:g))}};let d=t&&setTimeout(()=>{d=null,c(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const h=()=>{n&&(d&&clearTimeout(d),d=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(c):f.removeEventListener("abort",c)}),n=null)};n.forEach(f=>f.addEventListener("abort",c));const{signal:m}=r;return m.unsubscribe=()=>me.asap(h),m}},p4=function*(n,t){let a=n.byteLength;if(a<t){yield n;return}let r=0,l;for(;r<a;)l=r+t,yield n.slice(r,l),r=l},b4=async function*(n,t){for await(const a of y4(n))yield*p4(a,t)},y4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const t=n.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},zg=(n,t,a,r)=>{const l=b4(n,t);let c=0,d,h=m=>{d||(d=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:f,value:g}=await l.next();if(f){h(),m.close();return}let b=g.byteLength;if(a){let w=c+=b;a(w)}m.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(m){return h(m),l.return()}},{highWaterMark:2})},Bg=64*1024,{isFunction:jc}=me,v4=(({Request:n,Response:t})=>({Request:n,Response:t}))(me.global),{ReadableStream:Pg,TextEncoder:Ig}=me.global,Hg=(n,...t)=>{try{return!!n(...t)}catch{return!1}},j4=n=>{n=me.merge.call({skipUndefined:!0},v4,n);const{fetch:t,Request:a,Response:r}=n,l=t?jc(t):typeof fetch=="function",c=jc(a),d=jc(r);if(!l)return!1;const h=l&&jc(Pg),m=l&&(typeof Ig=="function"?(v=>j=>v.encode(j))(new Ig):async v=>new Uint8Array(await new a(v).arrayBuffer())),f=c&&h&&Hg(()=>{let v=!1;const j=new a(ts.origin,{body:new Pg,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!j}),g=d&&h&&Hg(()=>me.isReadableStream(new r("").body)),b={stream:g&&(v=>v.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!b[v]&&(b[v]=(j,N)=>{let M=j&&j[v];if(M)return M.call(j);throw new Pe(`Response type '${v}' is not supported`,Pe.ERR_NOT_SUPPORT,N)})});const w=async v=>{if(v==null)return 0;if(me.isBlob(v))return v.size;if(me.isSpecCompliantForm(v))return(await new a(ts.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(me.isArrayBufferView(v)||me.isArrayBuffer(v))return v.byteLength;if(me.isURLSearchParams(v)&&(v=v+""),me.isString(v))return(await m(v)).byteLength},y=async(v,j)=>{const N=me.toFiniteNumber(v.getContentLength());return N??w(j)};return async v=>{let{url:j,method:N,data:M,signal:B,cancelToken:A,timeout:Y,onDownloadProgress:V,onUploadProgress:D,responseType:z,headers:E,withCredentials:F="same-origin",fetchOptions:se}=Jb(v),O=t||fetch;z=z?(z+"").toLowerCase():"text";let U=g4([B,A&&A.toAbortSignal()],Y),I=null;const $=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let G;try{if(D&&f&&N!=="get"&&N!=="head"&&(G=await y(E,M))!==0){let C=new a(j,{method:"POST",body:M,duplex:"half"}),H;if(me.isFormData(M)&&(H=C.headers.get("content-type"))&&E.setContentType(H),C.body){const[ue,ge]=Rg(G,Yc(Tg(D)));M=zg(C.body,Bg,ue,ge)}}me.isString(F)||(F=F?"include":"omit");const P=c&&"credentials"in a.prototype,X={...se,signal:U,method:N.toUpperCase(),headers:E.normalize().toJSON(),body:M,duplex:"half",credentials:P?F:void 0};I=c&&new a(j,X);let T=await(c?O(I,se):O(j,X));const W=g&&(z==="stream"||z==="response");if(g&&(V||W&&$)){const C={};["status","statusText","headers"].forEach(L=>{C[L]=T[L]});const H=me.toFiniteNumber(T.headers.get("content-length")),[ue,ge]=V&&Rg(H,Yc(Tg(V),!0))||[];T=new r(zg(T.body,Bg,ue,()=>{ge&&ge(),$&&$()}),C)}z=z||"text";let je=await b[me.findKey(b,z)||"text"](T,v);return!W&&$&&$(),await new Promise((C,H)=>{Kb(C,H,{data:je,headers:ks.from(T.headers),status:T.status,statusText:T.statusText,config:v,request:I})})}catch(P){throw $&&$(),P&&P.name==="TypeError"&&/Load failed|fetch/i.test(P.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,v,I),{cause:P.cause||P}):Pe.from(P,P&&P.code,v,I)}}},w4=new Map,e2=n=>{let t=n&&n.env||{};const{fetch:a,Request:r,Response:l}=t,c=[r,l,a];let d=c.length,h=d,m,f,g=w4;for(;h--;)m=c[h],f=g.get(m),f===void 0&&g.set(m,f=h?new Map:j4(t)),g=f;return f};e2();const y0={http:Iw,xhr:x4,fetch:{get:e2}};me.forEach(y0,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const Ug=n=>`- ${n}`,N4=n=>me.isFunction(n)||n===null||n===!1;function k4(n,t){n=me.isArray(n)?n:[n];const{length:a}=n;let r,l;const c={};for(let d=0;d<a;d++){r=n[d];let h;if(l=r,!N4(r)&&(l=y0[(h=String(r)).toLowerCase()],l===void 0))throw new Pe(`Unknown adapter '${h}'`);if(l&&(me.isFunction(l)||(l=l.get(t))))break;c[h||"#"+d]=l}if(!l){const d=Object.entries(c).map(([m,f])=>`adapter ${m} `+(f===!1?"is not supported by the environment":"is not available in the build"));let h=a?d.length>1?`since :
`+d.map(Ug).join(`
`):" "+Ug(d[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return l}const t2={getAdapter:k4,adapters:y0};function Dh(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new kr(null,n)}function Fg(n){return Dh(n),n.headers=ks.from(n.headers),n.data=Ah.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),t2.getAdapter(n.adapter||Zl.adapter,n)(n).then(function(r){return Dh(n),r.data=Ah.call(n,n.transformResponse,r),r.headers=ks.from(r.headers),r},function(r){return Gb(r)||(Dh(n),r&&r.response&&(r.response.data=Ah.call(n,n.transformResponse,r.response),r.response.headers=ks.from(r.response.headers))),Promise.reject(r)})}const s2="1.13.2",od={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{od[n]=function(r){return typeof r===n||"a"+(t<1?"n ":" ")+n}});const Vg={};od.transitional=function(t,a,r){function l(c,d){return"[Axios v"+s2+"] Transitional option '"+c+"'"+d+(r?". "+r:"")}return(c,d,h)=>{if(t===!1)throw new Pe(l(d," has been removed"+(a?" in "+a:"")),Pe.ERR_DEPRECATED);return a&&!Vg[d]&&(Vg[d]=!0,console.warn(l(d," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(c,d,h):!0}};od.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function S4(n,t,a){if(typeof n!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let l=r.length;for(;l-- >0;){const c=r[l],d=t[c];if(d){const h=n[c],m=h===void 0||d(h,c,n);if(m!==!0)throw new Pe("option "+c+" must be "+m,Pe.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Pe("Unknown option "+c,Pe.ERR_BAD_OPTION)}}const Fc={assertOptions:S4,validators:od},fn=Fc.validators;let gi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new _g,response:new _g}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";try{r.stack?c&&!String(r.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+c):r.stack=c}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=bi(this.defaults,a);const{transitional:r,paramsSerializer:l,headers:c}=a;r!==void 0&&Fc.assertOptions(r,{silentJSONParsing:fn.transitional(fn.boolean),forcedJSONParsing:fn.transitional(fn.boolean),clarifyTimeoutError:fn.transitional(fn.boolean)},!1),l!=null&&(me.isFunction(l)?a.paramsSerializer={serialize:l}:Fc.assertOptions(l,{encode:fn.function,serialize:fn.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Fc.assertOptions(a,{baseUrl:fn.spelling("baseURL"),withXsrfToken:fn.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let d=c&&me.merge(c.common,c[a.method]);c&&me.forEach(["delete","get","head","post","put","patch","common"],v=>{delete c[v]}),a.headers=ks.concat(d,c);const h=[];let m=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(a)===!1||(m=m&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let g,b=0,w;if(!m){const v=[Fg.bind(this),void 0];for(v.unshift(...h),v.push(...f),w=v.length,g=Promise.resolve(a);b<w;)g=g.then(v[b++],v[b++]);return g}w=h.length;let y=a;for(;b<w;){const v=h[b++],j=h[b++];try{y=v(y)}catch(N){j.call(this,N);break}}try{g=Fg.call(this,y)}catch(v){return Promise.reject(v)}for(b=0,w=f.length;b<w;)g=g.then(f[b++],f[b++]);return g}getUri(t){t=bi(this.defaults,t);const a=Zb(t.baseURL,t.url,t.allowAbsoluteUrls);return Yb(a,t.params,t.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(t){gi.prototype[t]=function(a,r){return this.request(bi(r||{},{method:t,url:a,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(t){function a(r){return function(c,d,h){return this.request(bi(h||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:c,data:d}))}}gi.prototype[t]=a(),gi.prototype[t+"Form"]=a(!0)});let C4=class n2{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const r=this;this.promise.then(l=>{if(!r._listeners)return;let c=r._listeners.length;for(;c-- >0;)r._listeners[c](l);r._listeners=null}),this.promise.then=l=>{let c;const d=new Promise(h=>{r.subscribe(h),c=h}).then(l);return d.cancel=function(){r.unsubscribe(c)},d},t(function(c,d,h){r.reason||(r.reason=new kr(c,d,h),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new n2(function(l){t=l}),cancel:t}}};function M4(n){return function(a){return n.apply(null,a)}}function L4(n){return me.isObject(n)&&n.isAxiosError===!0}const Jh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Jh).forEach(([n,t])=>{Jh[t]=n});function a2(n){const t=new gi(n),a=Ob(gi.prototype.request,t);return me.extend(a,gi.prototype,t,{allOwnKeys:!0}),me.extend(a,t,null,{allOwnKeys:!0}),a.create=function(l){return a2(bi(n,l))},a}const wt=a2(Zl);wt.Axios=gi;wt.CanceledError=kr;wt.CancelToken=C4;wt.isCancel=Gb;wt.VERSION=s2;wt.toFormData=ld;wt.AxiosError=Pe;wt.Cancel=wt.CanceledError;wt.all=function(t){return Promise.all(t)};wt.spread=M4;wt.isAxiosError=L4;wt.mergeConfig=bi;wt.AxiosHeaders=ks;wt.formToJSON=n=>Xb(me.isHTMLForm(n)?new FormData(n):n);wt.getAdapter=t2.getAdapter;wt.HttpStatusCode=Jh;wt.default=wt;const{Axios:mS,AxiosError:fS,CanceledError:xS,isCancel:gS,CancelToken:pS,VERSION:bS,all:yS,Cancel:vS,isAxiosError:jS,spread:wS,toFormData:NS,AxiosHeaders:kS,HttpStatusCode:SS,formToJSON:CS,getAdapter:MS,mergeConfig:LS}=wt,A4=()=>{const t="http://localhost:5000/api".replace(/\/$/,"");return t.endsWith("/api")?t:`${t}/api`},Ae=wt.create({baseURL:A4()});Ae.interceptors.request.use(n=>{const t=localStorage.getItem("token");return t&&(n.headers.Authorization=`Bearer ${t}`),n});Ae.interceptors.response.use(n=>n,n=>(wt.isCancel&&wt.isCancel(n)||n.name==="CanceledError"||n.message==="canceled"||n.code==="ERR_CANCELED"||n.config&&n.config.signal&&n.config.signal.aborted||(n.response?(console.error("API Error Response:",n.response.status,n.response.statusText),console.error("Error Details:",JSON.stringify(n.response.data,null,2)),console.error("Request URL:",n.config?.baseURL+n.config?.url),console.error("Request Method:",n.config?.method?.toUpperCase())):n.request?(console.error("API Network Error - No response received"),console.error("Error Message:",n.message),console.error("Error Code:",n.code),console.error("Request URL:",n.config?.baseURL+n.config?.url)):console.error("API Request Setup Error:",n.message)),Promise.reject(n)));function D4(){const n=mt();k.useEffect(()=>{localStorage.getItem("token")&&n("/dashboard",{replace:!0})},[n]);const[t,a]=k.useState(!0),[r,l]=k.useState({email:"",password:"",name:""}),[c,d]=k.useState(!1),[h,m]=k.useState(""),f=w=>{l({...r,[w.target.name]:w.target.value}),m("")},g=()=>{l({email:"",password:"",name:""}),m("")},b=async w=>{if(w.preventDefault(),m(""),!r.email.trim()){m("Email is required");return}if(!r.password.trim()){m("Password is required");return}if(r.password.length<6){m("Password must be at least 6 characters long");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email.trim())){m("Please enter a valid email address");return}d(!0);try{const v=t?"/auth/login":"/auth/register",j=t?{email:r.email.trim(),password:r.password}:{email:r.email.trim(),password:r.password,...r.name&&r.name.trim()&&{name:r.name.trim()}},N=await Ae.post(v,j);N.data.success&&(localStorage.setItem("token",N.data.data.token),localStorage.setItem("user",JSON.stringify(N.data.data.user)),n("/dashboard"))}catch(v){v.code==="ERR_NETWORK"||v.message==="Network Error"||!v.response?m("Cannot connect to server. Please make sure the backend server is running on http://localhost:5000"):m(v.response?.data?.error||v.message||(t?"Login failed. Please check your credentials.":"Registration failed. Please try again."))}finally{d(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg",children:e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Outbound SaaS"}),e.jsx("p",{className:"text-gray-600",children:t?"Welcome back":"Let's get you started"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[e.jsxs("div",{className:"flex gap-2 mb-6 p-1 bg-gray-100 rounded-lg",children:[e.jsx("button",{type:"button",onClick:()=>{a(!0),g()},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${t?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Login"}),e.jsx("button",{type:"button",onClick:()=>{a(!1),g()},className:`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${t?"text-gray-600 hover:text-gray-900":"bg-white text-blue-600 shadow-sm"}`,children:"Register"})]}),h&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:h}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!t&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:f,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"Your name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:f,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"your@email.com"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),t&&e.jsx("button",{type:"button",onClick:()=>n("/reset-password"),className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Forgot Password?"})]}),e.jsx("input",{type:"password",name:"password",value:r.password,onChange:f,required:!0,minLength:6,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:""}),!t&&e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),e.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:c?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t?"Logging in...":"Creating account..."]}):t?"Login":"Create Account"})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:t?e.jsxs(e.Fragment,{children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>{a(!1),g()},className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign up"})]}):e.jsxs(e.Fragment,{children:["Already have an account?"," ",e.jsx("button",{onClick:()=>{a(!0),g()},className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign in"})]})})]})})}function _4(){const n=mt(),[t,a]=k.useState({email:"",newPassword:"",confirmPassword:""}),[r,l]=k.useState(!1),[c,d]=k.useState(""),[h,m]=k.useState(""),f=b=>{a({...t,[b.target.name]:b.target.value}),d(""),m("")},g=async b=>{if(b.preventDefault(),d(""),m(""),!t.email.trim()){d("Email is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())){d("Please enter a valid email address");return}if(!t.newPassword.trim()){d("New password is required");return}if(t.newPassword.length<6){d("Password must be at least 6 characters long");return}if(t.newPassword!==t.confirmPassword){d("Passwords do not match");return}l(!0);try{(await Ae.post("/auth/reset-password",{email:t.email.trim(),newPassword:t.newPassword})).data.success&&(m("Password reset successfully! Redirecting to login..."),setTimeout(()=>{n("/login")},2e3))}catch(y){y.code==="ERR_NETWORK"||y.message==="Network Error"||!y.response?d("Cannot connect to server. Please make sure the backend server is running."):d(y.response?.data?.error||y.message||"Failed to reset password")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4 shadow-lg",children:e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-full"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),e.jsx("p",{className:"text-gray-600",children:"Enter your email and new password to reset"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[c&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm",children:c}),h&&e.jsx("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 text-green-700 rounded-lg text-sm",children:h}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",name:"newPassword",value:t.newPassword,onChange:f,required:!0,minLength:6,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:""}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Must be at least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",name:"confirmPassword",value:t.confirmPassword,onChange:f,required:!0,minLength:6,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",name:"email",value:t.email,onChange:f,required:!0,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition",placeholder:"your@email.com"})]}),e.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all shadow-md hover:shadow-lg",children:r?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"})]})]}),e.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Remember your password?"," ",e.jsx("button",{onClick:()=>n("/login"),className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Sign in"})]})]})})}const E4="modulepreload",R4=function(n){return"/"+n},Wg={},Ut=function(t,a,r){let l=Promise.resolve();if(a&&a.length>0){let f=function(g){return Promise.all(g.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var d=f;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");l=f(a.map(g=>{if(g=R4(g),g in Wg)return;Wg[g]=!0;const b=g.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${w}`))return;const y=document.createElement("link");if(y.rel=b?"stylesheet":E4,b||(y.as="script"),y.crossOrigin="",y.href=g,m&&y.setAttribute("nonce",m),document.head.appendChild(y),b)return new Promise((v,j)=>{y.addEventListener("load",v),y.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return l.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})};function Jl(n){return n+.5|0}const ka=(n,t,a)=>Math.max(Math.min(n,a),t);function El(n){return ka(Jl(n*2.55),0,255)}function Ma(n){return ka(Jl(n*255),0,255)}function Vn(n){return ka(Jl(n/2.55)/100,0,1)}function $g(n){return ka(Jl(n*100),0,100)}const $s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},e0=[..."0123456789ABCDEF"],T4=n=>e0[n&15],O4=n=>e0[(n&240)>>4]+e0[n&15],wc=n=>(n&240)>>4===(n&15),z4=n=>wc(n.r)&&wc(n.g)&&wc(n.b)&&wc(n.a);function B4(n){var t=n.length,a;return n[0]==="#"&&(t===4||t===5?a={r:255&$s[n[1]]*17,g:255&$s[n[2]]*17,b:255&$s[n[3]]*17,a:t===5?$s[n[4]]*17:255}:(t===7||t===9)&&(a={r:$s[n[1]]<<4|$s[n[2]],g:$s[n[3]]<<4|$s[n[4]],b:$s[n[5]]<<4|$s[n[6]],a:t===9?$s[n[7]]<<4|$s[n[8]]:255})),a}const P4=(n,t)=>n<255?t(n):"";function I4(n){var t=z4(n)?T4:O4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+P4(n.a,t):void 0}const H4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i2(n,t,a){const r=t*Math.min(a,1-a),l=(c,d=(c+n/30)%12)=>a-r*Math.max(Math.min(d-3,9-d,1),-1);return[l(0),l(8),l(4)]}function U4(n,t,a){const r=(l,c=(l+n/60)%6)=>a-a*t*Math.max(Math.min(c,4-c,1),0);return[r(5),r(3),r(1)]}function F4(n,t,a){const r=i2(n,1,.5);let l;for(t+a>1&&(l=1/(t+a),t*=l,a*=l),l=0;l<3;l++)r[l]*=1-t-a,r[l]+=t;return r}function V4(n,t,a,r,l){return n===l?(t-a)/r+(t<a?6:0):t===l?(a-n)/r+2:(n-t)/r+4}function v0(n){const a=n.r/255,r=n.g/255,l=n.b/255,c=Math.max(a,r,l),d=Math.min(a,r,l),h=(c+d)/2;let m,f,g;return c!==d&&(g=c-d,f=h>.5?g/(2-c-d):g/(c+d),m=V4(a,r,l,g,c),m=m*60+.5),[m|0,f||0,h]}function j0(n,t,a,r){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,a,r)).map(Ma)}function w0(n,t,a){return j0(i2,n,t,a)}function W4(n,t,a){return j0(F4,n,t,a)}function $4(n,t,a){return j0(U4,n,t,a)}function r2(n){return(n%360+360)%360}function q4(n){const t=H4.exec(n);let a=255,r;if(!t)return;t[5]!==r&&(a=t[6]?El(+t[5]):Ma(+t[5]));const l=r2(+t[2]),c=+t[3]/100,d=+t[4]/100;return t[1]==="hwb"?r=W4(l,c,d):t[1]==="hsv"?r=$4(l,c,d):r=w0(l,c,d),{r:r[0],g:r[1],b:r[2],a}}function Y4(n,t){var a=v0(n);a[0]=r2(a[0]+t),a=w0(a),n.r=a[0],n.g=a[1],n.b=a[2]}function Q4(n){if(!n)return;const t=v0(n),a=t[0],r=$g(t[1]),l=$g(t[2]);return n.a<255?`hsla(${a}, ${r}%, ${l}%, ${Vn(n.a)})`:`hsl(${a}, ${r}%, ${l}%)`}const qg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function X4(){const n={},t=Object.keys(Yg),a=Object.keys(qg);let r,l,c,d,h;for(r=0;r<t.length;r++){for(d=h=t[r],l=0;l<a.length;l++)c=a[l],h=h.replace(c,qg[c]);c=parseInt(Yg[d],16),n[h]=[c>>16&255,c>>8&255,c&255]}return n}let Nc;function G4(n){Nc||(Nc=X4(),Nc.transparent=[0,0,0,0]);const t=Nc[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const K4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Z4(n){const t=K4.exec(n);let a=255,r,l,c;if(t){if(t[7]!==r){const d=+t[7];a=t[8]?El(d):ka(d*255,0,255)}return r=+t[1],l=+t[3],c=+t[5],r=255&(t[2]?El(r):ka(r,0,255)),l=255&(t[4]?El(l):ka(l,0,255)),c=255&(t[6]?El(c):ka(c,0,255)),{r,g:l,b:c,a}}}function J4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Vn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const _h=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,dr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function eN(n,t,a){const r=dr(Vn(n.r)),l=dr(Vn(n.g)),c=dr(Vn(n.b));return{r:Ma(_h(r+a*(dr(Vn(t.r))-r))),g:Ma(_h(l+a*(dr(Vn(t.g))-l))),b:Ma(_h(c+a*(dr(Vn(t.b))-c))),a:n.a+a*(t.a-n.a)}}function kc(n,t,a){if(n){let r=v0(n);r[t]=Math.max(0,Math.min(r[t]+r[t]*a,t===0?360:1)),r=w0(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function l2(n,t){return n&&Object.assign(t||{},n)}function Qg(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ma(n[3]))):(t=l2(n,{r:0,g:0,b:0,a:1}),t.a=Ma(t.a)),t}function tN(n){return n.charAt(0)==="r"?Z4(n):q4(n)}class Hl{constructor(t){if(t instanceof Hl)return t;const a=typeof t;let r;a==="object"?r=Qg(t):a==="string"&&(r=B4(t)||G4(t)||tN(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=l2(this._rgb);return t&&(t.a=Vn(t.a)),t}set rgb(t){this._rgb=Qg(t)}rgbString(){return this._valid?J4(this._rgb):void 0}hexString(){return this._valid?I4(this._rgb):void 0}hslString(){return this._valid?Q4(this._rgb):void 0}mix(t,a){if(t){const r=this.rgb,l=t.rgb;let c;const d=a===c?.5:a,h=2*d-1,m=r.a-l.a,f=((h*m===-1?h:(h+m)/(1+h*m))+1)/2;c=1-f,r.r=255&f*r.r+c*l.r+.5,r.g=255&f*r.g+c*l.g+.5,r.b=255&f*r.b+c*l.b+.5,r.a=d*r.a+(1-d)*l.a,this.rgb=r}return this}interpolate(t,a){return t&&(this._rgb=eN(this._rgb,t._rgb,a)),this}clone(){return new Hl(this.rgb)}alpha(t){return this._rgb.a=Ma(t),this}clearer(t){const a=this._rgb;return a.a*=1-t,this}greyscale(){const t=this._rgb,a=Jl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=a,this}opaquer(t){const a=this._rgb;return a.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return kc(this._rgb,2,t),this}darken(t){return kc(this._rgb,2,-t),this}saturate(t){return kc(this._rgb,1,t),this}desaturate(t){return kc(this._rgb,1,-t),this}rotate(t){return Y4(this._rgb,t),this}}function In(){}const sN=(()=>{let n=0;return()=>n++})();function st(n){return n==null}function Ot(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qe(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function as(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function xn(n,t){return as(n)?n:t}function ze(n,t){return typeof n>"u"?t:n}const nN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,o2=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function gt(n,t,a){if(n&&typeof n.call=="function")return n.apply(a,t)}function lt(n,t,a,r){let l,c,d;if(Ot(n))for(c=n.length,l=0;l<c;l++)t.call(a,n[l],l);else if(qe(n))for(d=Object.keys(n),c=d.length,l=0;l<c;l++)t.call(a,n[d[l]],d[l])}function Qc(n,t){let a,r,l,c;if(!n||!t||n.length!==t.length)return!1;for(a=0,r=n.length;a<r;++a)if(l=n[a],c=t[a],l.datasetIndex!==c.datasetIndex||l.index!==c.index)return!1;return!0}function Xc(n){if(Ot(n))return n.map(Xc);if(qe(n)){const t=Object.create(null),a=Object.keys(n),r=a.length;let l=0;for(;l<r;++l)t[a[l]]=Xc(n[a[l]]);return t}return n}function c2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function aN(n,t,a,r){if(!c2(n))return;const l=t[n],c=a[n];qe(l)&&qe(c)?Ul(l,c,r):t[n]=Xc(c)}function Ul(n,t,a){const r=Ot(t)?t:[t],l=r.length;if(!qe(n))return n;a=a||{};const c=a.merger||aN;let d;for(let h=0;h<l;++h){if(d=r[h],!qe(d))continue;const m=Object.keys(d);for(let f=0,g=m.length;f<g;++f)c(m[f],n,d,a)}return n}function Ol(n,t){return Ul(n,t,{merger:iN})}function iN(n,t,a){if(!c2(n))return;const r=t[n],l=a[n];qe(r)&&qe(l)?Ol(r,l):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xc(l))}const Xg={"":n=>n,x:n=>n.x,y:n=>n.y};function rN(n){const t=n.split("."),a=[];let r="";for(const l of t)r+=l,r.endsWith("\\")?r=r.slice(0,-1)+".":(a.push(r),r="");return a}function lN(n){const t=rN(n);return a=>{for(const r of t){if(r==="")break;a=a&&a[r]}return a}}function La(n,t){return(Xg[t]||(Xg[t]=lN(t)))(n)}function N0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Fl=n=>typeof n<"u",Aa=n=>typeof n=="function",Gg=(n,t)=>{if(n.size!==t.size)return!1;for(const a of n)if(!t.has(a))return!1;return!0};function oN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const nt=Math.PI,jt=2*nt,cN=jt+nt,Gc=Number.POSITIVE_INFINITY,dN=nt/180,Pt=nt/2,ci=nt/4,Kg=nt*2/3,d2=Math.log10,yn=Math.sign;function zl(n,t,a){return Math.abs(n-t)<a}function Zg(n){const t=Math.round(n);n=zl(n,t,n/1e3)?t:n;const a=Math.pow(10,Math.floor(d2(n))),r=n/a;return(r<=1?1:r<=2?2:r<=5?5:10)*a}function uN(n){const t=[],a=Math.sqrt(n);let r;for(r=1;r<a;r++)n%r===0&&(t.push(r),t.push(n/r));return a===(a|0)&&t.push(a),t.sort((l,c)=>l-c).pop(),t}function hN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function pr(n){return!hN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function mN(n,t){const a=Math.round(n);return a-t<=n&&a+t>=n}function fN(n,t,a){let r,l,c;for(r=0,l=n.length;r<l;r++)c=n[r][a],isNaN(c)||(t.min=Math.min(t.min,c),t.max=Math.max(t.max,c))}function bn(n){return n*(nt/180)}function xN(n){return n*(180/nt)}function Jg(n){if(!as(n))return;let t=1,a=0;for(;Math.round(n*t)/t!==n;)t*=10,a++;return a}function u2(n,t){const a=t.x-n.x,r=t.y-n.y,l=Math.sqrt(a*a+r*r);let c=Math.atan2(r,a);return c<-.5*nt&&(c+=jt),{angle:c,distance:l}}function t0(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function gN(n,t){return(n-t+cN)%jt-nt}function Rs(n){return(n%jt+jt)%jt}function Vl(n,t,a,r){const l=Rs(n),c=Rs(t),d=Rs(a),h=Rs(c-l),m=Rs(d-l),f=Rs(l-c),g=Rs(l-d);return l===c||l===d||r&&c===d||h>m&&f<g}function ss(n,t,a){return Math.max(t,Math.min(a,n))}function pN(n){return ss(n,-32768,32767)}function Wn(n,t,a,r=1e-6){return n>=Math.min(t,a)-r&&n<=Math.max(t,a)+r}function k0(n,t,a){a=a||(d=>n[d]<t);let r=n.length-1,l=0,c;for(;r-l>1;)c=l+r>>1,a(c)?l=c:r=c;return{lo:l,hi:r}}const xi=(n,t,a,r)=>k0(n,a,r?l=>{const c=n[l][t];return c<a||c===a&&n[l+1][t]===a}:l=>n[l][t]<a),bN=(n,t,a)=>k0(n,a,r=>n[r][t]>=a);function yN(n,t,a){let r=0,l=n.length;for(;r<l&&n[r]<t;)r++;for(;l>r&&n[l-1]>a;)l--;return r>0||l<n.length?n.slice(r,l):n}const h2=["push","pop","shift","splice","unshift"];function vN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),h2.forEach(a=>{const r="_onData"+N0(a),l=n[a];Object.defineProperty(n,a,{configurable:!0,enumerable:!1,value(...c){const d=l.apply(this,c);return n._chartjs.listeners.forEach(h=>{typeof h[r]=="function"&&h[r](...c)}),d}})})}function ep(n,t){const a=n._chartjs;if(!a)return;const r=a.listeners,l=r.indexOf(t);l!==-1&&r.splice(l,1),!(r.length>0)&&(h2.forEach(c=>{delete n[c]}),delete n._chartjs)}function m2(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const f2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function x2(n,t){let a=[],r=!1;return function(...l){a=l,r||(r=!0,f2.call(window,()=>{r=!1,n.apply(t,a)}))}}function jN(n,t){let a;return function(...r){return t?(clearTimeout(a),a=setTimeout(n,t,r)):n.apply(this,r),t}}const S0=n=>n==="start"?"left":n==="end"?"right":"center",es=(n,t,a)=>n==="start"?t:n==="end"?a:(t+a)/2,wN=(n,t,a,r)=>n===(r?"left":"right")?a:n==="center"?(t+a)/2:t;function g2(n,t,a){const r=t.length;let l=0,c=r;if(n._sorted){const{iScale:d,vScale:h,_parsed:m}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=d.axis,{min:b,max:w,minDefined:y,maxDefined:v}=d.getUserBounds();if(y){if(l=Math.min(xi(m,g,b).lo,a?r:xi(t,g,d.getPixelForValue(b)).lo),f){const j=m.slice(0,l+1).reverse().findIndex(N=>!st(N[h.axis]));l-=Math.max(0,j)}l=ss(l,0,r-1)}if(v){let j=Math.max(xi(m,d.axis,w,!0).hi+1,a?0:xi(t,g,d.getPixelForValue(w),!0).hi+1);if(f){const N=m.slice(j-1).findIndex(M=>!st(M[h.axis]));j+=Math.max(0,N)}c=ss(j,l,r)-l}else c=r-l}return{start:l,count:c}}function p2(n){const{xScale:t,yScale:a,_scaleRanges:r}=n,l={xmin:t.min,xmax:t.max,ymin:a.min,ymax:a.max};if(!r)return n._scaleRanges=l,!0;const c=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==a.min||r.ymax!==a.max;return Object.assign(r,l),c}const Sc=n=>n===0||n===1,tp=(n,t,a)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*jt/a)),sp=(n,t,a)=>Math.pow(2,-10*n)*Math.sin((n-t)*jt/a)+1,Bl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Pt)+1,easeOutSine:n=>Math.sin(n*Pt),easeInOutSine:n=>-.5*(Math.cos(nt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Sc(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Sc(n)?n:tp(n,.075,.3),easeOutElastic:n=>Sc(n)?n:sp(n,.075,.3),easeInOutElastic(n){return Sc(n)?n:n<.5?.5*tp(n*2,.1125,.45):.5+.5*sp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Bl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Bl.easeInBounce(n*2)*.5:Bl.easeOutBounce(n*2-1)*.5+.5};function C0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function np(n){return C0(n)?n:new Hl(n)}function Eh(n){return C0(n)?n:new Hl(n).saturate(.5).darken(.1).hexString()}const NN=["x","y","borderWidth","radius","tension"],kN=["color","borderColor","backgroundColor"];function SN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:kN},numbers:{type:"number",properties:NN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function CN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ap=new Map;function MN(n,t){t=t||{};const a=n+JSON.stringify(t);let r=ap.get(a);return r||(r=new Intl.NumberFormat(n,t),ap.set(a,r)),r}function cd(n,t,a){return MN(t,a).format(n)}const LN={values(n){return Ot(n)?n:""+n},numeric(n,t,a){if(n===0)return"0";const r=this.chart.options.locale;let l,c=n;if(a.length>1){const f=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(f<1e-4||f>1e15)&&(l="scientific"),c=AN(n,a)}const d=d2(Math.abs(c)),h=isNaN(d)?1:Math.max(Math.min(-1*Math.floor(d),20),0),m={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(m,this.options.ticks.format),cd(n,r,m)}};function AN(n,t){let a=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(a)>=1&&n!==Math.floor(n)&&(a=n-Math.floor(n)),a}var b2={formatters:LN};function DN(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,a)=>a.lineWidth,tickColor:(t,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:b2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const yi=Object.create(null),s0=Object.create(null);function Pl(n,t){if(!t)return n;const a=t.split(".");for(let r=0,l=a.length;r<l;++r){const c=a[r];n=n[c]||(n[c]=Object.create(null))}return n}function Rh(n,t,a){return typeof t=="string"?Ul(Pl(n,t),a):Ul(Pl(n,""),t)}class _N{constructor(t,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,l)=>Eh(l.backgroundColor),this.hoverBorderColor=(r,l)=>Eh(l.borderColor),this.hoverColor=(r,l)=>Eh(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(a)}set(t,a){return Rh(this,t,a)}get(t){return Pl(this,t)}describe(t,a){return Rh(s0,t,a)}override(t,a){return Rh(yi,t,a)}route(t,a,r,l){const c=Pl(this,t),d=Pl(this,r),h="_"+a;Object.defineProperties(c,{[h]:{value:c[a],writable:!0},[a]:{enumerable:!0,get(){const m=this[h],f=d[l];return qe(m)?Object.assign({},f,m):ze(m,f)},set(m){this[h]=m}}})}apply(t){t.forEach(a=>a(this))}}var At=new _N({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[SN,CN,DN]);function EN(n){return!n||st(n.size)||st(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function ip(n,t,a,r,l){let c=t[l];return c||(c=t[l]=n.measureText(l).width,a.push(l)),c>r&&(r=c),r}function di(n,t,a){const r=n.currentDevicePixelRatio,l=a!==0?Math.max(a/2,.5):0;return Math.round((t-l)*r)/r+l}function rp(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function n0(n,t,a,r){y2(n,t,a,r,null)}function y2(n,t,a,r,l){let c,d,h,m,f,g,b,w;const y=t.pointStyle,v=t.rotation,j=t.radius;let N=(v||0)*dN;if(y&&typeof y=="object"&&(c=y.toString(),c==="[object HTMLImageElement]"||c==="[object HTMLCanvasElement]")){n.save(),n.translate(a,r),n.rotate(N),n.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),n.restore();return}if(!(isNaN(j)||j<=0)){switch(n.beginPath(),y){default:l?n.ellipse(a,r,l/2,j,0,0,jt):n.arc(a,r,j,0,jt),n.closePath();break;case"triangle":g=l?l/2:j,n.moveTo(a+Math.sin(N)*g,r-Math.cos(N)*j),N+=Kg,n.lineTo(a+Math.sin(N)*g,r-Math.cos(N)*j),N+=Kg,n.lineTo(a+Math.sin(N)*g,r-Math.cos(N)*j),n.closePath();break;case"rectRounded":f=j*.516,m=j-f,d=Math.cos(N+ci)*m,b=Math.cos(N+ci)*(l?l/2-f:m),h=Math.sin(N+ci)*m,w=Math.sin(N+ci)*(l?l/2-f:m),n.arc(a-b,r-h,f,N-nt,N-Pt),n.arc(a+w,r-d,f,N-Pt,N),n.arc(a+b,r+h,f,N,N+Pt),n.arc(a-w,r+d,f,N+Pt,N+nt),n.closePath();break;case"rect":if(!v){m=Math.SQRT1_2*j,g=l?l/2:m,n.rect(a-g,r-m,2*g,2*m);break}N+=ci;case"rectRot":b=Math.cos(N)*(l?l/2:j),d=Math.cos(N)*j,h=Math.sin(N)*j,w=Math.sin(N)*(l?l/2:j),n.moveTo(a-b,r-h),n.lineTo(a+w,r-d),n.lineTo(a+b,r+h),n.lineTo(a-w,r+d),n.closePath();break;case"crossRot":N+=ci;case"cross":b=Math.cos(N)*(l?l/2:j),d=Math.cos(N)*j,h=Math.sin(N)*j,w=Math.sin(N)*(l?l/2:j),n.moveTo(a-b,r-h),n.lineTo(a+b,r+h),n.moveTo(a+w,r-d),n.lineTo(a-w,r+d);break;case"star":b=Math.cos(N)*(l?l/2:j),d=Math.cos(N)*j,h=Math.sin(N)*j,w=Math.sin(N)*(l?l/2:j),n.moveTo(a-b,r-h),n.lineTo(a+b,r+h),n.moveTo(a+w,r-d),n.lineTo(a-w,r+d),N+=ci,b=Math.cos(N)*(l?l/2:j),d=Math.cos(N)*j,h=Math.sin(N)*j,w=Math.sin(N)*(l?l/2:j),n.moveTo(a-b,r-h),n.lineTo(a+b,r+h),n.moveTo(a+w,r-d),n.lineTo(a-w,r+d);break;case"line":d=l?l/2:Math.cos(N)*j,h=Math.sin(N)*j,n.moveTo(a-d,r-h),n.lineTo(a+d,r+h);break;case"dash":n.moveTo(a,r),n.lineTo(a+Math.cos(N)*(l?l/2:j),r+Math.sin(N)*j);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Wl(n,t,a){return a=a||.5,!t||n&&n.x>t.left-a&&n.x<t.right+a&&n.y>t.top-a&&n.y<t.bottom+a}function dd(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function ud(n){n.restore()}function RN(n,t,a,r,l){if(!t)return n.lineTo(a.x,a.y);if(l==="middle"){const c=(t.x+a.x)/2;n.lineTo(c,t.y),n.lineTo(c,a.y)}else l==="after"!=!!r?n.lineTo(t.x,a.y):n.lineTo(a.x,t.y);n.lineTo(a.x,a.y)}function TN(n,t,a,r){if(!t)return n.lineTo(a.x,a.y);n.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?a.cp2x:a.cp1x,r?a.cp2y:a.cp1y,a.x,a.y)}function ON(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),st(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function zN(n,t,a,r,l){if(l.strikethrough||l.underline){const c=n.measureText(r),d=t-c.actualBoundingBoxLeft,h=t+c.actualBoundingBoxRight,m=a-c.actualBoundingBoxAscent,f=a+c.actualBoundingBoxDescent,g=l.strikethrough?(m+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(d,g),n.lineTo(h,g),n.stroke()}}function BN(n,t){const a=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=a}function $l(n,t,a,r,l,c={}){const d=Ot(t)?t:[t],h=c.strokeWidth>0&&c.strokeColor!=="";let m,f;for(n.save(),n.font=l.string,ON(n,c),m=0;m<d.length;++m)f=d[m],c.backdrop&&BN(n,c.backdrop),h&&(c.strokeColor&&(n.strokeStyle=c.strokeColor),st(c.strokeWidth)||(n.lineWidth=c.strokeWidth),n.strokeText(f,a,r,c.maxWidth)),n.fillText(f,a,r,c.maxWidth),zN(n,a,r,f,c),r+=Number(l.lineHeight);n.restore()}function Kc(n,t){const{x:a,y:r,w:l,h:c,radius:d}=t;n.arc(a+d.topLeft,r+d.topLeft,d.topLeft,1.5*nt,nt,!0),n.lineTo(a,r+c-d.bottomLeft),n.arc(a+d.bottomLeft,r+c-d.bottomLeft,d.bottomLeft,nt,Pt,!0),n.lineTo(a+l-d.bottomRight,r+c),n.arc(a+l-d.bottomRight,r+c-d.bottomRight,d.bottomRight,Pt,0,!0),n.lineTo(a+l,r+d.topRight),n.arc(a+l-d.topRight,r+d.topRight,d.topRight,0,-Pt,!0),n.lineTo(a+d.topLeft,r)}const PN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,IN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HN(n,t){const a=(""+n).match(PN);if(!a||a[1]==="normal")return t*1.2;switch(n=+a[2],a[3]){case"px":return n;case"%":n/=100;break}return t*n}const UN=n=>+n||0;function M0(n,t){const a={},r=qe(t),l=r?Object.keys(t):t,c=qe(n)?r?d=>ze(n[d],n[t[d]]):d=>n[d]:()=>n;for(const d of l)a[d]=UN(c(d));return a}function v2(n){return M0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function fr(n){return M0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ys(n){const t=v2(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ns(n,t){n=n||{},t=t||At.font;let a=ze(n.size,t.size);typeof a=="string"&&(a=parseInt(a,10));let r=ze(n.style,t.style);r&&!(""+r).match(IN)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const l={family:ze(n.family,t.family),lineHeight:HN(ze(n.lineHeight,t.lineHeight),a),size:a,style:r,weight:ze(n.weight,t.weight),string:""};return l.string=EN(l),l}function Cc(n,t,a,r){let l,c,d;for(l=0,c=n.length;l<c;++l)if(d=n[l],d!==void 0&&d!==void 0)return d}function FN(n,t,a){const{min:r,max:l}=n,c=o2(t,(l-r)/2),d=(h,m)=>a&&h===0?0:h+m;return{min:d(r,-Math.abs(c)),max:d(l,c)}}function Ni(n,t){return Object.assign(Object.create(n),t)}function L0(n,t=[""],a,r,l=()=>n[0]){const c=a||n;typeof r>"u"&&(r=k2("_fallback",n));const d={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:c,_fallback:r,_getTarget:l,override:h=>L0([h,...n],t,c,r)};return new Proxy(d,{deleteProperty(h,m){return delete h[m],delete h._keys,delete n[0][m],!0},get(h,m){return w2(h,m,()=>GN(m,t,n,h))},getOwnPropertyDescriptor(h,m){return Reflect.getOwnPropertyDescriptor(h._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,m){return op(h).includes(m)},ownKeys(h){return op(h)},set(h,m,f){const g=h._storage||(h._storage=l());return h[m]=g[m]=f,delete h._keys,!0}})}function br(n,t,a,r){const l={_cacheable:!1,_proxy:n,_context:t,_subProxy:a,_stack:new Set,_descriptors:j2(n,r),setContext:c=>br(n,c,a,r),override:c=>br(n.override(c),t,a,r)};return new Proxy(l,{deleteProperty(c,d){return delete c[d],delete n[d],!0},get(c,d,h){return w2(c,d,()=>WN(c,d,h))},getOwnPropertyDescriptor(c,d){return c._descriptors.allKeys?Reflect.has(n,d)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,d)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(c,d){return Reflect.has(n,d)},ownKeys(){return Reflect.ownKeys(n)},set(c,d,h){return n[d]=h,delete c[d],!0}})}function j2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:a=t.scriptable,_indexable:r=t.indexable,_allKeys:l=t.allKeys}=n;return{allKeys:l,scriptable:a,indexable:r,isScriptable:Aa(a)?a:()=>a,isIndexable:Aa(r)?r:()=>r}}const VN=(n,t)=>n?n+N0(t):t,A0=(n,t)=>qe(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function w2(n,t,a){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const r=a();return n[t]=r,r}function WN(n,t,a){const{_proxy:r,_context:l,_subProxy:c,_descriptors:d}=n;let h=r[t];return Aa(h)&&d.isScriptable(t)&&(h=$N(t,h,n,a)),Ot(h)&&h.length&&(h=qN(t,h,n,d.isIndexable)),A0(t,h)&&(h=br(h,l,c&&c[t],d)),h}function $N(n,t,a,r){const{_proxy:l,_context:c,_subProxy:d,_stack:h}=a;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let m=t(c,d||r);return h.delete(n),A0(n,m)&&(m=D0(l._scopes,l,n,m)),m}function qN(n,t,a,r){const{_proxy:l,_context:c,_subProxy:d,_descriptors:h}=a;if(typeof c.index<"u"&&r(n))return t[c.index%t.length];if(qe(t[0])){const m=t,f=l._scopes.filter(g=>g!==m);t=[];for(const g of m){const b=D0(f,l,n,g);t.push(br(b,c,d&&d[n],h))}}return t}function N2(n,t,a){return Aa(n)?n(t,a):n}const YN=(n,t)=>n===!0?t:typeof n=="string"?La(t,n):void 0;function QN(n,t,a,r,l){for(const c of t){const d=YN(a,c);if(d){n.add(d);const h=N2(d._fallback,a,l);if(typeof h<"u"&&h!==a&&h!==r)return h}else if(d===!1&&typeof r<"u"&&a!==r)return null}return!1}function D0(n,t,a,r){const l=t._rootScopes,c=N2(t._fallback,a,r),d=[...n,...l],h=new Set;h.add(r);let m=lp(h,d,a,c||a,r);return m===null||typeof c<"u"&&c!==a&&(m=lp(h,d,c,m,r),m===null)?!1:L0(Array.from(h),[""],l,c,()=>XN(t,a,r))}function lp(n,t,a,r,l){for(;a;)a=QN(n,t,a,r,l);return a}function XN(n,t,a){const r=n._getTarget();t in r||(r[t]={});const l=r[t];return Ot(l)&&qe(a)?a:l||{}}function GN(n,t,a,r){let l;for(const c of t)if(l=k2(VN(c,n),a),typeof l<"u")return A0(n,l)?D0(a,r,n,l):l}function k2(n,t){for(const a of t){if(!a)continue;const r=a[n];if(typeof r<"u")return r}}function op(n){let t=n._keys;return t||(t=n._keys=KN(n._scopes)),t}function KN(n){const t=new Set;for(const a of n)for(const r of Object.keys(a).filter(l=>!l.startsWith("_")))t.add(r);return Array.from(t)}function S2(n,t,a,r){const{iScale:l}=n,{key:c="r"}=this._parsing,d=new Array(r);let h,m,f,g;for(h=0,m=r;h<m;++h)f=h+a,g=t[f],d[h]={r:l.parse(La(g,c),f)};return d}const ZN=Number.EPSILON||1e-14,yr=(n,t)=>t<n.length&&!n[t].skip&&n[t],C2=n=>n==="x"?"y":"x";function JN(n,t,a,r){const l=n.skip?t:n,c=t,d=a.skip?t:a,h=t0(c,l),m=t0(d,c);let f=h/(h+m),g=m/(h+m);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const b=r*f,w=r*g;return{previous:{x:c.x-b*(d.x-l.x),y:c.y-b*(d.y-l.y)},next:{x:c.x+w*(d.x-l.x),y:c.y+w*(d.y-l.y)}}}function e5(n,t,a){const r=n.length;let l,c,d,h,m,f=yr(n,0);for(let g=0;g<r-1;++g)if(m=f,f=yr(n,g+1),!(!m||!f)){if(zl(t[g],0,ZN)){a[g]=a[g+1]=0;continue}l=a[g]/t[g],c=a[g+1]/t[g],h=Math.pow(l,2)+Math.pow(c,2),!(h<=9)&&(d=3/Math.sqrt(h),a[g]=l*d*t[g],a[g+1]=c*d*t[g])}}function t5(n,t,a="x"){const r=C2(a),l=n.length;let c,d,h,m=yr(n,0);for(let f=0;f<l;++f){if(d=h,h=m,m=yr(n,f+1),!h)continue;const g=h[a],b=h[r];d&&(c=(g-d[a])/3,h[`cp1${a}`]=g-c,h[`cp1${r}`]=b-c*t[f]),m&&(c=(m[a]-g)/3,h[`cp2${a}`]=g+c,h[`cp2${r}`]=b+c*t[f])}}function s5(n,t="x"){const a=C2(t),r=n.length,l=Array(r).fill(0),c=Array(r);let d,h,m,f=yr(n,0);for(d=0;d<r;++d)if(h=m,m=f,f=yr(n,d+1),!!m){if(f){const g=f[t]-m[t];l[d]=g!==0?(f[a]-m[a])/g:0}c[d]=h?f?yn(l[d-1])!==yn(l[d])?0:(l[d-1]+l[d])/2:l[d-1]:l[d]}e5(n,l,c),t5(n,c,t)}function Mc(n,t,a){return Math.max(Math.min(n,a),t)}function n5(n,t){let a,r,l,c,d,h=Wl(n[0],t);for(a=0,r=n.length;a<r;++a)d=c,c=h,h=a<r-1&&Wl(n[a+1],t),c&&(l=n[a],d&&(l.cp1x=Mc(l.cp1x,t.left,t.right),l.cp1y=Mc(l.cp1y,t.top,t.bottom)),h&&(l.cp2x=Mc(l.cp2x,t.left,t.right),l.cp2y=Mc(l.cp2y,t.top,t.bottom)))}function a5(n,t,a,r,l){let c,d,h,m;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")s5(n,l);else{let f=r?n[n.length-1]:n[0];for(c=0,d=n.length;c<d;++c)h=n[c],m=JN(f,h,n[Math.min(c+1,d-(r?0:1))%d],t.tension),h.cp1x=m.previous.x,h.cp1y=m.previous.y,h.cp2x=m.next.x,h.cp2y=m.next.y,f=h}t.capBezierPoints&&n5(n,a)}function _0(){return typeof window<"u"&&typeof document<"u"}function E0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Zc(n,t,a){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*t.parentNode[a])):r=n,r}const hd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function i5(n,t){return hd(n).getPropertyValue(t)}const r5=["top","right","bottom","left"];function pi(n,t,a){const r={};a=a?"-"+a:"";for(let l=0;l<4;l++){const c=r5[l];r[c]=parseFloat(n[t+"-"+c+a])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const l5=(n,t,a)=>(n>0||t>0)&&(!a||!a.shadowRoot);function o5(n,t){const a=n.touches,r=a&&a.length?a[0]:n,{offsetX:l,offsetY:c}=r;let d=!1,h,m;if(l5(l,c,n.target))h=l,m=c;else{const f=t.getBoundingClientRect();h=r.clientX-f.left,m=r.clientY-f.top,d=!0}return{x:h,y:m,box:d}}function hi(n,t){if("native"in n)return n;const{canvas:a,currentDevicePixelRatio:r}=t,l=hd(a),c=l.boxSizing==="border-box",d=pi(l,"padding"),h=pi(l,"border","width"),{x:m,y:f,box:g}=o5(n,a),b=d.left+(g&&h.left),w=d.top+(g&&h.top);let{width:y,height:v}=t;return c&&(y-=d.width+h.width,v-=d.height+h.height),{x:Math.round((m-b)/y*a.width/r),y:Math.round((f-w)/v*a.height/r)}}function c5(n,t,a){let r,l;if(t===void 0||a===void 0){const c=n&&E0(n);if(!c)t=n.clientWidth,a=n.clientHeight;else{const d=c.getBoundingClientRect(),h=hd(c),m=pi(h,"border","width"),f=pi(h,"padding");t=d.width-f.width-m.width,a=d.height-f.height-m.height,r=Zc(h.maxWidth,c,"clientWidth"),l=Zc(h.maxHeight,c,"clientHeight")}}return{width:t,height:a,maxWidth:r||Gc,maxHeight:l||Gc}}const Sa=n=>Math.round(n*10)/10;function d5(n,t,a,r){const l=hd(n),c=pi(l,"margin"),d=Zc(l.maxWidth,n,"clientWidth")||Gc,h=Zc(l.maxHeight,n,"clientHeight")||Gc,m=c5(n,t,a);let{width:f,height:g}=m;if(l.boxSizing==="content-box"){const w=pi(l,"border","width"),y=pi(l,"padding");f-=y.width+w.width,g-=y.height+w.height}return f=Math.max(0,f-c.width),g=Math.max(0,r?f/r:g-c.height),f=Sa(Math.min(f,d,m.maxWidth)),g=Sa(Math.min(g,h,m.maxHeight)),f&&!g&&(g=Sa(f/2)),(t!==void 0||a!==void 0)&&r&&m.height&&g>m.height&&(g=m.height,f=Sa(Math.floor(g*r))),{width:f,height:g}}function cp(n,t,a){const r=t||1,l=Sa(n.height*r),c=Sa(n.width*r);n.height=Sa(n.height),n.width=Sa(n.width);const d=n.canvas;return d.style&&(a||!d.style.height&&!d.style.width)&&(d.style.height=`${n.height}px`,d.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||d.height!==l||d.width!==c?(n.currentDevicePixelRatio=r,d.height=l,d.width=c,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const u5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};_0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function dp(n,t){const a=i5(n,t),r=a&&a.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function mi(n,t,a,r){return{x:n.x+a*(t.x-n.x),y:n.y+a*(t.y-n.y)}}function h5(n,t,a,r){return{x:n.x+a*(t.x-n.x),y:r==="middle"?a<.5?n.y:t.y:r==="after"?a<1?n.y:t.y:a>0?t.y:n.y}}function m5(n,t,a,r){const l={x:n.cp2x,y:n.cp2y},c={x:t.cp1x,y:t.cp1y},d=mi(n,l,a),h=mi(l,c,a),m=mi(c,t,a),f=mi(d,h,a),g=mi(h,m,a);return mi(f,g,a)}const f5=function(n,t){return{x(a){return n+n+t-a},setWidth(a){t=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,r){return a-r},leftForLtr(a,r){return a-r}}},x5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function xr(n,t,a){return n?f5(t,a):x5()}function M2(n,t){let a,r;(t==="ltr"||t==="rtl")&&(a=n.canvas.style,r=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",t,"important"),n.prevTextDirection=r)}function L2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function A2(n){return n==="angle"?{between:Vl,compare:gN,normalize:Rs}:{between:Wn,compare:(t,a)=>t-a,normalize:t=>t}}function up({start:n,end:t,count:a,loop:r,style:l}){return{start:n%a,end:t%a,loop:r&&(t-n+1)%a===0,style:l}}function g5(n,t,a){const{property:r,start:l,end:c}=a,{between:d,normalize:h}=A2(r),m=t.length;let{start:f,end:g,loop:b}=n,w,y;if(b){for(f+=m,g+=m,w=0,y=m;w<y&&d(h(t[f%m][r]),l,c);++w)f--,g--;f%=m,g%=m}return g<f&&(g+=m),{start:f,end:g,loop:b,style:n.style}}function D2(n,t,a){if(!a)return[n];const{property:r,start:l,end:c}=a,d=t.length,{compare:h,between:m,normalize:f}=A2(r),{start:g,end:b,loop:w,style:y}=g5(n,t,a),v=[];let j=!1,N=null,M,B,A;const Y=()=>m(l,A,M)&&h(l,A)!==0,V=()=>h(c,M)===0||m(c,A,M),D=()=>j||Y(),z=()=>!j||V();for(let E=g,F=g;E<=b;++E)B=t[E%d],!B.skip&&(M=f(B[r]),M!==A&&(j=m(M,l,c),N===null&&D()&&(N=h(M,l)===0?E:F),N!==null&&z()&&(v.push(up({start:N,end:E,loop:w,count:d,style:y})),N=null),F=E,A=M));return N!==null&&v.push(up({start:N,end:b,loop:w,count:d,style:y})),v}function _2(n,t){const a=[],r=n.segments;for(let l=0;l<r.length;l++){const c=D2(r[l],n.points,t);c.length&&a.push(...c)}return a}function p5(n,t,a,r){let l=0,c=t-1;if(a&&!r)for(;l<t&&!n[l].skip;)l++;for(;l<t&&n[l].skip;)l++;for(l%=t,a&&(c+=l);c>l&&n[c%t].skip;)c--;return c%=t,{start:l,end:c}}function b5(n,t,a,r){const l=n.length,c=[];let d=t,h=n[t],m;for(m=t+1;m<=a;++m){const f=n[m%l];f.skip||f.stop?h.skip||(r=!1,c.push({start:t%l,end:(m-1)%l,loop:r}),t=d=f.stop?m:null):(d=m,h.skip&&(t=m)),h=f}return d!==null&&c.push({start:t%l,end:d%l,loop:r}),c}function y5(n,t){const a=n.points,r=n.options.spanGaps,l=a.length;if(!l)return[];const c=!!n._loop,{start:d,end:h}=p5(a,l,c,r);if(r===!0)return hp(n,[{start:d,end:h,loop:c}],a,t);const m=h<d?h+l:h,f=!!n._fullLoop&&d===0&&h===l-1;return hp(n,b5(a,d,m,f),a,t)}function hp(n,t,a,r){return!r||!r.setContext||!a?t:v5(n,t,a,r)}function v5(n,t,a,r){const l=n._chart.getContext(),c=mp(n.options),{_datasetIndex:d,options:{spanGaps:h}}=n,m=a.length,f=[];let g=c,b=t[0].start,w=b;function y(v,j,N,M){const B=h?-1:1;if(v!==j){for(v+=m;a[v%m].skip;)v-=B;for(;a[j%m].skip;)j+=B;v%m!==j%m&&(f.push({start:v%m,end:j%m,loop:N,style:M}),g=M,b=j%m)}}for(const v of t){b=h?b:v.start;let j=a[b%m],N;for(w=b+1;w<=v.end;w++){const M=a[w%m];N=mp(r.setContext(Ni(l,{type:"segment",p0:j,p1:M,p0DataIndex:(w-1)%m,p1DataIndex:w%m,datasetIndex:d}))),j5(N,g)&&y(b,w-1,v.loop,g),j=M,g=N}b<w-1&&y(b,w-1,v.loop,g)}return f}function mp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function j5(n,t){if(!t)return!1;const a=[],r=function(l,c){return C0(c)?(a.includes(c)||a.push(c),a.indexOf(c)):c};return JSON.stringify(n,r)!==JSON.stringify(t,r)}function Lc(n,t,a){return n.options.clip?n[a]:t[a]}function w5(n,t){const{xScale:a,yScale:r}=n;return a&&r?{left:Lc(a,t,"left"),right:Lc(a,t,"right"),top:Lc(r,t,"top"),bottom:Lc(r,t,"bottom")}:t}function E2(n,t){const a=t._clip;if(a.disabled)return!1;const r=w5(t,n.chartArea);return{left:a.left===!1?0:r.left-(a.left===!0?0:a.left),right:a.right===!1?n.width:r.right+(a.right===!0?0:a.right),top:a.top===!1?0:r.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?n.height:r.bottom+(a.bottom===!0?0:a.bottom)}}class N5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,a,r,l){const c=a.listeners[l],d=a.duration;c.forEach(h=>h({chart:t,initial:a.initial,numSteps:d,currentStep:Math.min(r-a.start,d)}))}_refresh(){this._request||(this._running=!0,this._request=f2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let a=0;this._charts.forEach((r,l)=>{if(!r.running||!r.items.length)return;const c=r.items;let d=c.length-1,h=!1,m;for(;d>=0;--d)m=c[d],m._active?(m._total>r.duration&&(r.duration=m._total),m.tick(t),h=!0):(c[d]=c[c.length-1],c.pop());h&&(l.draw(),this._notify(l,r,t,"progress")),c.length||(r.running=!1,this._notify(l,r,t,"complete"),r.initial=!1),a+=c.length}),this._lastDate=t,a===0&&(this._running=!1)}_getAnims(t){const a=this._charts;let r=a.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(t,r)),r}listen(t,a,r){this._getAnims(t).listeners[a].push(r)}add(t,a){!a||!a.length||this._getAnims(t).items.push(...a)}has(t){return this._getAnims(t).items.length>0}start(t){const a=this._charts.get(t);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((r,l)=>Math.max(r,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const a=this._charts.get(t);return!(!a||!a.running||!a.items.length)}stop(t){const a=this._charts.get(t);if(!a||!a.items.length)return;const r=a.items;let l=r.length-1;for(;l>=0;--l)r[l].cancel();a.items=[],this._notify(t,a,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Un=new N5;const fp="transparent",k5={boolean(n,t,a){return a>.5?t:n},color(n,t,a){const r=np(n||fp),l=r.valid&&np(t||fp);return l&&l.valid?l.mix(r,a).hexString():t},number(n,t,a){return n+(t-n)*a}};class S5{constructor(t,a,r,l){const c=a[r];l=Cc([t.to,l,c,t.from]);const d=Cc([t.from,c,l]);this._active=!0,this._fn=t.fn||k5[t.type||typeof d],this._easing=Bl[t.easing]||Bl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=a,this._prop=r,this._from=d,this._to=l,this._promises=void 0}active(){return this._active}update(t,a,r){if(this._active){this._notify(!1);const l=this._target[this._prop],c=r-this._start,d=this._duration-c;this._start=r,this._duration=Math.floor(Math.max(d,t.duration)),this._total+=c,this._loop=!!t.loop,this._to=Cc([t.to,a,l,t.from]),this._from=Cc([t.from,l,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const a=t-this._start,r=this._duration,l=this._prop,c=this._from,d=this._loop,h=this._to;let m;if(this._active=c!==h&&(d||a<r),!this._active){this._target[l]=h,this._notify(!0);return}if(a<0){this._target[l]=c;return}m=a/r%2,m=d&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[l]=this._fn(c,h,m)}wait(){const t=this._promises||(this._promises=[]);return new Promise((a,r)=>{t.push({res:a,rej:r})})}_notify(t){const a=t?"res":"rej",r=this._promises||[];for(let l=0;l<r.length;l++)r[l][a]()}}class R2{constructor(t,a){this._chart=t,this._properties=new Map,this.configure(a)}configure(t){if(!qe(t))return;const a=Object.keys(At.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const c=t[l];if(!qe(c))return;const d={};for(const h of a)d[h]=c[h];(Ot(c.properties)&&c.properties||[l]).forEach(h=>{(h===l||!r.has(h))&&r.set(h,d)})})}_animateOptions(t,a){const r=a.options,l=M5(t,r);if(!l)return[];const c=this._createAnimations(l,r);return r.$shared&&C5(t.options.$animations,r).then(()=>{t.options=r},()=>{}),c}_createAnimations(t,a){const r=this._properties,l=[],c=t.$animations||(t.$animations={}),d=Object.keys(a),h=Date.now();let m;for(m=d.length-1;m>=0;--m){const f=d[m];if(f.charAt(0)==="$")continue;if(f==="options"){l.push(...this._animateOptions(t,a));continue}const g=a[f];let b=c[f];const w=r.get(f);if(b)if(w&&b.active()){b.update(w,g,h);continue}else b.cancel();if(!w||!w.duration){t[f]=g;continue}c[f]=b=new S5(w,t,f,g),l.push(b)}return l}update(t,a){if(this._properties.size===0){Object.assign(t,a);return}const r=this._createAnimations(t,a);if(r.length)return Un.add(this._chart,r),!0}}function C5(n,t){const a=[],r=Object.keys(t);for(let l=0;l<r.length;l++){const c=n[r[l]];c&&c.active()&&a.push(c.wait())}return Promise.all(a)}function M5(n,t){if(!t)return;let a=n.options;if(!a){n.options=t;return}return a.$shared&&(n.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function xp(n,t){const a=n&&n.options||{},r=a.reverse,l=a.min===void 0?t:0,c=a.max===void 0?t:0;return{start:r?c:l,end:r?l:c}}function L5(n,t,a){if(a===!1)return!1;const r=xp(n,a),l=xp(t,a);return{top:l.end,right:r.end,bottom:l.start,left:r.start}}function A5(n){let t,a,r,l;return qe(n)?(t=n.top,a=n.right,r=n.bottom,l=n.left):t=a=r=l=n,{top:t,right:a,bottom:r,left:l,disabled:n===!1}}function T2(n,t){const a=[],r=n._getSortedDatasetMetas(t);let l,c;for(l=0,c=r.length;l<c;++l)a.push(r[l].index);return a}function gp(n,t,a,r={}){const l=n.keys,c=r.mode==="single";let d,h,m,f;if(t===null)return;let g=!1;for(d=0,h=l.length;d<h;++d){if(m=+l[d],m===a){if(g=!0,r.all)continue;break}f=n.values[m],as(f)&&(c||t===0||yn(t)===yn(f))&&(t+=f)}return!g&&!r.all?0:t}function D5(n,t){const{iScale:a,vScale:r}=t,l=a.axis==="x"?"x":"y",c=r.axis==="x"?"x":"y",d=Object.keys(n),h=new Array(d.length);let m,f,g;for(m=0,f=d.length;m<f;++m)g=d[m],h[m]={[l]:g,[c]:n[g]};return h}function Th(n,t){const a=n&&n.options.stacked;return a||a===void 0&&t.stack!==void 0}function _5(n,t,a){return`${n.id}.${t.id}.${a.stack||a.type}`}function E5(n){const{min:t,max:a,minDefined:r,maxDefined:l}=n.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:l?a:Number.POSITIVE_INFINITY}}function R5(n,t,a){const r=n[t]||(n[t]={});return r[a]||(r[a]={})}function pp(n,t,a,r){for(const l of t.getMatchingVisibleMetas(r).reverse()){const c=n[l.index];if(a&&c>0||!a&&c<0)return l.index}return null}function bp(n,t){const{chart:a,_cachedMeta:r}=n,l=a._stacks||(a._stacks={}),{iScale:c,vScale:d,index:h}=r,m=c.axis,f=d.axis,g=_5(c,d,r),b=t.length;let w;for(let y=0;y<b;++y){const v=t[y],{[m]:j,[f]:N}=v,M=v._stacks||(v._stacks={});w=M[f]=R5(l,g,j),w[h]=N,w._top=pp(w,d,!0,r.type),w._bottom=pp(w,d,!1,r.type);const B=w._visualValues||(w._visualValues={});B[h]=N}}function Oh(n,t){const a=n.scales;return Object.keys(a).filter(r=>a[r].axis===t).shift()}function T5(n,t){return Ni(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function O5(n,t,a){return Ni(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:a,index:t,mode:"default",type:"data"})}function Ml(n,t){const a=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){t=t||n._parsed;for(const l of t){const c=l._stacks;if(!c||c[r]===void 0||c[r][a]===void 0)return;delete c[r][a],c[r]._visualValues!==void 0&&c[r]._visualValues[a]!==void 0&&delete c[r]._visualValues[a]}}}const zh=n=>n==="reset"||n==="none",yp=(n,t)=>t?n:Object.assign({},n),z5=(n,t,a)=>n&&!t.hidden&&t._stacked&&{keys:T2(a,!0),values:null};class Da{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,a){this.chart=t,this._ctx=t.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Th(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ml(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,a=this._cachedMeta,r=this.getDataset(),l=(b,w,y,v)=>b==="x"?w:b==="r"?v:y,c=a.xAxisID=ze(r.xAxisID,Oh(t,"x")),d=a.yAxisID=ze(r.yAxisID,Oh(t,"y")),h=a.rAxisID=ze(r.rAxisID,Oh(t,"r")),m=a.indexAxis,f=a.iAxisID=l(m,c,d,h),g=a.vAxisID=l(m,d,c,h);a.xScale=this.getScaleForId(c),a.yScale=this.getScaleForId(d),a.rScale=this.getScaleForId(h),a.iScale=this.getScaleForId(f),a.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const a=this._cachedMeta;return t===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ep(this._data,this),t._stacked&&Ml(t)}_dataCheck(){const t=this.getDataset(),a=t.data||(t.data=[]),r=this._data;if(qe(a)){const l=this._cachedMeta;this._data=D5(a,l)}else if(r!==a){if(r){ep(r,this);const l=this._cachedMeta;Ml(l),l._parsed=[]}a&&Object.isExtensible(a)&&vN(a,this),this._syncList=[],this._data=a}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const a=this._cachedMeta,r=this.getDataset();let l=!1;this._dataCheck();const c=a._stacked;a._stacked=Th(a.vScale,a),a.stack!==r.stack&&(l=!0,Ml(a),a.stack=r.stack),this._resyncElements(t),(l||c!==a._stacked)&&(bp(this,a._parsed),a._stacked=Th(a.vScale,a))}configure(){const t=this.chart.config,a=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),a,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,a){const{_cachedMeta:r,_data:l}=this,{iScale:c,_stacked:d}=r,h=c.axis;let m=t===0&&a===l.length?!0:r._sorted,f=t>0&&r._parsed[t-1],g,b,w;if(this._parsing===!1)r._parsed=l,r._sorted=!0,w=l;else{Ot(l[t])?w=this.parseArrayData(r,l,t,a):qe(l[t])?w=this.parseObjectData(r,l,t,a):w=this.parsePrimitiveData(r,l,t,a);const y=()=>b[h]===null||f&&b[h]<f[h];for(g=0;g<a;++g)r._parsed[g+t]=b=w[g],m&&(y()&&(m=!1),f=b);r._sorted=m}d&&bp(this,w)}parsePrimitiveData(t,a,r,l){const{iScale:c,vScale:d}=t,h=c.axis,m=d.axis,f=c.getLabels(),g=c===d,b=new Array(l);let w,y,v;for(w=0,y=l;w<y;++w)v=w+r,b[w]={[h]:g||c.parse(f[v],v),[m]:d.parse(a[v],v)};return b}parseArrayData(t,a,r,l){const{xScale:c,yScale:d}=t,h=new Array(l);let m,f,g,b;for(m=0,f=l;m<f;++m)g=m+r,b=a[g],h[m]={x:c.parse(b[0],g),y:d.parse(b[1],g)};return h}parseObjectData(t,a,r,l){const{xScale:c,yScale:d}=t,{xAxisKey:h="x",yAxisKey:m="y"}=this._parsing,f=new Array(l);let g,b,w,y;for(g=0,b=l;g<b;++g)w=g+r,y=a[w],f[g]={x:c.parse(La(y,h),w),y:d.parse(La(y,m),w)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,a,r){const l=this.chart,c=this._cachedMeta,d=a[t.axis],h={keys:T2(l,!0),values:a._stacks[t.axis]._visualValues};return gp(h,d,c.index,{mode:r})}updateRangeFromParsed(t,a,r,l){const c=r[a.axis];let d=c===null?NaN:c;const h=l&&r._stacks[a.axis];l&&h&&(l.values=h,d=gp(l,c,this._cachedMeta.index)),t.min=Math.min(t.min,d),t.max=Math.max(t.max,d)}getMinMax(t,a){const r=this._cachedMeta,l=r._parsed,c=r._sorted&&t===r.iScale,d=l.length,h=this._getOtherScale(t),m=z5(a,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:b}=E5(h);let w,y;function v(){y=l[w];const j=y[h.axis];return!as(y[t.axis])||g>j||b<j}for(w=0;w<d&&!(!v()&&(this.updateRangeFromParsed(f,t,y,m),c));++w);if(c){for(w=d-1;w>=0;--w)if(!v()){this.updateRangeFromParsed(f,t,y,m);break}}return f}getAllParsedValues(t){const a=this._cachedMeta._parsed,r=[];let l,c,d;for(l=0,c=a.length;l<c;++l)d=a[l][t.axis],as(d)&&r.push(d);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const a=this._cachedMeta,r=a.iScale,l=a.vScale,c=this.getParsed(t);return{label:r?""+r.getLabelForValue(c[r.axis]):"",value:l?""+l.getLabelForValue(c[l.axis]):""}}_update(t){const a=this._cachedMeta;this.update(t||"default"),a._clip=A5(ze(this.options.clip,L5(a.xScale,a.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,a=this.chart,r=this._cachedMeta,l=r.data||[],c=a.chartArea,d=[],h=this._drawStart||0,m=this._drawCount||l.length-h,f=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(t,c,h,m),g=h;g<h+m;++g){const b=l[g];b.hidden||(b.active&&f?d.push(b):b.draw(t,c))}for(g=0;g<d.length;++g)d[g].draw(t,c)}getStyle(t,a){const r=a?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,a,r){const l=this.getDataset();let c;if(t>=0&&t<this._cachedMeta.data.length){const d=this._cachedMeta.data[t];c=d.$context||(d.$context=O5(this.getContext(),t,d)),c.parsed=this.getParsed(t),c.raw=l.data[t],c.index=c.dataIndex=t}else c=this.$context||(this.$context=T5(this.chart.getContext(),this.index)),c.dataset=l,c.index=c.datasetIndex=this.index;return c.active=!!a,c.mode=r,c}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,a){return this._resolveElementOptions(this.dataElementType.id,a,t)}_resolveElementOptions(t,a="default",r){const l=a==="active",c=this._cachedDataOpts,d=t+"-"+a,h=c[d],m=this.enableOptionSharing&&Fl(r);if(h)return yp(h,m);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,t),b=l?[`${t}Hover`,"hover",t,""]:[t,""],w=f.getOptionScopes(this.getDataset(),g),y=Object.keys(At.elements[t]),v=()=>this.getContext(r,l,a),j=f.resolveNamedOptions(w,y,v,b);return j.$shared&&(j.$shared=m,c[d]=Object.freeze(yp(j,m))),j}_resolveAnimations(t,a,r){const l=this.chart,c=this._cachedDataOpts,d=`animation-${a}`,h=c[d];if(h)return h;let m;if(l.options.animation!==!1){const g=this.chart.config,b=g.datasetAnimationScopeKeys(this._type,a),w=g.getOptionScopes(this.getDataset(),b);m=g.createResolver(w,this.getContext(t,r,a))}const f=new R2(l,m&&m.animations);return m&&m._cacheable&&(c[d]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,a){return!a||zh(t)||this.chart._animationsDisabled}_getSharedOptions(t,a){const r=this.resolveDataElementOptions(t,a),l=this._sharedOptions,c=this.getSharedOptions(r),d=this.includeOptions(a,c)||c!==l;return this.updateSharedOptions(c,a,r),{sharedOptions:c,includeOptions:d}}updateElement(t,a,r,l){zh(l)?Object.assign(t,r):this._resolveAnimations(a,l).update(t,r)}updateSharedOptions(t,a,r){t&&!zh(a)&&this._resolveAnimations(void 0,a).update(t,r)}_setStyle(t,a,r,l){t.active=l;const c=this.getStyle(a,l);this._resolveAnimations(a,r,l).update(t,{options:!l&&this.getSharedOptions(c)||c})}removeHoverStyle(t,a,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,a,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const a=this._data,r=this._cachedMeta.data;for(const[h,m,f]of this._syncList)this[h](m,f);this._syncList=[];const l=r.length,c=a.length,d=Math.min(c,l);d&&this.parse(0,d),c>l?this._insertElements(l,c-l,t):c<l&&this._removeElements(c,l-c)}_insertElements(t,a,r=!0){const l=this._cachedMeta,c=l.data,d=t+a;let h;const m=f=>{for(f.length+=a,h=f.length-1;h>=d;h--)f[h]=f[h-a]};for(m(c),h=t;h<d;++h)c[h]=new this.dataElementType;this._parsing&&m(l._parsed),this.parse(t,a),r&&this.updateElements(c,t,a,"reset")}updateElements(t,a,r,l){}_removeElements(t,a){const r=this._cachedMeta;if(this._parsing){const l=r._parsed.splice(t,a);r._stacked&&Ml(r,l)}r.data.splice(t,a)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[a,r,l]=t;this[a](r,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,a){a&&this._sync(["_removeElements",t,a]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function B5(n,t){if(!n._cache.$bar){const a=n.getMatchingVisibleMetas(t);let r=[];for(let l=0,c=a.length;l<c;l++)r=r.concat(a[l].controller.getAllParsedValues(n));n._cache.$bar=m2(r.sort((l,c)=>l-c))}return n._cache.$bar}function P5(n){const t=n.iScale,a=B5(t,n.type);let r=t._length,l,c,d,h;const m=()=>{d===32767||d===-32768||(Fl(h)&&(r=Math.min(r,Math.abs(d-h)||r)),h=d)};for(l=0,c=a.length;l<c;++l)d=t.getPixelForValue(a[l]),m();for(h=void 0,l=0,c=t.ticks.length;l<c;++l)d=t.getPixelForTick(l),m();return r}function I5(n,t,a,r){const l=a.barThickness;let c,d;return st(l)?(c=t.min*a.categoryPercentage,d=a.barPercentage):(c=l*r,d=1),{chunk:c/r,ratio:d,start:t.pixels[n]-c/2}}function H5(n,t,a,r){const l=t.pixels,c=l[n];let d=n>0?l[n-1]:null,h=n<l.length-1?l[n+1]:null;const m=a.categoryPercentage;d===null&&(d=c-(h===null?t.end-t.start:h-c)),h===null&&(h=c+c-d);const f=c-(c-Math.min(d,h))/2*m;return{chunk:Math.abs(h-d)/2*m/r,ratio:a.barPercentage,start:f}}function U5(n,t,a,r){const l=a.parse(n[0],r),c=a.parse(n[1],r),d=Math.min(l,c),h=Math.max(l,c);let m=d,f=h;Math.abs(d)>Math.abs(h)&&(m=h,f=d),t[a.axis]=f,t._custom={barStart:m,barEnd:f,start:l,end:c,min:d,max:h}}function O2(n,t,a,r){return Ot(n)?U5(n,t,a,r):t[a.axis]=a.parse(n,r),t}function vp(n,t,a,r){const l=n.iScale,c=n.vScale,d=l.getLabels(),h=l===c,m=[];let f,g,b,w;for(f=a,g=a+r;f<g;++f)w=t[f],b={},b[l.axis]=h||l.parse(d[f],f),m.push(O2(w,b,c,f));return m}function Bh(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function F5(n,t,a){return n!==0?yn(n):(t.isHorizontal()?1:-1)*(t.min>=a?1:-1)}function V5(n){let t,a,r,l,c;return n.horizontal?(t=n.base>n.x,a="left",r="right"):(t=n.base<n.y,a="bottom",r="top"),t?(l="end",c="start"):(l="start",c="end"),{start:a,end:r,reverse:t,top:l,bottom:c}}function W5(n,t,a,r){let l=t.borderSkipped;const c={};if(!l){n.borderSkipped=c;return}if(l===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:d,end:h,reverse:m,top:f,bottom:g}=V5(n);l==="middle"&&a&&(n.enableBorderRadius=!0,(a._top||0)===r?l=f:(a._bottom||0)===r?l=g:(c[jp(g,d,h,m)]=!0,l=f)),c[jp(l,d,h,m)]=!0,n.borderSkipped=c}function jp(n,t,a,r){return r?(n=$5(n,t,a),n=wp(n,a,t)):n=wp(n,t,a),n}function $5(n,t,a){return n===t?a:n===a?t:n}function wp(n,t,a){return n==="start"?t:n==="end"?a:n}function q5(n,{inflateAmount:t},a){n.inflateAmount=t==="auto"?a===1?.33:0:t}class Y5 extends Da{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,a,r,l){return vp(t,a,r,l)}parseArrayData(t,a,r,l){return vp(t,a,r,l)}parseObjectData(t,a,r,l){const{iScale:c,vScale:d}=t,{xAxisKey:h="x",yAxisKey:m="y"}=this._parsing,f=c.axis==="x"?h:m,g=d.axis==="x"?h:m,b=[];let w,y,v,j;for(w=r,y=r+l;w<y;++w)j=a[w],v={},v[c.axis]=c.parse(La(j,f),w),b.push(O2(La(j,g),v,d,w));return b}updateRangeFromParsed(t,a,r,l){super.updateRangeFromParsed(t,a,r,l);const c=r._custom;c&&a===this._cachedMeta.vScale&&(t.min=Math.min(t.min,c.min),t.max=Math.max(t.max,c.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const a=this._cachedMeta,{iScale:r,vScale:l}=a,c=this.getParsed(t),d=c._custom,h=Bh(d)?"["+d.start+", "+d.end+"]":""+l.getLabelForValue(c[l.axis]);return{label:""+r.getLabelForValue(c[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,t)}updateElements(t,a,r,l){const c=l==="reset",{index:d,_cachedMeta:{vScale:h}}=this,m=h.getBasePixel(),f=h.isHorizontal(),g=this._getRuler(),{sharedOptions:b,includeOptions:w}=this._getSharedOptions(a,l);for(let y=a;y<a+r;y++){const v=this.getParsed(y),j=c||st(v[h.axis])?{base:m,head:m}:this._calculateBarValuePixels(y),N=this._calculateBarIndexPixels(y,g),M=(v._stacks||{})[h.axis],B={horizontal:f,base:j.base,enableBorderRadius:!M||Bh(v._custom)||d===M._top||d===M._bottom,x:f?j.head:N.center,y:f?N.center:j.head,height:f?N.size:Math.abs(j.size),width:f?Math.abs(j.size):N.size};w&&(B.options=b||this.resolveDataElementOptions(y,t[y].active?"active":l));const A=B.options||t[y].options;W5(B,A,M,d),q5(B,A,g.ratio),this.updateElement(t[y],y,B,l)}}_getStacks(t,a){const{iScale:r}=this._cachedMeta,l=r.getMatchingVisibleMetas(this._type).filter(g=>g.controller.options.grouped),c=r.options.stacked,d=[],h=this._cachedMeta.controller.getParsed(a),m=h&&h[r.axis],f=g=>{const b=g._parsed.find(y=>y[r.axis]===m),w=b&&b[g.vScale.axis];if(st(w)||isNaN(w))return!0};for(const g of l)if(!(a!==void 0&&f(g))&&((c===!1||d.indexOf(g.stack)===-1||c===void 0&&g.stack===void 0)&&d.push(g.stack),g.index===t))break;return d.length||d.push(void 0),d}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===a).shift()}_getAxis(){const t={},a=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[ze(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,a)]=!0;return Object.keys(t)}_getStackIndex(t,a,r){const l=this._getStacks(t,r),c=a!==void 0?l.indexOf(a):-1;return c===-1?l.length-1:c}_getRuler(){const t=this.options,a=this._cachedMeta,r=a.iScale,l=[];let c,d;for(c=0,d=a.data.length;c<d;++c)l.push(r.getPixelForValue(this.getParsed(c)[r.axis],c));const h=t.barThickness;return{min:h||P5(a),pixels:l,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:a,_stacked:r,index:l},options:{base:c,minBarLength:d}}=this,h=c||0,m=this.getParsed(t),f=m._custom,g=Bh(f);let b=m[a.axis],w=0,y=r?this.applyStack(a,m,r):b,v,j;y!==b&&(w=y-b,y=b),g&&(b=f.barStart,y=f.barEnd-f.barStart,b!==0&&yn(b)!==yn(f.barEnd)&&(w=0),w+=b);const N=!st(c)&&!g?c:w;let M=a.getPixelForValue(N);if(this.chart.getDataVisibility(t)?v=a.getPixelForValue(w+y):v=M,j=v-M,Math.abs(j)<d){j=F5(j,a,h)*d,b===h&&(M-=j/2);const B=a.getPixelForDecimal(0),A=a.getPixelForDecimal(1),Y=Math.min(B,A),V=Math.max(B,A);M=Math.max(Math.min(M,V),Y),v=M+j,r&&!g&&(m._stacks[a.axis]._visualValues[l]=a.getValueForPixel(v)-a.getValueForPixel(M))}if(M===a.getPixelForValue(h)){const B=yn(j)*a.getLineWidthForValue(h)/2;M+=B,j-=B}return{size:j,base:M,head:v,center:v+j/2}}_calculateBarIndexPixels(t,a){const r=a.scale,l=this.options,c=l.skipNull,d=ze(l.maxBarThickness,1/0);let h,m;const f=this._getAxisCount();if(a.grouped){const g=c?this._getStackCount(t):a.stackCount,b=l.barThickness==="flex"?H5(t,a,l,g*f):I5(t,a,l,g*f),w=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(ze(w,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,c?t:void 0)+y;h=b.start+b.chunk*v+b.chunk/2,m=Math.min(d,b.chunk*b.ratio)}else h=r.getPixelForValue(this.getParsed(t)[r.axis],t),m=Math.min(d,a.min*a.ratio);return{base:h-m/2,head:h+m/2,center:h,size:m}}draw(){const t=this._cachedMeta,a=t.vScale,r=t.data,l=r.length;let c=0;for(;c<l;++c)this.getParsed(c)[a.axis]!==null&&!r[c].hidden&&r[c].draw(this._ctx)}}class Q5 extends Da{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,a,r,l){const c=super.parsePrimitiveData(t,a,r,l);for(let d=0;d<c.length;d++)c[d]._custom=this.resolveDataElementOptions(d+r).radius;return c}parseArrayData(t,a,r,l){const c=super.parseArrayData(t,a,r,l);for(let d=0;d<c.length;d++){const h=a[r+d];c[d]._custom=ze(h[2],this.resolveDataElementOptions(d+r).radius)}return c}parseObjectData(t,a,r,l){const c=super.parseObjectData(t,a,r,l);for(let d=0;d<c.length;d++){const h=a[r+d];c[d]._custom=ze(h&&h.r&&+h.r,this.resolveDataElementOptions(d+r).radius)}return c}getMaxOverflow(){const t=this._cachedMeta.data;let a=0;for(let r=t.length-1;r>=0;--r)a=Math.max(a,t[r].size(this.resolveDataElementOptions(r))/2);return a>0&&a}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:l,yScale:c}=a,d=this.getParsed(t),h=l.getLabelForValue(d.x),m=c.getLabelForValue(d.y),f=d._custom;return{label:r[t]||"",value:"("+h+", "+m+(f?", "+f:"")+")"}}update(t){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,t)}updateElements(t,a,r,l){const c=l==="reset",{iScale:d,vScale:h}=this._cachedMeta,{sharedOptions:m,includeOptions:f}=this._getSharedOptions(a,l),g=d.axis,b=h.axis;for(let w=a;w<a+r;w++){const y=t[w],v=!c&&this.getParsed(w),j={},N=j[g]=c?d.getPixelForDecimal(.5):d.getPixelForValue(v[g]),M=j[b]=c?h.getBasePixel():h.getPixelForValue(v[b]);j.skip=isNaN(N)||isNaN(M),f&&(j.options=m||this.resolveDataElementOptions(w,y.active?"active":l),c&&(j.options.radius=0)),this.updateElement(y,w,j,l)}}resolveDataElementOptions(t,a){const r=this.getParsed(t);let l=super.resolveDataElementOptions(t,a);l.$shared&&(l=Object.assign({},l,{$shared:!1}));const c=l.radius;return a!=="active"&&(l.radius=0),l.radius+=ze(r&&r._custom,c),l}}function X5(n,t,a){let r=1,l=1,c=0,d=0;if(t<jt){const h=n,m=h+t,f=Math.cos(h),g=Math.sin(h),b=Math.cos(m),w=Math.sin(m),y=(A,Y,V)=>Vl(A,h,m,!0)?1:Math.max(Y,Y*a,V,V*a),v=(A,Y,V)=>Vl(A,h,m,!0)?-1:Math.min(Y,Y*a,V,V*a),j=y(0,f,b),N=y(Pt,g,w),M=v(nt,f,b),B=v(nt+Pt,g,w);r=(j-M)/2,l=(N-B)/2,c=-(j+M)/2,d=-(N+B)/2}return{ratioX:r,ratioY:l,offsetX:c,offsetY:d}}class z2 extends Da{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data,{labels:{pointStyle:r,textAlign:l,color:c,useBorderRadius:d,borderRadius:h}}=t.legend.options;return a.labels.length&&a.datasets.length?a.labels.map((m,f)=>{const b=t.getDatasetMeta(0).controller.getStyle(f);return{text:m,fillStyle:b.backgroundColor,fontColor:c,hidden:!t.getDataVisibility(f),lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,textAlign:l,pointStyle:r,borderRadius:d&&(h||b.borderRadius),index:f}}):[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}}};constructor(t,a){super(t,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,a){const r=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=r;else{let c=m=>+r[m];if(qe(r[t])){const{key:m="value"}=this._parsing;c=f=>+La(r[f],m)}let d,h;for(d=t,h=t+a;d<h;++d)l._parsed[d]=c(d)}}_getRotation(){return bn(this.options.rotation-90)}_getCircumference(){return bn(this.options.circumference)}_getRotationExtents(){let t=jt,a=-jt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const l=this.chart.getDatasetMeta(r).controller,c=l._getRotation(),d=l._getCircumference();t=Math.min(t,c),a=Math.max(a,c+d)}return{rotation:t,circumference:a-t}}update(t){const a=this.chart,{chartArea:r}=a,l=this._cachedMeta,c=l.data,d=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-d)/2,0),m=Math.min(nN(this.options.cutout,h),1),f=this._getRingWeight(this.index),{circumference:g,rotation:b}=this._getRotationExtents(),{ratioX:w,ratioY:y,offsetX:v,offsetY:j}=X5(b,g,m),N=(r.width-d)/w,M=(r.height-d)/y,B=Math.max(Math.min(N,M)/2,0),A=o2(this.options.radius,B),Y=Math.max(A*m,0),V=(A-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=v*A,this.offsetY=j*A,l.total=this.calculateTotal(),this.outerRadius=A-V*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-V*f,0),this.updateElements(c,0,c.length,t)}_circumference(t,a){const r=this.options,l=this._cachedMeta,c=this._getCircumference();return a&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*c/jt)}updateElements(t,a,r,l){const c=l==="reset",d=this.chart,h=d.chartArea,f=d.options.animation,g=(h.left+h.right)/2,b=(h.top+h.bottom)/2,w=c&&f.animateScale,y=w?0:this.innerRadius,v=w?0:this.outerRadius,{sharedOptions:j,includeOptions:N}=this._getSharedOptions(a,l);let M=this._getRotation(),B;for(B=0;B<a;++B)M+=this._circumference(B,c);for(B=a;B<a+r;++B){const A=this._circumference(B,c),Y=t[B],V={x:g+this.offsetX,y:b+this.offsetY,startAngle:M,endAngle:M+A,circumference:A,outerRadius:v,innerRadius:y};N&&(V.options=j||this.resolveDataElementOptions(B,Y.active?"active":l)),M+=A,this.updateElement(Y,B,V,l)}}calculateTotal(){const t=this._cachedMeta,a=t.data;let r=0,l;for(l=0;l<a.length;l++){const c=t._parsed[l];c!==null&&!isNaN(c)&&this.chart.getDataVisibility(l)&&!a[l].hidden&&(r+=Math.abs(c))}return r}calculateCircumference(t){const a=this._cachedMeta.total;return a>0&&!isNaN(t)?jt*(Math.abs(t)/a):0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,l=r.data.labels||[],c=cd(a._parsed[t],r.options.locale);return{label:l[t]||"",value:c}}getMaxBorderWidth(t){let a=0;const r=this.chart;let l,c,d,h,m;if(!t){for(l=0,c=r.data.datasets.length;l<c;++l)if(r.isDatasetVisible(l)){d=r.getDatasetMeta(l),t=d.data,h=d.controller;break}}if(!t)return 0;for(l=0,c=t.length;l<c;++l)m=h.resolveDataElementOptions(l),m.borderAlign!=="inner"&&(a=Math.max(a,m.borderWidth||0,m.hoverBorderWidth||0));return a}getMaxOffset(t){let a=0;for(let r=0,l=t.length;r<l;++r){const c=this.resolveDataElementOptions(r);a=Math.max(a,c.offset||0,c.hoverOffset||0)}return a}_getRingWeightOffset(t){let a=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(a+=this._getRingWeight(r));return a}_getRingWeight(t){return Math.max(ze(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class G5 extends Da{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const a=this._cachedMeta,{dataset:r,data:l=[],_dataset:c}=a,d=this.chart._animationsDisabled;let{start:h,count:m}=g2(a,l,d);this._drawStart=h,this._drawCount=m,p2(a)&&(h=0,m=l.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!c._decimated,r.points=l;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!d,options:f},t),this.updateElements(l,h,m,t)}updateElements(t,a,r,l){const c=l==="reset",{iScale:d,vScale:h,_stacked:m,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(a,l),w=d.axis,y=h.axis,{spanGaps:v,segment:j}=this.options,N=pr(v)?v:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||c||l==="none",B=a+r,A=t.length;let Y=a>0&&this.getParsed(a-1);for(let V=0;V<A;++V){const D=t[V],z=M?D:{};if(V<a||V>=B){z.skip=!0;continue}const E=this.getParsed(V),F=st(E[y]),se=z[w]=d.getPixelForValue(E[w],V),O=z[y]=c||F?h.getBasePixel():h.getPixelForValue(m?this.applyStack(h,E,m):E[y],V);z.skip=isNaN(se)||isNaN(O)||F,z.stop=V>0&&Math.abs(E[w]-Y[w])>N,j&&(z.parsed=E,z.raw=f.data[V]),b&&(z.options=g||this.resolveDataElementOptions(V,D.active?"active":l)),M||this.updateElement(D,V,z,l),Y=E}}getMaxOverflow(){const t=this._cachedMeta,a=t.dataset,r=a.options&&a.options.borderWidth||0,l=t.data||[];if(!l.length)return r;const c=l[0].size(this.resolveDataElementOptions(0)),d=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(r,c,d)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class K5 extends Da{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const a=t.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:r,color:l}}=t.legend.options;return a.labels.map((c,d)=>{const m=t.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:l,lineWidth:m.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(d),index:d}})}return[]}},onClick(t,a,r){r.chart.toggleDataVisibility(a.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,a){super(t,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const a=this._cachedMeta,r=this.chart,l=r.data.labels||[],c=cd(a._parsed[t].r,r.options.locale);return{label:l[t]||"",value:c}}parseObjectData(t,a,r,l){return S2.bind(this)(t,a,r,l)}update(t){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,t)}getMinMax(){const t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((r,l)=>{const c=this.getParsed(l).r;!isNaN(c)&&this.chart.getDataVisibility(l)&&(c<a.min&&(a.min=c),c>a.max&&(a.max=c))}),a}_updateRadius(){const t=this.chart,a=t.chartArea,r=t.options,l=Math.min(a.right-a.left,a.bottom-a.top),c=Math.max(l/2,0),d=Math.max(r.cutoutPercentage?c/100*r.cutoutPercentage:1,0),h=(c-d)/t.getVisibleDatasetCount();this.outerRadius=c-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,a,r,l){const c=l==="reset",d=this.chart,m=d.options.animation,f=this._cachedMeta.rScale,g=f.xCenter,b=f.yCenter,w=f.getIndexAngle(0)-.5*nt;let y=w,v;const j=360/this.countVisibleElements();for(v=0;v<a;++v)y+=this._computeAngle(v,l,j);for(v=a;v<a+r;v++){const N=t[v];let M=y,B=y+this._computeAngle(v,l,j),A=d.getDataVisibility(v)?f.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=B,c&&(m.animateScale&&(A=0),m.animateRotate&&(M=B=w));const Y={x:g,y:b,innerRadius:0,outerRadius:A,startAngle:M,endAngle:B,options:this.resolveDataElementOptions(v,N.active?"active":l)};this.updateElement(N,v,Y,l)}}countVisibleElements(){const t=this._cachedMeta;let a=0;return t.data.forEach((r,l)=>{!isNaN(this.getParsed(l).r)&&this.chart.getDataVisibility(l)&&a++}),a}_computeAngle(t,a,r){return this.chart.getDataVisibility(t)?bn(this.resolveDataElementOptions(t,a).angle||r):0}}class Z5 extends z2{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class J5 extends Da{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const a=this._cachedMeta.vScale,r=this.getParsed(t);return{label:a.getLabels()[t],value:""+a.getLabelForValue(r[a.axis])}}parseObjectData(t,a,r,l){return S2.bind(this)(t,a,r,l)}update(t){const a=this._cachedMeta,r=a.dataset,l=a.data||[],c=a.iScale.getLabels();if(r.points=l,t!=="resize"){const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0);const h={_loop:!0,_fullLoop:c.length===l.length,options:d};this.updateElement(r,void 0,h,t)}this.updateElements(l,0,l.length,t)}updateElements(t,a,r,l){const c=this._cachedMeta.rScale,d=l==="reset";for(let h=a;h<a+r;h++){const m=t[h],f=this.resolveDataElementOptions(h,m.active?"active":l),g=c.getPointPositionForValue(h,this.getParsed(h).r),b=d?c.xCenter:g.x,w=d?c.yCenter:g.y,y={x:b,y:w,angle:g.angle,skip:isNaN(b)||isNaN(w),options:f};this.updateElement(m,h,y,l)}}}class ek extends Da{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const a=this._cachedMeta,r=this.chart.data.labels||[],{xScale:l,yScale:c}=a,d=this.getParsed(t),h=l.getLabelForValue(d.x),m=c.getLabelForValue(d.y);return{label:r[t]||"",value:"("+h+", "+m+")"}}update(t){const a=this._cachedMeta,{data:r=[]}=a,l=this.chart._animationsDisabled;let{start:c,count:d}=g2(a,r,l);if(this._drawStart=c,this._drawCount=d,p2(a)&&(c=0,d=r.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:m}=a;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!m._decimated,h.points=r;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(h,void 0,{animated:!l,options:f},t)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(r,c,d,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,a,r,l){const c=l==="reset",{iScale:d,vScale:h,_stacked:m,_dataset:f}=this._cachedMeta,g=this.resolveDataElementOptions(a,l),b=this.getSharedOptions(g),w=this.includeOptions(l,b),y=d.axis,v=h.axis,{spanGaps:j,segment:N}=this.options,M=pr(j)?j:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||c||l==="none";let A=a>0&&this.getParsed(a-1);for(let Y=a;Y<a+r;++Y){const V=t[Y],D=this.getParsed(Y),z=B?V:{},E=st(D[v]),F=z[y]=d.getPixelForValue(D[y],Y),se=z[v]=c||E?h.getBasePixel():h.getPixelForValue(m?this.applyStack(h,D,m):D[v],Y);z.skip=isNaN(F)||isNaN(se)||E,z.stop=Y>0&&Math.abs(D[y]-A[y])>M,N&&(z.parsed=D,z.raw=f.data[Y]),w&&(z.options=b||this.resolveDataElementOptions(Y,V.active?"active":l)),B||this.updateElement(V,Y,z,l),A=D}this.updateSharedOptions(b,l,g)}getMaxOverflow(){const t=this._cachedMeta,a=t.data||[];if(!this.options.showLine){let h=0;for(let m=a.length-1;m>=0;--m)h=Math.max(h,a[m].size(this.resolveDataElementOptions(m))/2);return h>0&&h}const r=t.dataset,l=r.options&&r.options.borderWidth||0;if(!a.length)return l;const c=a[0].size(this.resolveDataElementOptions(0)),d=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(l,c,d)/2}}function ui(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class R0{static override(t){Object.assign(R0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ui()}parse(){return ui()}format(){return ui()}add(){return ui()}diff(){return ui()}startOf(){return ui()}endOf(){return ui()}}var tk={_date:R0};function sk(n,t,a,r){const{controller:l,data:c,_sorted:d}=n,h=l._cachedMeta.iScale,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&d&&c.length){const f=h._reversePixels?bN:xi;if(r){if(l._sharedOptions){const g=c[0],b=typeof g.getRange=="function"&&g.getRange(t);if(b){const w=f(c,t,a-b),y=f(c,t,a+b);return{lo:w.lo,hi:y.hi}}}}else{const g=f(c,t,a);if(m){const{vScale:b}=l._cachedMeta,{_parsed:w}=n,y=w.slice(0,g.lo+1).reverse().findIndex(j=>!st(j[b.axis]));g.lo-=Math.max(0,y);const v=w.slice(g.hi).findIndex(j=>!st(j[b.axis]));g.hi+=Math.max(0,v)}return g}}return{lo:0,hi:c.length-1}}function md(n,t,a,r,l){const c=n.getSortedVisibleDatasetMetas(),d=a[t];for(let h=0,m=c.length;h<m;++h){const{index:f,data:g}=c[h],{lo:b,hi:w}=sk(c[h],t,d,l);for(let y=b;y<=w;++y){const v=g[y];v.skip||r(v,f,y)}}}function nk(n){const t=n.indexOf("x")!==-1,a=n.indexOf("y")!==-1;return function(r,l){const c=t?Math.abs(r.x-l.x):0,d=a?Math.abs(r.y-l.y):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2))}}function Ph(n,t,a,r,l){const c=[];return!l&&!n.isPointInArea(t)||md(n,a,t,function(h,m,f){!l&&!Wl(h,n.chartArea,0)||h.inRange(t.x,t.y,r)&&c.push({element:h,datasetIndex:m,index:f})},!0),c}function ak(n,t,a,r){let l=[];function c(d,h,m){const{startAngle:f,endAngle:g}=d.getProps(["startAngle","endAngle"],r),{angle:b}=u2(d,{x:t.x,y:t.y});Vl(b,f,g)&&l.push({element:d,datasetIndex:h,index:m})}return md(n,a,t,c),l}function ik(n,t,a,r,l,c){let d=[];const h=nk(a);let m=Number.POSITIVE_INFINITY;function f(g,b,w){const y=g.inRange(t.x,t.y,l);if(r&&!y)return;const v=g.getCenterPoint(l);if(!(!!c||n.isPointInArea(v))&&!y)return;const N=h(t,v);N<m?(d=[{element:g,datasetIndex:b,index:w}],m=N):N===m&&d.push({element:g,datasetIndex:b,index:w})}return md(n,a,t,f),d}function Ih(n,t,a,r,l,c){return!c&&!n.isPointInArea(t)?[]:a==="r"&&!r?ak(n,t,a,l):ik(n,t,a,r,l,c)}function Np(n,t,a,r,l){const c=[],d=a==="x"?"inXRange":"inYRange";let h=!1;return md(n,a,t,(m,f,g)=>{m[d]&&m[d](t[a],l)&&(c.push({element:m,datasetIndex:f,index:g}),h=h||m.inRange(t.x,t.y,l))}),r&&!h?[]:c}var rk={modes:{index(n,t,a,r){const l=hi(t,n),c=a.axis||"x",d=a.includeInvisible||!1,h=a.intersect?Ph(n,l,c,r,d):Ih(n,l,c,!1,r,d),m=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=h[0].index,b=f.data[g];b&&!b.skip&&m.push({element:b,datasetIndex:f.index,index:g})}),m):[]},dataset(n,t,a,r){const l=hi(t,n),c=a.axis||"xy",d=a.includeInvisible||!1;let h=a.intersect?Ph(n,l,c,r,d):Ih(n,l,c,!1,r,d);if(h.length>0){const m=h[0].datasetIndex,f=n.getDatasetMeta(m).data;h=[];for(let g=0;g<f.length;++g)h.push({element:f[g],datasetIndex:m,index:g})}return h},point(n,t,a,r){const l=hi(t,n),c=a.axis||"xy",d=a.includeInvisible||!1;return Ph(n,l,c,r,d)},nearest(n,t,a,r){const l=hi(t,n),c=a.axis||"xy",d=a.includeInvisible||!1;return Ih(n,l,c,a.intersect,r,d)},x(n,t,a,r){const l=hi(t,n);return Np(n,l,"x",a.intersect,r)},y(n,t,a,r){const l=hi(t,n);return Np(n,l,"y",a.intersect,r)}}};const B2=["left","top","right","bottom"];function Ll(n,t){return n.filter(a=>a.pos===t)}function kp(n,t){return n.filter(a=>B2.indexOf(a.pos)===-1&&a.box.axis===t)}function Al(n,t){return n.sort((a,r)=>{const l=t?r:a,c=t?a:r;return l.weight===c.weight?l.index-c.index:l.weight-c.weight})}function lk(n){const t=[];let a,r,l,c,d,h;for(a=0,r=(n||[]).length;a<r;++a)l=n[a],{position:c,options:{stack:d,stackWeight:h=1}}=l,t.push({index:a,box:l,pos:c,horizontal:l.isHorizontal(),weight:l.weight,stack:d&&c+d,stackWeight:h});return t}function ok(n){const t={};for(const a of n){const{stack:r,pos:l,stackWeight:c}=a;if(!r||!B2.includes(l))continue;const d=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=c}return t}function ck(n,t){const a=ok(n),{vBoxMaxWidth:r,hBoxMaxHeight:l}=t;let c,d,h;for(c=0,d=n.length;c<d;++c){h=n[c];const{fullSize:m}=h.box,f=a[h.stack],g=f&&h.stackWeight/f.weight;h.horizontal?(h.width=g?g*r:m&&t.availableWidth,h.height=l):(h.width=r,h.height=g?g*l:m&&t.availableHeight)}return a}function dk(n){const t=lk(n),a=Al(t.filter(f=>f.box.fullSize),!0),r=Al(Ll(t,"left"),!0),l=Al(Ll(t,"right")),c=Al(Ll(t,"top"),!0),d=Al(Ll(t,"bottom")),h=kp(t,"x"),m=kp(t,"y");return{fullSize:a,leftAndTop:r.concat(c),rightAndBottom:l.concat(m).concat(d).concat(h),chartArea:Ll(t,"chartArea"),vertical:r.concat(l).concat(m),horizontal:c.concat(d).concat(h)}}function Sp(n,t,a,r){return Math.max(n[a],t[a])+Math.max(n[r],t[r])}function P2(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function uk(n,t,a,r){const{pos:l,box:c}=a,d=n.maxPadding;if(!qe(l)){a.size&&(n[l]-=a.size);const b=r[a.stack]||{size:0,count:1};b.size=Math.max(b.size,a.horizontal?c.height:c.width),a.size=b.size/b.count,n[l]+=a.size}c.getPadding&&P2(d,c.getPadding());const h=Math.max(0,t.outerWidth-Sp(d,n,"left","right")),m=Math.max(0,t.outerHeight-Sp(d,n,"top","bottom")),f=h!==n.w,g=m!==n.h;return n.w=h,n.h=m,a.horizontal?{same:f,other:g}:{same:g,other:f}}function hk(n){const t=n.maxPadding;function a(r){const l=Math.max(t[r]-n[r],0);return n[r]+=l,l}n.y+=a("top"),n.x+=a("left"),a("right"),a("bottom")}function mk(n,t){const a=t.maxPadding;function r(l){const c={left:0,top:0,right:0,bottom:0};return l.forEach(d=>{c[d]=Math.max(t[d],a[d])}),c}return r(n?["left","right"]:["top","bottom"])}function Rl(n,t,a,r){const l=[];let c,d,h,m,f,g;for(c=0,d=n.length,f=0;c<d;++c){h=n[c],m=h.box,m.update(h.width||t.w,h.height||t.h,mk(h.horizontal,t));const{same:b,other:w}=uk(t,a,h,r);f|=b&&l.length,g=g||w,m.fullSize||l.push(h)}return f&&Rl(l,t,a,r)||g}function Ac(n,t,a,r,l){n.top=a,n.left=t,n.right=t+r,n.bottom=a+l,n.width=r,n.height=l}function Cp(n,t,a,r){const l=a.padding;let{x:c,y:d}=t;for(const h of n){const m=h.box,f=r[h.stack]||{placed:0,weight:1},g=h.stackWeight/f.weight||1;if(h.horizontal){const b=t.w*g,w=f.size||m.height;Fl(f.start)&&(d=f.start),m.fullSize?Ac(m,l.left,d,a.outerWidth-l.right-l.left,w):Ac(m,t.left+f.placed,d,b,w),f.start=d,f.placed+=b,d=m.bottom}else{const b=t.h*g,w=f.size||m.width;Fl(f.start)&&(c=f.start),m.fullSize?Ac(m,c,l.top,w,a.outerHeight-l.bottom-l.top):Ac(m,c,t.top+f.placed,w,b),f.start=c,f.placed+=b,c=m.right}}t.x=c,t.y=d}var qs={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(a){t.draw(a)}}]},n.boxes.push(t)},removeBox(n,t){const a=n.boxes?n.boxes.indexOf(t):-1;a!==-1&&n.boxes.splice(a,1)},configure(n,t,a){t.fullSize=a.fullSize,t.position=a.position,t.weight=a.weight},update(n,t,a,r){if(!n)return;const l=Ys(n.options.layout.padding),c=Math.max(t-l.width,0),d=Math.max(a-l.height,0),h=dk(n.boxes),m=h.vertical,f=h.horizontal;lt(n.boxes,j=>{typeof j.beforeLayout=="function"&&j.beforeLayout()});const g=m.reduce((j,N)=>N.box.options&&N.box.options.display===!1?j:j+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:a,padding:l,availableWidth:c,availableHeight:d,vBoxMaxWidth:c/2/g,hBoxMaxHeight:d/2}),w=Object.assign({},l);P2(w,Ys(r));const y=Object.assign({maxPadding:w,w:c,h:d,x:l.left,y:l.top},l),v=ck(m.concat(f),b);Rl(h.fullSize,y,b,v),Rl(m,y,b,v),Rl(f,y,b,v)&&Rl(m,y,b,v),hk(y),Cp(h.leftAndTop,y,b,v),y.x+=y.w,y.y+=y.h,Cp(h.rightAndBottom,y,b,v),n.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},lt(h.chartArea,j=>{const N=j.box;Object.assign(N,n.chartArea),N.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class I2{acquireContext(t,a){}releaseContext(t){return!1}addEventListener(t,a,r){}removeEventListener(t,a,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,a,r,l){return a=Math.max(0,a||t.width),r=r||t.height,{width:a,height:Math.max(0,l?Math.floor(a/l):r)}}isAttached(t){return!0}updateConfig(t){}}class fk extends I2{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Vc="$chartjs",xk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mp=n=>n===null||n==="";function gk(n,t){const a=n.style,r=n.getAttribute("height"),l=n.getAttribute("width");if(n[Vc]={initial:{height:r,width:l,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",Mp(l)){const c=dp(n,"width");c!==void 0&&(n.width=c)}if(Mp(r))if(n.style.height==="")n.height=n.width/(t||2);else{const c=dp(n,"height");c!==void 0&&(n.height=c)}return n}const H2=u5?{passive:!0}:!1;function pk(n,t,a){n&&n.addEventListener(t,a,H2)}function bk(n,t,a){n&&n.canvas&&n.canvas.removeEventListener(t,a,H2)}function yk(n,t){const a=xk[n.type]||n.type,{x:r,y:l}=hi(n,t);return{type:a,chart:t,native:n,x:r!==void 0?r:null,y:l!==void 0?l:null}}function Jc(n,t){for(const a of n)if(a===t||a.contains(t))return!0}function vk(n,t,a){const r=n.canvas,l=new MutationObserver(c=>{let d=!1;for(const h of c)d=d||Jc(h.addedNodes,r),d=d&&!Jc(h.removedNodes,r);d&&a()});return l.observe(document,{childList:!0,subtree:!0}),l}function jk(n,t,a){const r=n.canvas,l=new MutationObserver(c=>{let d=!1;for(const h of c)d=d||Jc(h.removedNodes,r),d=d&&!Jc(h.addedNodes,r);d&&a()});return l.observe(document,{childList:!0,subtree:!0}),l}const ql=new Map;let Lp=0;function U2(){const n=window.devicePixelRatio;n!==Lp&&(Lp=n,ql.forEach((t,a)=>{a.currentDevicePixelRatio!==n&&t()}))}function wk(n,t){ql.size||window.addEventListener("resize",U2),ql.set(n,t)}function Nk(n){ql.delete(n),ql.size||window.removeEventListener("resize",U2)}function kk(n,t,a){const r=n.canvas,l=r&&E0(r);if(!l)return;const c=x2((h,m)=>{const f=l.clientWidth;a(h,m),f<l.clientWidth&&a()},window),d=new ResizeObserver(h=>{const m=h[0],f=m.contentRect.width,g=m.contentRect.height;f===0&&g===0||c(f,g)});return d.observe(l),wk(n,c),d}function Hh(n,t,a){a&&a.disconnect(),t==="resize"&&Nk(n)}function Sk(n,t,a){const r=n.canvas,l=x2(c=>{n.ctx!==null&&a(yk(c,n))},n);return pk(r,t,l),l}class Ck extends I2{acquireContext(t,a){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(gk(t,a),r):null}releaseContext(t){const a=t.canvas;if(!a[Vc])return!1;const r=a[Vc].initial;["height","width"].forEach(c=>{const d=r[c];st(d)?a.removeAttribute(c):a.setAttribute(c,d)});const l=r.style||{};return Object.keys(l).forEach(c=>{a.style[c]=l[c]}),a.width=a.width,delete a[Vc],!0}addEventListener(t,a,r){this.removeEventListener(t,a);const l=t.$proxies||(t.$proxies={}),d={attach:vk,detach:jk,resize:kk}[a]||Sk;l[a]=d(t,a,r)}removeEventListener(t,a){const r=t.$proxies||(t.$proxies={}),l=r[a];if(!l)return;({attach:Hh,detach:Hh,resize:Hh}[a]||bk)(t,a,l),r[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,a,r,l){return d5(t,a,r,l)}isAttached(t){const a=t&&E0(t);return!!(a&&a.isConnected)}}function Mk(n){return!_0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?fk:Ck}class Yn{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}hasValue(){return pr(this.x)&&pr(this.y)}getProps(t,a){const r=this.$animations;if(!a||!r)return this;const l={};return t.forEach(c=>{l[c]=r[c]&&r[c].active()?r[c]._to:this[c]}),l}}function Lk(n,t){const a=n.options.ticks,r=Ak(n),l=Math.min(a.maxTicksLimit||r,r),c=a.major.enabled?_k(t):[],d=c.length,h=c[0],m=c[d-1],f=[];if(d>l)return Ek(t,f,c,d/l),f;const g=Dk(c,t,l);if(d>0){let b,w;const y=d>1?Math.round((m-h)/(d-1)):null;for(Dc(t,f,g,st(y)?0:h-y,h),b=0,w=d-1;b<w;b++)Dc(t,f,g,c[b],c[b+1]);return Dc(t,f,g,m,st(y)?t.length:m+y),f}return Dc(t,f,g),f}function Ak(n){const t=n.options.offset,a=n._tickSize(),r=n._length/a+(t?0:1),l=n._maxLength/a;return Math.floor(Math.min(r,l))}function Dk(n,t,a){const r=Rk(n),l=t.length/a;if(!r)return Math.max(l,1);const c=uN(r);for(let d=0,h=c.length-1;d<h;d++){const m=c[d];if(m>l)return m}return Math.max(l,1)}function _k(n){const t=[];let a,r;for(a=0,r=n.length;a<r;a++)n[a].major&&t.push(a);return t}function Ek(n,t,a,r){let l=0,c=a[0],d;for(r=Math.ceil(r),d=0;d<n.length;d++)d===c&&(t.push(n[d]),l++,c=a[l*r])}function Dc(n,t,a,r,l){const c=ze(r,0),d=Math.min(ze(l,n.length),n.length);let h=0,m,f,g;for(a=Math.ceil(a),l&&(m=l-r,a=m/Math.floor(m/a)),g=c;g<0;)h++,g=Math.round(c+h*a);for(f=Math.max(c,0);f<d;f++)f===g&&(t.push(n[f]),h++,g=Math.round(c+h*a))}function Rk(n){const t=n.length;let a,r;if(t<2)return!1;for(r=n[0],a=1;a<t;++a)if(n[a]-n[a-1]!==r)return!1;return r}const Tk=n=>n==="left"?"right":n==="right"?"left":n,Ap=(n,t,a)=>t==="top"||t==="left"?n[t]+a:n[t]-a,Dp=(n,t)=>Math.min(t||n,n);function _p(n,t){const a=[],r=n.length/t,l=n.length;let c=0;for(;c<l;c+=r)a.push(n[Math.floor(c)]);return a}function Ok(n,t,a){const r=n.ticks.length,l=Math.min(t,r-1),c=n._startPixel,d=n._endPixel,h=1e-6;let m=n.getPixelForTick(l),f;if(!(a&&(r===1?f=Math.max(m-c,d-m):t===0?f=(n.getPixelForTick(1)-m)/2:f=(m-n.getPixelForTick(l-1))/2,m+=l<t?f:-f,m<c-h||m>d+h)))return m}function zk(n,t){lt(n,a=>{const r=a.gc,l=r.length/2;let c;if(l>t){for(c=0;c<l;++c)delete a.data[r[c]];r.splice(0,l)}})}function Dl(n){return n.drawTicks?n.tickLength:0}function Ep(n,t){if(!n.display)return 0;const a=ns(n.font,t),r=Ys(n.padding);return(Ot(n.text)?n.text.length:1)*a.lineHeight+r.height}function Bk(n,t){return Ni(n,{scale:t,type:"scale"})}function Pk(n,t,a){return Ni(n,{tick:a,index:t,type:"tick"})}function Ik(n,t,a){let r=S0(n);return(a&&t!=="right"||!a&&t==="right")&&(r=Tk(r)),r}function Hk(n,t,a,r){const{top:l,left:c,bottom:d,right:h,chart:m}=n,{chartArea:f,scales:g}=m;let b=0,w,y,v;const j=d-l,N=h-c;if(n.isHorizontal()){if(y=es(r,c,h),qe(a)){const M=Object.keys(a)[0],B=a[M];v=g[M].getPixelForValue(B)+j-t}else a==="center"?v=(f.bottom+f.top)/2+j-t:v=Ap(n,a,t);w=h-c}else{if(qe(a)){const M=Object.keys(a)[0],B=a[M];y=g[M].getPixelForValue(B)-N+t}else a==="center"?y=(f.left+f.right)/2-N+t:y=Ap(n,a,t);v=es(r,d,l),b=a==="left"?-Pt:Pt}return{titleX:y,titleY:v,maxWidth:w,rotation:b}}class Sr extends Yn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,a){return t}getUserBounds(){let{_userMin:t,_userMax:a,_suggestedMin:r,_suggestedMax:l}=this;return t=xn(t,Number.POSITIVE_INFINITY),a=xn(a,Number.NEGATIVE_INFINITY),r=xn(r,Number.POSITIVE_INFINITY),l=xn(l,Number.NEGATIVE_INFINITY),{min:xn(t,r),max:xn(a,l),minDefined:as(t),maxDefined:as(a)}}getMinMax(t){let{min:a,max:r,minDefined:l,maxDefined:c}=this.getUserBounds(),d;if(l&&c)return{min:a,max:r};const h=this.getMatchingVisibleMetas();for(let m=0,f=h.length;m<f;++m)d=h[m].controller.getMinMax(this,t),l||(a=Math.min(a,d.min)),c||(r=Math.max(r,d.max));return a=c&&a>r?r:a,r=l&&a>r?a:r,{min:xn(a,xn(r,a)),max:xn(r,xn(a,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){gt(this.options.beforeUpdate,[this])}update(t,a,r){const{beginAtZero:l,grace:c,ticks:d}=this.options,h=d.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=a,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FN(this,c,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=h<this.ticks.length;this._convertTicksToLabels(m?_p(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),d.display&&(d.autoSkip||d.source==="auto")&&(this.ticks=Lk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,a,r;this.isHorizontal()?(a=this.left,r=this.right):(a=this.top,r=this.bottom,t=!t),this._startPixel=a,this._endPixel=r,this._reversePixels=t,this._length=r-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){gt(this.options.afterUpdate,[this])}beforeSetDimensions(){gt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){gt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),gt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){gt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const a=this.options.ticks;let r,l,c;for(r=0,l=t.length;r<l;r++)c=t[r],c.label=gt(a.callback,[c.value,r,t],this)}afterTickToLabelConversion(){gt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){gt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,a=t.ticks,r=Dp(this.ticks.length,t.ticks.maxTicksLimit),l=a.minRotation||0,c=a.maxRotation;let d=l,h,m,f;if(!this._isVisible()||!a.display||l>=c||r<=1||!this.isHorizontal()){this.labelRotation=l;return}const g=this._getLabelSizes(),b=g.widest.width,w=g.highest.height,y=ss(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/r:y/(r-1),b+6>h&&(h=y/(r-(t.offset?.5:1)),m=this.maxHeight-Dl(t.grid)-a.padding-Ep(t.title,this.chart.options.font),f=Math.sqrt(b*b+w*w),d=xN(Math.min(Math.asin(ss((g.highest.height+6)/h,-1,1)),Math.asin(ss(m/f,-1,1))-Math.asin(ss(w/f,-1,1)))),d=Math.max(l,Math.min(c,d))),this.labelRotation=d}afterCalculateLabelRotation(){gt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){gt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:a,options:{ticks:r,title:l,grid:c}}=this,d=this._isVisible(),h=this.isHorizontal();if(d){const m=Ep(l,a.options.font);if(h?(t.width=this.maxWidth,t.height=Dl(c)+m):(t.height=this.maxHeight,t.width=Dl(c)+m),r.display&&this.ticks.length){const{first:f,last:g,widest:b,highest:w}=this._getLabelSizes(),y=r.padding*2,v=bn(this.labelRotation),j=Math.cos(v),N=Math.sin(v);if(h){const M=r.mirror?0:N*b.width+j*w.height;t.height=Math.min(this.maxHeight,t.height+M+y)}else{const M=r.mirror?0:j*b.width+N*w.height;t.width=Math.min(this.maxWidth,t.width+M+y)}this._calculatePadding(f,g,N,j)}}this._handleMargins(),h?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,a,r,l){const{ticks:{align:c,padding:d},position:h}=this.options,m=this.labelRotation!==0,f=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let w=0,y=0;m?f?(w=l*t.width,y=r*a.height):(w=r*t.height,y=l*a.width):c==="start"?y=a.width:c==="end"?w=t.width:c!=="inner"&&(w=t.width/2,y=a.width/2),this.paddingLeft=Math.max((w-g+d)*this.width/(this.width-g),0),this.paddingRight=Math.max((y-b+d)*this.width/(this.width-b),0)}else{let g=a.height/2,b=t.height/2;c==="start"?(g=0,b=t.height):c==="end"&&(g=a.height,b=0),this.paddingTop=g+d,this.paddingBottom=b+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){gt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:a}=this.options;return a==="top"||a==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let a,r;for(a=0,r=t.length;a<r;a++)st(t[a].label)&&(t.splice(a,1),r--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const a=this.options.ticks.sampleSize;let r=this.ticks;a<r.length&&(r=_p(r,a)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,a,r){const{ctx:l,_longestTextCache:c}=this,d=[],h=[],m=Math.floor(a/Dp(a,r));let f=0,g=0,b,w,y,v,j,N,M,B,A,Y,V;for(b=0;b<a;b+=m){if(v=t[b].label,j=this._resolveTickFontOptions(b),l.font=N=j.string,M=c[N]=c[N]||{data:{},gc:[]},B=j.lineHeight,A=Y=0,!st(v)&&!Ot(v))A=ip(l,M.data,M.gc,A,v),Y=B;else if(Ot(v))for(w=0,y=v.length;w<y;++w)V=v[w],!st(V)&&!Ot(V)&&(A=ip(l,M.data,M.gc,A,V),Y+=B);d.push(A),h.push(Y),f=Math.max(A,f),g=Math.max(Y,g)}zk(c,a);const D=d.indexOf(f),z=h.indexOf(g),E=F=>({width:d[F]||0,height:h[F]||0});return{first:E(0),last:E(a-1),widest:E(D),highest:E(z),widths:d,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,a){return NaN}getValueForPixel(t){}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const a=this._startPixel+t*this._length;return pN(this._alignToPixels?di(this.chart,a,0):a)}getDecimalForPixel(t){const a=(t-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:a}=this;return t<0&&a<0?a:t>0&&a>0?t:0}getContext(t){const a=this.ticks||[];if(t>=0&&t<a.length){const r=a[t];return r.$context||(r.$context=Pk(this.getContext(),t,r))}return this.$context||(this.$context=Bk(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,a=bn(this.labelRotation),r=Math.abs(Math.cos(a)),l=Math.abs(Math.sin(a)),c=this._getLabelSizes(),d=t.autoSkipPadding||0,h=c?c.widest.width+d:0,m=c?c.highest.height+d:0;return this.isHorizontal()?m*r>h*l?h/r:m/l:m*l<h*r?m/r:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const a=this.axis,r=this.chart,l=this.options,{grid:c,position:d,border:h}=l,m=c.offset,f=this.isHorizontal(),b=this.ticks.length+(m?1:0),w=Dl(c),y=[],v=h.setContext(this.getContext()),j=v.display?v.width:0,N=j/2,M=function(P){return di(r,P,j)};let B,A,Y,V,D,z,E,F,se,O,U,I;if(d==="top")B=M(this.bottom),z=this.bottom-w,F=B-N,O=M(t.top)+N,I=t.bottom;else if(d==="bottom")B=M(this.top),O=t.top,I=M(t.bottom)-N,z=B+N,F=this.top+w;else if(d==="left")B=M(this.right),D=this.right-w,E=B-N,se=M(t.left)+N,U=t.right;else if(d==="right")B=M(this.left),se=t.left,U=M(t.right)-N,D=B+N,E=this.left+w;else if(a==="x"){if(d==="center")B=M((t.top+t.bottom)/2+.5);else if(qe(d)){const P=Object.keys(d)[0],X=d[P];B=M(this.chart.scales[P].getPixelForValue(X))}O=t.top,I=t.bottom,z=B+N,F=z+w}else if(a==="y"){if(d==="center")B=M((t.left+t.right)/2);else if(qe(d)){const P=Object.keys(d)[0],X=d[P];B=M(this.chart.scales[P].getPixelForValue(X))}D=B-N,E=D-w,se=t.left,U=t.right}const $=ze(l.ticks.maxTicksLimit,b),G=Math.max(1,Math.ceil(b/$));for(A=0;A<b;A+=G){const P=this.getContext(A),X=c.setContext(P),T=h.setContext(P),W=X.lineWidth,je=X.color,C=T.dash||[],H=T.dashOffset,ue=X.tickWidth,ge=X.tickColor,L=X.tickBorderDash||[],J=X.tickBorderDashOffset;Y=Ok(this,A,m),Y!==void 0&&(V=di(r,Y,W),f?D=E=se=U=V:z=F=O=I=V,y.push({tx1:D,ty1:z,tx2:E,ty2:F,x1:se,y1:O,x2:U,y2:I,width:W,color:je,borderDash:C,borderDashOffset:H,tickWidth:ue,tickColor:ge,tickBorderDash:L,tickBorderDashOffset:J}))}return this._ticksLength=b,this._borderValue=B,y}_computeLabelItems(t){const a=this.axis,r=this.options,{position:l,ticks:c}=r,d=this.isHorizontal(),h=this.ticks,{align:m,crossAlign:f,padding:g,mirror:b}=c,w=Dl(r.grid),y=w+g,v=b?-g:y,j=-bn(this.labelRotation),N=[];let M,B,A,Y,V,D,z,E,F,se,O,U,I="middle";if(l==="top")D=this.bottom-v,z=this._getXAxisLabelAlignment();else if(l==="bottom")D=this.top+v,z=this._getXAxisLabelAlignment();else if(l==="left"){const G=this._getYAxisLabelAlignment(w);z=G.textAlign,V=G.x}else if(l==="right"){const G=this._getYAxisLabelAlignment(w);z=G.textAlign,V=G.x}else if(a==="x"){if(l==="center")D=(t.top+t.bottom)/2+y;else if(qe(l)){const G=Object.keys(l)[0],P=l[G];D=this.chart.scales[G].getPixelForValue(P)+y}z=this._getXAxisLabelAlignment()}else if(a==="y"){if(l==="center")V=(t.left+t.right)/2-y;else if(qe(l)){const G=Object.keys(l)[0],P=l[G];V=this.chart.scales[G].getPixelForValue(P)}z=this._getYAxisLabelAlignment(w).textAlign}a==="y"&&(m==="start"?I="top":m==="end"&&(I="bottom"));const $=this._getLabelSizes();for(M=0,B=h.length;M<B;++M){A=h[M],Y=A.label;const G=c.setContext(this.getContext(M));E=this.getPixelForTick(M)+c.labelOffset,F=this._resolveTickFontOptions(M),se=F.lineHeight,O=Ot(Y)?Y.length:1;const P=O/2,X=G.color,T=G.textStrokeColor,W=G.textStrokeWidth;let je=z;d?(V=E,z==="inner"&&(M===B-1?je=this.options.reverse?"left":"right":M===0?je=this.options.reverse?"right":"left":je="center"),l==="top"?f==="near"||j!==0?U=-O*se+se/2:f==="center"?U=-$.highest.height/2-P*se+se:U=-$.highest.height+se/2:f==="near"||j!==0?U=se/2:f==="center"?U=$.highest.height/2-P*se:U=$.highest.height-O*se,b&&(U*=-1),j!==0&&!G.showLabelBackdrop&&(V+=se/2*Math.sin(j))):(D=E,U=(1-O)*se/2);let C;if(G.showLabelBackdrop){const H=Ys(G.backdropPadding),ue=$.heights[M],ge=$.widths[M];let L=U-H.top,J=0-H.left;switch(I){case"middle":L-=ue/2;break;case"bottom":L-=ue;break}switch(z){case"center":J-=ge/2;break;case"right":J-=ge;break;case"inner":M===B-1?J-=ge:M>0&&(J-=ge/2);break}C={left:J,top:L,width:ge+H.width,height:ue+H.height,color:G.backdropColor}}N.push({label:Y,font:F,textOffset:U,options:{rotation:j,color:X,strokeColor:T,strokeWidth:W,textAlign:je,textBaseline:I,translation:[V,D],backdrop:C}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:a}=this.options;if(-bn(this.labelRotation))return t==="top"?"left":"right";let l="center";return a.align==="start"?l="left":a.align==="end"?l="right":a.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:a,ticks:{crossAlign:r,mirror:l,padding:c}}=this.options,d=this._getLabelSizes(),h=t+c,m=d.widest.width;let f,g;return a==="left"?l?(g=this.right+c,r==="near"?f="left":r==="center"?(f="center",g+=m/2):(f="right",g+=m)):(g=this.right-h,r==="near"?f="right":r==="center"?(f="center",g-=m/2):(f="left",g=this.left)):a==="right"?l?(g=this.left+c,r==="near"?f="right":r==="center"?(f="center",g-=m/2):(f="left",g-=m)):(g=this.left+h,r==="near"?f="left":r==="center"?(f="center",g+=m/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:a},left:r,top:l,width:c,height:d}=this;a&&(t.save(),t.fillStyle=a,t.fillRect(r,l,c,d),t.restore())}getLineWidthForValue(t){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const l=this.ticks.findIndex(c=>c.value===t);return l>=0?a.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const a=this.options.grid,r=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let c,d;const h=(m,f,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(m.x,m.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(a.display)for(c=0,d=l.length;c<d;++c){const m=l[c];a.drawOnChartArea&&h({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),a.drawTicks&&h({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:a,options:{border:r,grid:l}}=this,c=r.setContext(this.getContext()),d=r.display?c.width:0;if(!d)return;const h=l.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let f,g,b,w;this.isHorizontal()?(f=di(t,this.left,d)-d/2,g=di(t,this.right,h)+h/2,b=w=m):(b=di(t,this.top,d)-d/2,w=di(t,this.bottom,h)+h/2,f=g=m),a.save(),a.lineWidth=c.width,a.strokeStyle=c.color,a.beginPath(),a.moveTo(f,b),a.lineTo(g,w),a.stroke(),a.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,l=this._computeLabelArea();l&&dd(r,l);const c=this.getLabelItems(t);for(const d of c){const h=d.options,m=d.font,f=d.label,g=d.textOffset;$l(r,f,0,g,m,h)}l&&ud(r)}drawTitle(){const{ctx:t,options:{position:a,title:r,reverse:l}}=this;if(!r.display)return;const c=ns(r.font),d=Ys(r.padding),h=r.align;let m=c.lineHeight/2;a==="bottom"||a==="center"||qe(a)?(m+=d.bottom,Ot(r.text)&&(m+=c.lineHeight*(r.text.length-1))):m+=d.top;const{titleX:f,titleY:g,maxWidth:b,rotation:w}=Hk(this,m,a,h);$l(t,r.text,0,0,c,{color:r.color,maxWidth:b,rotation:w,textAlign:Ik(h,a,l),textBaseline:"middle",translation:[f,g]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,a=t.ticks&&t.ticks.z||0,r=ze(t.grid&&t.grid.z,-1),l=ze(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Sr.prototype.draw?[{z:a,draw:c=>{this.draw(c)}}]:[{z:r,draw:c=>{this.drawBackground(),this.drawGrid(c),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:a,draw:c=>{this.drawLabels(c)}}]}getMatchingVisibleMetas(t){const a=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",l=[];let c,d;for(c=0,d=a.length;c<d;++c){const h=a[c];h[r]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const a=this.options.ticks.setContext(this.getContext(t));return ns(a.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class _c{constructor(t,a,r){this.type=t,this.scope=a,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const a=Object.getPrototypeOf(t);let r;Vk(a)&&(r=this.register(a));const l=this.items,c=t.id,d=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+t);return c in l||(l[c]=t,Uk(t,d,r),this.override&&At.override(t.id,t.overrides)),d}get(t){return this.items[t]}unregister(t){const a=this.items,r=t.id,l=this.scope;r in a&&delete a[r],l&&r in At[l]&&(delete At[l][r],this.override&&delete yi[r])}}function Uk(n,t,a){const r=Ul(Object.create(null),[a?At.get(a):{},At.get(t),n.defaults]);At.set(t,r),n.defaultRoutes&&Fk(t,n.defaultRoutes),n.descriptors&&At.describe(t,n.descriptors)}function Fk(n,t){Object.keys(t).forEach(a=>{const r=a.split("."),l=r.pop(),c=[n].concat(r).join("."),d=t[a].split("."),h=d.pop(),m=d.join(".");At.route(c,l,m,h)})}function Vk(n){return"id"in n&&"defaults"in n}class Wk{constructor(){this.controllers=new _c(Da,"datasets",!0),this.elements=new _c(Yn,"elements"),this.plugins=new _c(Object,"plugins"),this.scales=new _c(Sr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,a,r){[...a].forEach(l=>{const c=r||this._getRegistryForType(l);r||c.isForType(l)||c===this.plugins&&l.id?this._exec(t,c,l):lt(l,d=>{const h=r||this._getRegistryForType(d);this._exec(t,h,d)})})}_exec(t,a,r){const l=N0(t);gt(r["before"+l],[],r),a[t](r),gt(r["after"+l],[],r)}_getRegistryForType(t){for(let a=0;a<this._typedRegistries.length;a++){const r=this._typedRegistries[a];if(r.isForType(t))return r}return this.plugins}_get(t,a,r){const l=a.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return l}}var pn=new Wk;class $k{constructor(){this._init=void 0}notify(t,a,r,l){if(a==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const c=l?this._descriptors(t).filter(l):this._descriptors(t),d=this._notify(c,t,a,r);return a==="afterDestroy"&&(this._notify(c,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),d}_notify(t,a,r,l){l=l||{};for(const c of t){const d=c.plugin,h=d[r],m=[a,l,c.options];if(gt(h,m,d)===!1&&l.cancelable)return!1}return!0}invalidate(){st(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),a}_createDescriptors(t,a){const r=t&&t.config,l=ze(r.options&&r.options.plugins,{}),c=qk(r);return l===!1&&!a?[]:Qk(t,c,l,a)}_notifyStateChanges(t){const a=this._oldCache||[],r=this._cache,l=(c,d)=>c.filter(h=>!d.some(m=>h.plugin.id===m.plugin.id));this._notify(l(a,r),t,"stop"),this._notify(l(r,a),t,"start")}}function qk(n){const t={},a=[],r=Object.keys(pn.plugins.items);for(let c=0;c<r.length;c++)a.push(pn.getPlugin(r[c]));const l=n.plugins||[];for(let c=0;c<l.length;c++){const d=l[c];a.indexOf(d)===-1&&(a.push(d),t[d.id]=!0)}return{plugins:a,localIds:t}}function Yk(n,t){return!t&&n===!1?null:n===!0?{}:n}function Qk(n,{plugins:t,localIds:a},r,l){const c=[],d=n.getContext();for(const h of t){const m=h.id,f=Yk(r[m],l);f!==null&&c.push({plugin:h,options:Xk(n.config,{plugin:h,local:a[m]},f,d)})}return c}function Xk(n,{plugin:t,local:a},r,l){const c=n.pluginScopeKeys(t),d=n.getOptionScopes(r,c);return a&&t.defaults&&d.push(t.defaults),n.createResolver(d,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function a0(n,t){const a=At.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||a.indexAxis||"x"}function Gk(n,t){let a=n;return n==="_index_"?a=t:n==="_value_"&&(a=t==="x"?"y":"x"),a}function Kk(n,t){return n===t?"_index_":"_value_"}function Rp(n){if(n==="x"||n==="y"||n==="r")return n}function Zk(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function i0(n,...t){if(Rp(n))return n;for(const a of t){const r=a.axis||Zk(a.position)||n.length>1&&Rp(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Tp(n,t,a){if(a[t+"AxisID"]===n)return{axis:t}}function Jk(n,t){if(t.data&&t.data.datasets){const a=t.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(a.length)return Tp(n,"x",a[0])||Tp(n,"y",a[0])}return{}}function e3(n,t){const a=yi[n.type]||{scales:{}},r=t.scales||{},l=a0(n.type,t),c=Object.create(null);return Object.keys(r).forEach(d=>{const h=r[d];if(!qe(h))return console.error(`Invalid scale configuration for scale: ${d}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${d}`);const m=i0(d,h,Jk(d,n),At.scales[h.type]),f=Kk(m,l),g=a.scales||{};c[d]=Ol(Object.create(null),[{axis:m},h,g[m],g[f]])}),n.data.datasets.forEach(d=>{const h=d.type||n.type,m=d.indexAxis||a0(h,t),g=(yi[h]||{}).scales||{};Object.keys(g).forEach(b=>{const w=Gk(b,m),y=d[w+"AxisID"]||w;c[y]=c[y]||Object.create(null),Ol(c[y],[{axis:w},r[y],g[b]])})}),Object.keys(c).forEach(d=>{const h=c[d];Ol(h,[At.scales[h.type],At.scale])}),c}function F2(n){const t=n.options||(n.options={});t.plugins=ze(t.plugins,{}),t.scales=e3(n,t)}function V2(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function t3(n){return n=n||{},n.data=V2(n.data),F2(n),n}const Op=new Map,W2=new Set;function Ec(n,t){let a=Op.get(n);return a||(a=t(),Op.set(n,a),W2.add(a)),a}const _l=(n,t,a)=>{const r=La(t,a);r!==void 0&&n.add(r)};class s3{constructor(t){this._config=t3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=V2(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),F2(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ec(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,a){return Ec(`${t}.transition.${a}`,()=>[[`datasets.${t}.transitions.${a}`,`transitions.${a}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,a){return Ec(`${t}-${a}`,()=>[[`datasets.${t}.elements.${a}`,`datasets.${t}`,`elements.${a}`,""]])}pluginScopeKeys(t){const a=t.id,r=this.type;return Ec(`${r}-plugin-${a}`,()=>[[`plugins.${a}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,a){const r=this._scopeCache;let l=r.get(t);return(!l||a)&&(l=new Map,r.set(t,l)),l}getOptionScopes(t,a,r){const{options:l,type:c}=this,d=this._cachedScopes(t,r),h=d.get(a);if(h)return h;const m=new Set;a.forEach(g=>{t&&(m.add(t),g.forEach(b=>_l(m,t,b))),g.forEach(b=>_l(m,l,b)),g.forEach(b=>_l(m,yi[c]||{},b)),g.forEach(b=>_l(m,At,b)),g.forEach(b=>_l(m,s0,b))});const f=Array.from(m);return f.length===0&&f.push(Object.create(null)),W2.has(a)&&d.set(a,f),f}chartOptionScopes(){const{options:t,type:a}=this;return[t,yi[a]||{},At.datasets[a]||{},{type:a},At,s0]}resolveNamedOptions(t,a,r,l=[""]){const c={$shared:!0},{resolver:d,subPrefixes:h}=zp(this._resolverCache,t,l);let m=d;if(a3(d,a)){c.$shared=!1,r=Aa(r)?r():r;const f=this.createResolver(t,r,h);m=br(d,r,f)}for(const f of a)c[f]=m[f];return c}createResolver(t,a,r=[""],l){const{resolver:c}=zp(this._resolverCache,t,r);return qe(a)?br(c,a,void 0,l):c}}function zp(n,t,a){let r=n.get(t);r||(r=new Map,n.set(t,r));const l=a.join();let c=r.get(l);return c||(c={resolver:L0(t,a),subPrefixes:a.filter(h=>!h.toLowerCase().includes("hover"))},r.set(l,c)),c}const n3=n=>qe(n)&&Object.getOwnPropertyNames(n).some(t=>Aa(n[t]));function a3(n,t){const{isScriptable:a,isIndexable:r}=j2(n);for(const l of t){const c=a(l),d=r(l),h=(d||c)&&n[l];if(c&&(Aa(h)||n3(h))||d&&Ot(h))return!0}return!1}var i3="4.5.1";const r3=["top","bottom","left","right","chartArea"];function Bp(n,t){return n==="top"||n==="bottom"||r3.indexOf(n)===-1&&t==="x"}function Pp(n,t){return function(a,r){return a[n]===r[n]?a[t]-r[t]:a[n]-r[n]}}function Ip(n){const t=n.chart,a=t.options.animation;t.notifyPlugins("afterRender"),gt(a&&a.onComplete,[n],t)}function l3(n){const t=n.chart,a=t.options.animation;gt(a&&a.onProgress,[n],t)}function $2(n){return _0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wc={},Hp=n=>{const t=$2(n);return Object.values(Wc).filter(a=>a.canvas===t).pop()};function o3(n,t,a){const r=Object.keys(n);for(const l of r){const c=+l;if(c>=t){const d=n[l];delete n[l],(a>0||c>t)&&(n[c+a]=d)}}}function c3(n,t,a,r){return!a||n.type==="mouseout"?null:r?t:n}let nn=class{static defaults=At;static instances=Wc;static overrides=yi;static registry=pn;static version=i3;static getChart=Hp;static register(...t){pn.add(...t),Up()}static unregister(...t){pn.remove(...t),Up()}constructor(t,a){const r=this.config=new s3(a),l=$2(t),c=Hp(l);if(c)throw new Error("Canvas is already in use. Chart with ID '"+c.id+"' must be destroyed before the canvas with ID '"+c.canvas.id+"' can be reused.");const d=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Mk(l)),this.platform.updateConfig(r);const h=this.platform.acquireContext(l,d.aspectRatio),m=h&&h.canvas,f=m&&m.height,g=m&&m.width;if(this.id=sN(),this.ctx=h,this.canvas=m,this.width=g,this.height=f,this._options=d,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $k,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=jN(b=>this.update(b),d.resizeDelay||0),this._dataChanges=[],Wc[this.id]=this,!h||!m){console.error("Failed to create chart: can't acquire context from the given item");return}Un.listen(this,"complete",Ip),Un.listen(this,"progress",l3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:a},width:r,height:l,_aspectRatio:c}=this;return st(t)?a&&c?c:l?r/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return pn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rp(this.canvas,this.ctx),this}stop(){return Un.stop(this),this}resize(t,a){Un.running(this)?this._resizeBeforeDraw={width:t,height:a}:this._resize(t,a)}_resize(t,a){const r=this.options,l=this.canvas,c=r.maintainAspectRatio&&this.aspectRatio,d=this.platform.getMaximumSize(l,t,a,c),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=d.width,this.height=d.height,this._aspectRatio=this.aspectRatio,cp(this,h,!0)&&(this.notifyPlugins("resize",{size:d}),gt(r.onResize,[this,d],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};lt(a,(r,l)=>{r.id=l})}buildOrUpdateScales(){const t=this.options,a=t.scales,r=this.scales,l=Object.keys(r).reduce((d,h)=>(d[h]=!1,d),{});let c=[];a&&(c=c.concat(Object.keys(a).map(d=>{const h=a[d],m=i0(d,h),f=m==="r",g=m==="x";return{options:h,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),lt(c,d=>{const h=d.options,m=h.id,f=i0(m,h),g=ze(h.type,d.dtype);(h.position===void 0||Bp(h.position,f)!==Bp(d.dposition))&&(h.position=d.dposition),l[m]=!0;let b=null;if(m in r&&r[m].type===g)b=r[m];else{const w=pn.getScale(g);b=new w({id:m,type:g,ctx:this.ctx,chart:this}),r[b.id]=b}b.init(h,t)}),lt(l,(d,h)=>{d||delete r[h]}),lt(r,d=>{qs.configure(this,d,d.options),qs.addBox(this,d)})}_updateMetasets(){const t=this._metasets,a=this.data.datasets.length,r=t.length;if(t.sort((l,c)=>l.index-c.index),r>a){for(let l=a;l<r;++l)this._destroyDatasetMeta(l);t.splice(a,r-a)}this._sortedMetasets=t.slice(0).sort(Pp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:a}}=this;t.length>a.length&&delete this._stacks,t.forEach((r,l)=>{a.filter(c=>c===r._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],a=this.data.datasets;let r,l;for(this._removeUnreferencedMetasets(),r=0,l=a.length;r<l;r++){const c=a[r];let d=this.getDatasetMeta(r);const h=c.type||this.config.type;if(d.type&&d.type!==h&&(this._destroyDatasetMeta(r),d=this.getDatasetMeta(r)),d.type=h,d.indexAxis=c.indexAxis||a0(h,this.options),d.order=c.order||0,d.index=r,d.label=""+c.label,d.visible=this.isDatasetVisible(r),d.controller)d.controller.updateIndex(r),d.controller.linkScales();else{const m=pn.getController(h),{datasetElementType:f,dataElementType:g}=At.datasets[h];Object.assign(m,{dataElementType:pn.getElement(g),datasetElementType:f&&pn.getElement(f)}),d.controller=new m(this,r),t.push(d.controller)}}return this._updateMetasets(),t}_resetElements(){lt(this.data.datasets,(t,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const a=this.config;a.update();const r=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const c=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let d=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:b}=this.getDatasetMeta(f),w=!l&&c.indexOf(b)===-1;b.buildOrUpdateElements(w),d=Math.max(+b.getMaxOverflow(),d)}d=this._minPadding=r.layout.autoPadding?d:0,this._updateLayout(d),l||lt(c,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pp("z","_idx"));const{_active:h,_lastEvent:m}=this;m?this._eventHandler(m,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){lt(this.scales,t=>{qs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,a=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!Gg(a,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,a=this._getUniformDataChanges()||[];for(const{method:r,start:l,count:c}of a){const d=r==="_removeElements"?-c:c;o3(t,l,d)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const a=this.data.datasets.length,r=c=>new Set(t.filter(d=>d[0]===c).map((d,h)=>h+","+d.splice(1).join(","))),l=r(0);for(let c=1;c<a;c++)if(!Gg(l,r(c)))return;return Array.from(l).map(c=>c.split(",")).map(c=>({method:c[1],start:+c[2],count:+c[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qs.update(this,this.width,this.height,t);const a=this.chartArea,r=a.width<=0||a.height<=0;this._layers=[],lt(this.boxes,l=>{r&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,c)=>{l._idx=c}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let a=0,r=this.data.datasets.length;a<r;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,r=this.data.datasets.length;a<r;++a)this._updateDataset(a,Aa(t)?t({datasetIndex:a}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,a){const r=this.getDatasetMeta(t),l={meta:r,index:t,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(r.controller._update(a),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Un.has(this)?this.attached&&!Un.running(this)&&Un.start(this):(this.draw(),Ip({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(t=0;t<a.length&&a[t].z<=0;++t)a[t].draw(this.chartArea);for(this._drawDatasets();t<a.length;++t)a[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const a=this._sortedMetasets,r=[];let l,c;for(l=0,c=a.length;l<c;++l){const d=a[l];(!t||d.visible)&&r.push(d)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let a=t.length-1;a>=0;--a)this._drawDataset(t[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const a=this.ctx,r={meta:t,index:t.index,cancelable:!0},l=E2(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(l&&dd(a,l),t.controller.draw(),l&&ud(a),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Wl(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,a,r,l){const c=rk.modes[a];return typeof c=="function"?c(this,t,r,l):[]}getDatasetMeta(t){const a=this.data.datasets[t],r=this._metasets;let l=r.filter(c=>c&&c._dataset===a).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:t,_dataset:a,_parsed:[],_sorted:!1},r.push(l)),l}getContext(){return this.$context||(this.$context=Ni(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const a=this.data.datasets[t];if(!a)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!a.hidden}setDatasetVisibility(t,a){const r=this.getDatasetMeta(t);r.hidden=!a}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,a,r){const l=r?"show":"hide",c=this.getDatasetMeta(t),d=c.controller._resolveAnimations(void 0,l);Fl(a)?(c.data[a].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),d.update(c,{visible:r}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,a){this._updateVisibility(t,a,!1)}show(t,a){this._updateVisibility(t,a,!0)}_destroyDatasetMeta(t){const a=this._metasets[t];a&&a.controller&&a.controller._destroy(),delete this._metasets[t]}_stop(){let t,a;for(this.stop(),Un.remove(this),t=0,a=this.data.datasets.length;t<a;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:a}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rp(t,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete Wc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,a=this.platform,r=(c,d)=>{a.addEventListener(this,c,d),t[c]=d},l=(c,d,h)=>{c.offsetX=d,c.offsetY=h,this._eventHandler(c)};lt(this.options.events,c=>r(c,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,a=this.platform,r=(m,f)=>{a.addEventListener(this,m,f),t[m]=f},l=(m,f)=>{t[m]&&(a.removeEventListener(this,m,f),delete t[m])},c=(m,f)=>{this.canvas&&this.resize(m,f)};let d;const h=()=>{l("attach",h),this.attached=!0,this.resize(),r("resize",c),r("detach",d)};d=()=>{this.attached=!1,l("resize",c),this._stop(),this._resize(0,0),r("attach",h)},a.isAttached(this.canvas)?h():d()}unbindEvents(){lt(this._listeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._listeners={},lt(this._responsiveListeners,(t,a)=>{this.platform.removeEventListener(this,a,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,a,r){const l=r?"set":"remove";let c,d,h,m;for(a==="dataset"&&(c=this.getDatasetMeta(t[0].datasetIndex),c.controller["_"+l+"DatasetHoverStyle"]()),h=0,m=t.length;h<m;++h){d=t[h];const f=d&&this.getDatasetMeta(d.datasetIndex).controller;f&&f[l+"HoverStyle"](d.element,d.datasetIndex,d.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const a=this._active||[],r=t.map(({datasetIndex:c,index:d})=>{const h=this.getDatasetMeta(c);if(!h)throw new Error("No dataset found at index "+c);return{datasetIndex:c,element:h.data[d],index:d}});!Qc(r,a)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,a))}notifyPlugins(t,a,r){return this._plugins.notify(this,t,a,r)}isPluginEnabled(t){return this._plugins._cache.filter(a=>a.plugin.id===t).length===1}_updateHoverStyles(t,a,r){const l=this.options.hover,c=(m,f)=>m.filter(g=>!f.some(b=>g.datasetIndex===b.datasetIndex&&g.index===b.index)),d=c(a,t),h=r?t:c(t,a);d.length&&this.updateHoverStyle(d,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,a){const r={event:t,replay:a,cancelable:!0,inChartArea:this.isPointInArea(t)},l=d=>(d.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,l)===!1)return;const c=this._handleEvent(t,a,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,l),(c||r.changed)&&this.render(),this}_handleEvent(t,a,r){const{_active:l=[],options:c}=this,d=a,h=this._getActiveElements(t,l,r,d),m=oN(t),f=c3(t,this._lastEvent,r,m);r&&(this._lastEvent=null,gt(c.onHover,[t,h,this],this),m&&gt(c.onClick,[t,h,this],this));const g=!Qc(h,l);return(g||a)&&(this._active=h,this._updateHoverStyles(h,l,a)),this._lastEvent=f,g}_getActiveElements(t,a,r,l){if(t.type==="mouseout")return[];if(!r)return a;const c=this.options.hover;return this.getElementsAtEventForMode(t,c.mode,c,l)}};function Up(){return lt(nn.instances,n=>n._plugins.invalidate())}function d3(n,t,a){const{startAngle:r,x:l,y:c,outerRadius:d,innerRadius:h,options:m}=t,{borderWidth:f,borderJoinStyle:g}=m,b=Math.min(f/d,Rs(r-a));if(n.beginPath(),n.arc(l,c,d-f/2,r+b/2,a-b/2),h>0){const w=Math.min(f/h,Rs(r-a));n.arc(l,c,h+f/2,a-w/2,r+w/2,!0)}else{const w=Math.min(f/2,d*Rs(r-a));if(g==="round")n.arc(l,c,w,a-nt/2,r+nt/2,!0);else if(g==="bevel"){const y=2*w*w,v=-y*Math.cos(a+nt/2)+l,j=-y*Math.sin(a+nt/2)+c,N=y*Math.cos(r+nt/2)+l,M=y*Math.sin(r+nt/2)+c;n.lineTo(v,j),n.lineTo(N,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function u3(n,t,a){const{startAngle:r,pixelMargin:l,x:c,y:d,outerRadius:h,innerRadius:m}=t;let f=l/h;n.beginPath(),n.arc(c,d,h,r-f,a+f),m>l?(f=l/m,n.arc(c,d,m,a+f,r-f,!0)):n.arc(c,d,l,a+Pt,r-Pt),n.closePath(),n.clip()}function h3(n){return M0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function m3(n,t,a,r){const l=h3(n.options.borderRadius),c=(a-t)/2,d=Math.min(c,r*t/2),h=m=>{const f=(a-Math.min(c,m))*r/2;return ss(m,0,Math.min(c,f))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:ss(l.innerStart,0,d),innerEnd:ss(l.innerEnd,0,d)}}function ur(n,t,a,r){return{x:a+n*Math.cos(t),y:r+n*Math.sin(t)}}function ed(n,t,a,r,l,c){const{x:d,y:h,startAngle:m,pixelMargin:f,innerRadius:g}=t,b=Math.max(t.outerRadius+r+a-f,0),w=g>0?g+r+a+f:0;let y=0;const v=l-m;if(r){const G=g>0?g-r:0,P=b>0?b-r:0,X=(G+P)/2,T=X!==0?v*X/(X+r):v;y=(v-T)/2}const j=Math.max(.001,v*b-a/nt)/b,N=(v-j)/2,M=m+N+y,B=l-N-y,{outerStart:A,outerEnd:Y,innerStart:V,innerEnd:D}=m3(t,w,b,B-M),z=b-A,E=b-Y,F=M+A/z,se=B-Y/E,O=w+V,U=w+D,I=M+V/O,$=B-D/U;if(n.beginPath(),c){const G=(F+se)/2;if(n.arc(d,h,b,F,G),n.arc(d,h,b,G,se),Y>0){const W=ur(E,se,d,h);n.arc(W.x,W.y,Y,se,B+Pt)}const P=ur(U,B,d,h);if(n.lineTo(P.x,P.y),D>0){const W=ur(U,$,d,h);n.arc(W.x,W.y,D,B+Pt,$+Math.PI)}const X=(B-D/w+(M+V/w))/2;if(n.arc(d,h,w,B-D/w,X,!0),n.arc(d,h,w,X,M+V/w,!0),V>0){const W=ur(O,I,d,h);n.arc(W.x,W.y,V,I+Math.PI,M-Pt)}const T=ur(z,M,d,h);if(n.lineTo(T.x,T.y),A>0){const W=ur(z,F,d,h);n.arc(W.x,W.y,A,M-Pt,F)}}else{n.moveTo(d,h);const G=Math.cos(F)*b+d,P=Math.sin(F)*b+h;n.lineTo(G,P);const X=Math.cos(se)*b+d,T=Math.sin(se)*b+h;n.lineTo(X,T)}n.closePath()}function f3(n,t,a,r,l){const{fullCircles:c,startAngle:d,circumference:h}=t;let m=t.endAngle;if(c){ed(n,t,a,r,m,l);for(let f=0;f<c;++f)n.fill();isNaN(h)||(m=d+(h%jt||jt))}return ed(n,t,a,r,m,l),n.fill(),m}function x3(n,t,a,r,l){const{fullCircles:c,startAngle:d,circumference:h,options:m}=t,{borderWidth:f,borderJoinStyle:g,borderDash:b,borderDashOffset:w,borderRadius:y}=m,v=m.borderAlign==="inner";if(!f)return;n.setLineDash(b||[]),n.lineDashOffset=w,v?(n.lineWidth=f*2,n.lineJoin=g||"round"):(n.lineWidth=f,n.lineJoin=g||"bevel");let j=t.endAngle;if(c){ed(n,t,a,r,j,l);for(let N=0;N<c;++N)n.stroke();isNaN(h)||(j=d+(h%jt||jt))}v&&u3(n,t,j),m.selfJoin&&j-d>=nt&&y===0&&g!=="miter"&&d3(n,t,j),c||(ed(n,t,a,r,j,l),n.stroke())}class eo extends Yn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,a,r){const l=this.getProps(["x","y"],r),{angle:c,distance:d}=u2(l,{x:t,y:a}),{startAngle:h,endAngle:m,innerRadius:f,outerRadius:g,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),w=(this.options.spacing+this.options.borderWidth)/2,y=ze(b,m-h),v=Vl(c,h,m)&&h!==m,j=y>=jt||v,N=Wn(d,f+w,g+w);return j&&N}getCenterPoint(t){const{x:a,y:r,startAngle:l,endAngle:c,innerRadius:d,outerRadius:h}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:m,spacing:f}=this.options,g=(l+c)/2,b=(d+h+f+m)/2;return{x:a+Math.cos(g)*b,y:r+Math.sin(g)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:a,circumference:r}=this,l=(a.offset||0)/4,c=(a.spacing||0)/2,d=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=r>jt?Math.floor(r/jt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const h=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(h)*l,Math.sin(h)*l);const m=1-Math.sin(Math.min(nt,r||0)),f=l*m;t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,f3(t,this,f,c,d),x3(t,this,f,c,d),t.restore()}}function q2(n,t,a=t){n.lineCap=ze(a.borderCapStyle,t.borderCapStyle),n.setLineDash(ze(a.borderDash,t.borderDash)),n.lineDashOffset=ze(a.borderDashOffset,t.borderDashOffset),n.lineJoin=ze(a.borderJoinStyle,t.borderJoinStyle),n.lineWidth=ze(a.borderWidth,t.borderWidth),n.strokeStyle=ze(a.borderColor,t.borderColor)}function g3(n,t,a){n.lineTo(a.x,a.y)}function p3(n){return n.stepped?RN:n.tension||n.cubicInterpolationMode==="monotone"?TN:g3}function Y2(n,t,a={}){const r=n.length,{start:l=0,end:c=r-1}=a,{start:d,end:h}=t,m=Math.max(l,d),f=Math.min(c,h),g=l<d&&c<d||l>h&&c>h;return{count:r,start:m,loop:t.loop,ilen:f<m&&!g?r+f-m:f-m}}function b3(n,t,a,r){const{points:l,options:c}=t,{count:d,start:h,loop:m,ilen:f}=Y2(l,a,r),g=p3(c);let{move:b=!0,reverse:w}=r||{},y,v,j;for(y=0;y<=f;++y)v=l[(h+(w?f-y:y))%d],!v.skip&&(b?(n.moveTo(v.x,v.y),b=!1):g(n,j,v,w,c.stepped),j=v);return m&&(v=l[(h+(w?f:0))%d],g(n,j,v,w,c.stepped)),!!m}function y3(n,t,a,r){const l=t.points,{count:c,start:d,ilen:h}=Y2(l,a,r),{move:m=!0,reverse:f}=r||{};let g=0,b=0,w,y,v,j,N,M;const B=Y=>(d+(f?h-Y:Y))%c,A=()=>{j!==N&&(n.lineTo(g,N),n.lineTo(g,j),n.lineTo(g,M))};for(m&&(y=l[B(0)],n.moveTo(y.x,y.y)),w=0;w<=h;++w){if(y=l[B(w)],y.skip)continue;const Y=y.x,V=y.y,D=Y|0;D===v?(V<j?j=V:V>N&&(N=V),g=(b*g+Y)/++b):(A(),n.lineTo(Y,V),v=D,b=0,j=N=V),M=V}A()}function r0(n){const t=n.options,a=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!a?y3:b3}function v3(n){return n.stepped?h5:n.tension||n.cubicInterpolationMode==="monotone"?m5:mi}function j3(n,t,a,r){let l=t._path;l||(l=t._path=new Path2D,t.path(l,a,r)&&l.closePath()),q2(n,t.options),n.stroke(l)}function w3(n,t,a,r){const{segments:l,options:c}=t,d=r0(t);for(const h of l)q2(n,c,h.style),n.beginPath(),d(n,t,h,{start:a,end:a+r-1})&&n.closePath(),n.stroke()}const N3=typeof Path2D=="function";function k3(n,t,a,r){N3&&!t.options.segment?j3(n,t,a,r):w3(n,t,a,r)}class an extends Yn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,a){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const l=r.spanGaps?this._loop:this._fullLoop;a5(this._points,r,t,l,a),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=y5(this,this.options.segment))}first(){const t=this.segments,a=this.points;return t.length&&a[t[0].start]}last(){const t=this.segments,a=this.points,r=t.length;return r&&a[t[r-1].end]}interpolate(t,a){const r=this.options,l=t[a],c=this.points,d=_2(this,{property:a,start:l,end:l});if(!d.length)return;const h=[],m=v3(r);let f,g;for(f=0,g=d.length;f<g;++f){const{start:b,end:w}=d[f],y=c[b],v=c[w];if(y===v){h.push(y);continue}const j=Math.abs((l-y[a])/(v[a]-y[a])),N=m(y,v,j,r.stepped);N[a]=t[a],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,a,r){return r0(this)(t,this,a,r)}path(t,a,r){const l=this.segments,c=r0(this);let d=this._loop;a=a||0,r=r||this.points.length-a;for(const h of l)d&=c(t,this,h,{start:a,end:a+r-1});return!!d}draw(t,a,r,l){const c=this.options||{};(this.points||[]).length&&c.borderWidth&&(t.save(),k3(t,this,r,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Fp(n,t,a,r){const l=n.options,{[a]:c}=n.getProps([a],r);return Math.abs(t-c)<l.radius+l.hitRadius}class _a extends Yn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,a,r){const l=this.options,{x:c,y:d}=this.getProps(["x","y"],r);return Math.pow(t-c,2)+Math.pow(a-d,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,a){return Fp(this,t,"x",a)}inYRange(t,a){return Fp(this,t,"y",a)}getCenterPoint(t){const{x:a,y:r}=this.getProps(["x","y"],t);return{x:a,y:r}}size(t){t=t||this.options||{};let a=t.radius||0;a=Math.max(a,a&&t.hoverRadius||0);const r=a&&t.borderWidth||0;return(a+r)*2}draw(t,a){const r=this.options;this.skip||r.radius<.1||!Wl(this,a,this.size(r)/2)||(t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.fillStyle=r.backgroundColor,n0(t,r,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Q2(n,t){const{x:a,y:r,base:l,width:c,height:d}=n.getProps(["x","y","base","width","height"],t);let h,m,f,g,b;return n.horizontal?(b=d/2,h=Math.min(a,l),m=Math.max(a,l),f=r-b,g=r+b):(b=c/2,h=a-b,m=a+b,f=Math.min(r,l),g=Math.max(r,l)),{left:h,top:f,right:m,bottom:g}}function Ca(n,t,a,r){return n?0:ss(t,a,r)}function S3(n,t,a){const r=n.options.borderWidth,l=n.borderSkipped,c=v2(r);return{t:Ca(l.top,c.top,0,a),r:Ca(l.right,c.right,0,t),b:Ca(l.bottom,c.bottom,0,a),l:Ca(l.left,c.left,0,t)}}function C3(n,t,a){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),l=n.options.borderRadius,c=fr(l),d=Math.min(t,a),h=n.borderSkipped,m=r||qe(l);return{topLeft:Ca(!m||h.top||h.left,c.topLeft,0,d),topRight:Ca(!m||h.top||h.right,c.topRight,0,d),bottomLeft:Ca(!m||h.bottom||h.left,c.bottomLeft,0,d),bottomRight:Ca(!m||h.bottom||h.right,c.bottomRight,0,d)}}function M3(n){const t=Q2(n),a=t.right-t.left,r=t.bottom-t.top,l=S3(n,a/2,r/2),c=C3(n,a/2,r/2);return{outer:{x:t.left,y:t.top,w:a,h:r,radius:c},inner:{x:t.left+l.l,y:t.top+l.t,w:a-l.l-l.r,h:r-l.t-l.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,c.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(l.b,l.r))}}}}function Uh(n,t,a,r){const l=t===null,c=a===null,h=n&&!(l&&c)&&Q2(n,r);return h&&(l||Wn(t,h.left,h.right))&&(c||Wn(a,h.top,h.bottom))}function L3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function A3(n,t){n.rect(t.x,t.y,t.w,t.h)}function Fh(n,t,a={}){const r=n.x!==a.x?-t:0,l=n.y!==a.y?-t:0,c=(n.x+n.w!==a.x+a.w?t:0)-r,d=(n.y+n.h!==a.y+a.h?t:0)-l;return{x:n.x+r,y:n.y+l,w:n.w+c,h:n.h+d,radius:n.radius}}class Ea extends Yn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:a,options:{borderColor:r,backgroundColor:l}}=this,{inner:c,outer:d}=M3(this),h=L3(d.radius)?Kc:A3;t.save(),(d.w!==c.w||d.h!==c.h)&&(t.beginPath(),h(t,Fh(d,a,c)),t.clip(),h(t,Fh(c,-a,d)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),h(t,Fh(c,a)),t.fillStyle=l,t.fill(),t.restore()}inRange(t,a,r){return Uh(this,t,a,r)}inXRange(t,a){return Uh(this,t,null,a)}inYRange(t,a){return Uh(this,null,t,a)}getCenterPoint(t){const{x:a,y:r,base:l,horizontal:c}=this.getProps(["x","y","base","horizontal"],t);return{x:c?(a+l)/2:a,y:c?r:(r+l)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}function D3(n,t,a){const r=n.segments,l=n.points,c=t.points,d=[];for(const h of r){let{start:m,end:f}=h;f=fd(m,f,l);const g=l0(a,l[m],l[f],h.loop);if(!t.segments){d.push({source:h,target:g,start:l[m],end:l[f]});continue}const b=_2(t,g);for(const w of b){const y=l0(a,c[w.start],c[w.end],w.loop),v=D2(h,l,y);for(const j of v)d.push({source:j,target:w,start:{[a]:Vp(g,y,"start",Math.max)},end:{[a]:Vp(g,y,"end",Math.min)}})}}return d}function l0(n,t,a,r){if(r)return;let l=t[n],c=a[n];return n==="angle"&&(l=Rs(l),c=Rs(c)),{property:n,start:l,end:c}}function _3(n,t){const{x:a=null,y:r=null}=n||{},l=t.points,c=[];return t.segments.forEach(({start:d,end:h})=>{h=fd(d,h,l);const m=l[d],f=l[h];r!==null?(c.push({x:m.x,y:r}),c.push({x:f.x,y:r})):a!==null&&(c.push({x:a,y:m.y}),c.push({x:a,y:f.y}))}),c}function fd(n,t,a){for(;t>n;t--){const r=a[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function Vp(n,t,a,r){return n&&t?r(n[a],t[a]):n?n[a]:t?t[a]:0}function X2(n,t){let a=[],r=!1;return Ot(n)?(r=!0,a=n):a=_3(n,t),a.length?new an({points:a,options:{tension:0},_loop:r,_fullLoop:r}):null}function Wp(n){return n&&n.fill!==!1}function E3(n,t,a){let l=n[t].fill;const c=[t];let d;if(!a)return l;for(;l!==!1&&c.indexOf(l)===-1;){if(!as(l))return l;if(d=n[l],!d)return!1;if(d.visible)return l;c.push(l),l=d.fill}return!1}function R3(n,t,a){const r=B3(n);if(qe(r))return isNaN(r.value)?!1:r;let l=parseFloat(r);return as(l)&&Math.floor(l)===l?T3(r[0],t,l,a):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function T3(n,t,a,r){return(n==="-"||n==="+")&&(a=t+a),a===t||a<0||a>=r?!1:a}function O3(n,t){let a=null;return n==="start"?a=t.bottom:n==="end"?a=t.top:qe(n)?a=t.getPixelForValue(n.value):t.getBasePixel&&(a=t.getBasePixel()),a}function z3(n,t,a){let r;return n==="start"?r=a:n==="end"?r=t.options.reverse?t.min:t.max:qe(n)?r=n.value:r=t.getBaseValue(),r}function B3(n){const t=n.options,a=t.fill;let r=ze(a&&a.target,a);return r===void 0&&(r=!!t.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function P3(n){const{scale:t,index:a,line:r}=n,l=[],c=r.segments,d=r.points,h=I3(t,a);h.push(X2({x:null,y:t.bottom},r));for(let m=0;m<c.length;m++){const f=c[m];for(let g=f.start;g<=f.end;g++)H3(l,d[g],h)}return new an({points:l,options:{}})}function I3(n,t){const a=[],r=n.getMatchingVisibleMetas("line");for(let l=0;l<r.length;l++){const c=r[l];if(c.index===t)break;c.hidden||a.unshift(c.dataset)}return a}function H3(n,t,a){const r=[];for(let l=0;l<a.length;l++){const c=a[l],{first:d,last:h,point:m}=U3(c,t,"x");if(!(!m||d&&h)){if(d)r.unshift(m);else if(n.push(m),!h)break}}n.push(...r)}function U3(n,t,a){const r=n.interpolate(t,a);if(!r)return{};const l=r[a],c=n.segments,d=n.points;let h=!1,m=!1;for(let f=0;f<c.length;f++){const g=c[f],b=d[g.start][a],w=d[g.end][a];if(Wn(l,b,w)){h=l===b,m=l===w;break}}return{first:h,last:m,point:r}}class G2{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,a,r){const{x:l,y:c,radius:d}=this;return a=a||{start:0,end:jt},t.arc(l,c,d,a.end,a.start,!0),!r.bounds}interpolate(t){const{x:a,y:r,radius:l}=this,c=t.angle;return{x:a+Math.cos(c)*l,y:r+Math.sin(c)*l,angle:c}}}function F3(n){const{chart:t,fill:a,line:r}=n;if(as(a))return V3(t,a);if(a==="stack")return P3(n);if(a==="shape")return!0;const l=W3(n);return l instanceof G2?l:X2(l,r)}function V3(n,t){const a=n.getDatasetMeta(t);return a&&n.isDatasetVisible(t)?a.dataset:null}function W3(n){return(n.scale||{}).getPointPositionForValue?q3(n):$3(n)}function $3(n){const{scale:t={},fill:a}=n,r=O3(a,t);if(as(r)){const l=t.isHorizontal();return{x:l?r:null,y:l?null:r}}return null}function q3(n){const{scale:t,fill:a}=n,r=t.options,l=t.getLabels().length,c=r.reverse?t.max:t.min,d=z3(a,t,c),h=[];if(r.grid.circular){const m=t.getPointPositionForValue(0,c);return new G2({x:m.x,y:m.y,radius:t.getDistanceFromCenterForValue(d)})}for(let m=0;m<l;++m)h.push(t.getPointPositionForValue(m,d));return h}function Vh(n,t,a){const r=F3(t),{chart:l,index:c,line:d,scale:h,axis:m}=t,f=d.options,g=f.fill,b=f.backgroundColor,{above:w=b,below:y=b}=g||{},v=l.getDatasetMeta(c),j=E2(l,v);r&&d.points.length&&(dd(n,a),Y3(n,{line:d,target:r,above:w,below:y,area:a,scale:h,axis:m,clip:j}),ud(n))}function Y3(n,t){const{line:a,target:r,above:l,below:c,area:d,scale:h,clip:m}=t,f=a._loop?"angle":t.axis;n.save();let g=c;c!==l&&(f==="x"?($p(n,r,d.top),Wh(n,{line:a,target:r,color:l,scale:h,property:f,clip:m}),n.restore(),n.save(),$p(n,r,d.bottom)):f==="y"&&(qp(n,r,d.left),Wh(n,{line:a,target:r,color:c,scale:h,property:f,clip:m}),n.restore(),n.save(),qp(n,r,d.right),g=l)),Wh(n,{line:a,target:r,color:g,scale:h,property:f,clip:m}),n.restore()}function $p(n,t,a){const{segments:r,points:l}=t;let c=!0,d=!1;n.beginPath();for(const h of r){const{start:m,end:f}=h,g=l[m],b=l[fd(m,f,l)];c?(n.moveTo(g.x,g.y),c=!1):(n.lineTo(g.x,a),n.lineTo(g.x,g.y)),d=!!t.pathSegment(n,h,{move:d}),d?n.closePath():n.lineTo(b.x,a)}n.lineTo(t.first().x,a),n.closePath(),n.clip()}function qp(n,t,a){const{segments:r,points:l}=t;let c=!0,d=!1;n.beginPath();for(const h of r){const{start:m,end:f}=h,g=l[m],b=l[fd(m,f,l)];c?(n.moveTo(g.x,g.y),c=!1):(n.lineTo(a,g.y),n.lineTo(g.x,g.y)),d=!!t.pathSegment(n,h,{move:d}),d?n.closePath():n.lineTo(a,b.y)}n.lineTo(a,t.first().y),n.closePath(),n.clip()}function Wh(n,t){const{line:a,target:r,property:l,color:c,scale:d,clip:h}=t,m=D3(a,r,l);for(const{source:f,target:g,start:b,end:w}of m){const{style:{backgroundColor:y=c}={}}=f,v=r!==!0;n.save(),n.fillStyle=y,Q3(n,d,h,v&&l0(l,b,w)),n.beginPath();const j=!!a.pathSegment(n,f);let N;if(v){j?n.closePath():Yp(n,r,w,l);const M=!!r.pathSegment(n,g,{move:j,reverse:!0});N=j&&M,N||Yp(n,r,b,l)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function Q3(n,t,a,r){const l=t.chart.chartArea,{property:c,start:d,end:h}=r||{};if(c==="x"||c==="y"){let m,f,g,b;c==="x"?(m=d,f=l.top,g=h,b=l.bottom):(m=l.left,f=d,g=l.right,b=h),n.beginPath(),a&&(m=Math.max(m,a.left),g=Math.min(g,a.right),f=Math.max(f,a.top),b=Math.min(b,a.bottom)),n.rect(m,f,g-m,b-f),n.clip()}}function Yp(n,t,a,r){const l=t.interpolate(a,r);l&&n.lineTo(l.x,l.y)}var T0={id:"filler",afterDatasetsUpdate(n,t,a){const r=(n.data.datasets||[]).length,l=[];let c,d,h,m;for(d=0;d<r;++d)c=n.getDatasetMeta(d),h=c.dataset,m=null,h&&h.options&&h instanceof an&&(m={visible:n.isDatasetVisible(d),index:d,fill:R3(h,d,r),chart:n,axis:c.controller.options.indexAxis,scale:c.vScale,line:h}),c.$filler=m,l.push(m);for(d=0;d<r;++d)m=l[d],!(!m||m.fill===!1)&&(m.fill=E3(l,d,a.propagate))},beforeDraw(n,t,a){const r=a.drawTime==="beforeDraw",l=n.getSortedVisibleDatasetMetas(),c=n.chartArea;for(let d=l.length-1;d>=0;--d){const h=l[d].$filler;h&&(h.line.updateControlPoints(c,h.axis),r&&h.fill&&Vh(n.ctx,h,c))}},beforeDatasetsDraw(n,t,a){if(a.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let l=r.length-1;l>=0;--l){const c=r[l].$filler;Wp(c)&&Vh(n.ctx,c,n.chartArea)}},beforeDatasetDraw(n,t,a){const r=t.meta.$filler;!Wp(r)||a.drawTime!=="beforeDatasetDraw"||Vh(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Qp=(n,t)=>{let{boxHeight:a=t,boxWidth:r=t}=n;return n.usePointStyle&&(a=Math.min(a,t),r=n.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:a,itemHeight:Math.max(t,a)}},X3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Xp extends Yn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a,r){this.maxWidth=t,this.maxHeight=a,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let a=gt(t.generateLabels,[this.chart],this)||[];t.filter&&(a=a.filter(r=>t.filter(r,this.chart.data))),t.sort&&(a=a.sort((r,l)=>t.sort(r,l,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:t,ctx:a}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,l=ns(r.font),c=l.size,d=this._computeTitleHeight(),{boxWidth:h,itemHeight:m}=Qp(r,c);let f,g;a.font=l.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(d,c,h,m)+10):(g=this.maxHeight,f=this._fitCols(d,l,h,m)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(g,t.maxHeight||this.maxHeight)}_fitRows(t,a,r,l){const{ctx:c,maxWidth:d,options:{labels:{padding:h}}}=this,m=this.legendHitBoxes=[],f=this.lineWidths=[0],g=l+h;let b=t;c.textAlign="left",c.textBaseline="middle";let w=-1,y=-g;return this.legendItems.forEach((v,j)=>{const N=r+a/2+c.measureText(v.text).width;(j===0||f[f.length-1]+N+2*h>d)&&(b+=g,f[f.length-(j>0?0:1)]=0,y+=g,w++),m[j]={left:0,top:y,row:w,width:N,height:l},f[f.length-1]+=N+h}),b}_fitCols(t,a,r,l){const{ctx:c,maxHeight:d,options:{labels:{padding:h}}}=this,m=this.legendHitBoxes=[],f=this.columnSizes=[],g=d-t;let b=h,w=0,y=0,v=0,j=0;return this.legendItems.forEach((N,M)=>{const{itemWidth:B,itemHeight:A}=G3(r,a,c,N,l);M>0&&y+A+2*h>g&&(b+=w+h,f.push({width:w,height:y}),v+=w+h,j++,w=y=0),m[M]={left:v,top:y,col:j,width:B,height:A},w=Math.max(w,B),y+=A+h}),b+=w,f.push({width:w,height:y}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:r,labels:{padding:l},rtl:c}}=this,d=xr(c,this.left,this.width);if(this.isHorizontal()){let h=0,m=es(r,this.left+l,this.right-this.lineWidths[h]);for(const f of a)h!==f.row&&(h=f.row,m=es(r,this.left+l,this.right-this.lineWidths[h])),f.top+=this.top+t+l,f.left=d.leftForLtr(d.x(m),f.width),m+=f.width+l}else{let h=0,m=es(r,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const f of a)f.col!==h&&(h=f.col,m=es(r,this.top+t+l,this.bottom-this.columnSizes[h].height)),f.top=m,f.left+=this.left+l,f.left=d.leftForLtr(d.x(f.left),f.width),m+=f.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;dd(t,this),this._draw(),ud(t)}}_draw(){const{options:t,columnSizes:a,lineWidths:r,ctx:l}=this,{align:c,labels:d}=t,h=At.color,m=xr(t.rtl,this.left,this.width),f=ns(d.font),{padding:g}=d,b=f.size,w=b/2;let y;this.drawTitle(),l.textAlign=m.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=f.string;const{boxWidth:v,boxHeight:j,itemHeight:N}=Qp(d,b),M=function(D,z,E){if(isNaN(v)||v<=0||isNaN(j)||j<0)return;l.save();const F=ze(E.lineWidth,1);if(l.fillStyle=ze(E.fillStyle,h),l.lineCap=ze(E.lineCap,"butt"),l.lineDashOffset=ze(E.lineDashOffset,0),l.lineJoin=ze(E.lineJoin,"miter"),l.lineWidth=F,l.strokeStyle=ze(E.strokeStyle,h),l.setLineDash(ze(E.lineDash,[])),d.usePointStyle){const se={radius:j*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:F},O=m.xPlus(D,v/2),U=z+w;y2(l,se,O,U,d.pointStyleWidth&&v)}else{const se=z+Math.max((b-j)/2,0),O=m.leftForLtr(D,v),U=fr(E.borderRadius);l.beginPath(),Object.values(U).some(I=>I!==0)?Kc(l,{x:O,y:se,w:v,h:j,radius:U}):l.rect(O,se,v,j),l.fill(),F!==0&&l.stroke()}l.restore()},B=function(D,z,E){$l(l,E.text,D,z+N/2,f,{strikethrough:E.hidden,textAlign:m.textAlign(E.textAlign)})},A=this.isHorizontal(),Y=this._computeTitleHeight();A?y={x:es(c,this.left+g,this.right-r[0]),y:this.top+g+Y,line:0}:y={x:this.left+g,y:es(c,this.top+Y+g,this.bottom-a[0].height),line:0},M2(this.ctx,t.textDirection);const V=N+g;this.legendItems.forEach((D,z)=>{l.strokeStyle=D.fontColor,l.fillStyle=D.fontColor;const E=l.measureText(D.text).width,F=m.textAlign(D.textAlign||(D.textAlign=d.textAlign)),se=v+w+E;let O=y.x,U=y.y;m.setWidth(this.width),A?z>0&&O+se+g>this.right&&(U=y.y+=V,y.line++,O=y.x=es(c,this.left+g,this.right-r[y.line])):z>0&&U+V>this.bottom&&(O=y.x=O+a[y.line].width+g,y.line++,U=y.y=es(c,this.top+Y+g,this.bottom-a[y.line].height));const I=m.x(O);if(M(I,U,D),O=wN(F,O+v+w,A?O+se:this.right,t.rtl),B(m.x(O),U,D),A)y.x+=se+g;else if(typeof D.text!="string"){const $=f.lineHeight;y.y+=K2(D,$)+g}else y.y+=V}),L2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,a=t.title,r=ns(a.font),l=Ys(a.padding);if(!a.display)return;const c=xr(t.rtl,this.left,this.width),d=this.ctx,h=a.position,m=r.size/2,f=l.top+m;let g,b=this.left,w=this.width;if(this.isHorizontal())w=Math.max(...this.lineWidths),g=this.top+f,b=es(t.align,b,this.right-w);else{const v=this.columnSizes.reduce((j,N)=>Math.max(j,N.height),0);g=f+es(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const y=es(h,b,b+w);d.textAlign=c.textAlign(S0(h)),d.textBaseline="middle",d.strokeStyle=a.color,d.fillStyle=a.color,d.font=r.string,$l(d,a.text,y,g,r)}_computeTitleHeight(){const t=this.options.title,a=ns(t.font),r=Ys(t.padding);return t.display?a.lineHeight+r.height:0}_getLegendItemAt(t,a){let r,l,c;if(Wn(t,this.left,this.right)&&Wn(a,this.top,this.bottom)){for(c=this.legendHitBoxes,r=0;r<c.length;++r)if(l=c[r],Wn(t,l.left,l.left+l.width)&&Wn(a,l.top,l.top+l.height))return this.legendItems[r]}return null}handleEvent(t){const a=this.options;if(!J3(t.type,a))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,c=X3(l,r);l&&!c&&gt(a.onLeave,[t,l,this],this),this._hoveredItem=r,r&&!c&&gt(a.onHover,[t,r,this],this)}else r&&gt(a.onClick,[t,r,this],this)}}function G3(n,t,a,r,l){const c=K3(r,n,t,a),d=Z3(l,r,t.lineHeight);return{itemWidth:c,itemHeight:d}}function K3(n,t,a,r){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((c,d)=>c.length>d.length?c:d)),t+a.size/2+r.measureText(l).width}function Z3(n,t,a){let r=n;return typeof t.text!="string"&&(r=K2(t,a)),r}function K2(n,t){const a=n.text?n.text.length:0;return t*a}function J3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Ra={id:"legend",_element:Xp,start(n,t,a){const r=n.legend=new Xp({ctx:n.ctx,options:a,chart:n});qs.configure(n,r,a),qs.addBox(n,r)},stop(n){qs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,a){const r=n.legend;qs.configure(n,r,a),r.options=a},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,a){const r=t.datasetIndex,l=a.chart;l.isDatasetVisible(r)?(l.hide(r),t.hidden=!0):(l.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:a,pointStyle:r,textAlign:l,color:c,useBorderRadius:d,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(m=>{const f=m.controller.getStyle(a?0:void 0),g=Ys(f.borderWidth);return{text:t[m.index].label,fillStyle:f.backgroundColor,fontColor:c,hidden:!m.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:l||f.textAlign,borderRadius:d&&(h||f.borderRadius),datasetIndex:m.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Z2 extends Yn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,a){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=a;const l=Ot(r.text)?r.text.length:1;this._padding=Ys(r.padding);const c=l*ns(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=c:this.width=c}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:a,left:r,bottom:l,right:c,options:d}=this,h=d.align;let m=0,f,g,b;return this.isHorizontal()?(g=es(h,r,c),b=a+t,f=c-r):(d.position==="left"?(g=r+t,b=es(h,l,a),m=nt*-.5):(g=c-t,b=es(h,a,l),m=nt*.5),f=l-a),{titleX:g,titleY:b,maxWidth:f,rotation:m}}draw(){const t=this.ctx,a=this.options;if(!a.display)return;const r=ns(a.font),c=r.lineHeight/2+this._padding.top,{titleX:d,titleY:h,maxWidth:m,rotation:f}=this._drawArgs(c);$l(t,a.text,0,0,r,{color:a.color,maxWidth:m,rotation:f,textAlign:S0(a.align),textBaseline:"middle",translation:[d,h]})}}function e6(n,t){const a=new Z2({ctx:n.ctx,options:t,chart:n});qs.configure(n,a,t),qs.addBox(n,a),n.titleBlock=a}var Ta={id:"title",_element:Z2,start(n,t,a){e6(n,a)},stop(n){const t=n.titleBlock;qs.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,a){const r=n.titleBlock;qs.configure(n,r,a),r.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Tl={average(n){if(!n.length)return!1;let t,a,r=new Set,l=0,c=0;for(t=0,a=n.length;t<a;++t){const h=n[t].element;if(h&&h.hasValue()){const m=h.tooltipPosition();r.add(m.x),l+=m.y,++c}}return c===0||r.size===0?!1:{x:[...r].reduce((h,m)=>h+m)/r.size,y:l/c}},nearest(n,t){if(!n.length)return!1;let a=t.x,r=t.y,l=Number.POSITIVE_INFINITY,c,d,h;for(c=0,d=n.length;c<d;++c){const m=n[c].element;if(m&&m.hasValue()){const f=m.getCenterPoint(),g=t0(t,f);g<l&&(l=g,h=m)}}if(h){const m=h.tooltipPosition();a=m.x,r=m.y}return{x:a,y:r}}};function gn(n,t){return t&&(Ot(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Fn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function t6(n,t){const{element:a,datasetIndex:r,index:l}=t,c=n.getDatasetMeta(r).controller,{label:d,value:h}=c.getLabelAndValue(l);return{chart:n,label:d,parsed:c.getParsed(l),raw:n.data.datasets[r].data[l],formattedValue:h,dataset:c.getDataset(),dataIndex:l,datasetIndex:r,element:a}}function Gp(n,t){const a=n.chart.ctx,{body:r,footer:l,title:c}=n,{boxWidth:d,boxHeight:h}=t,m=ns(t.bodyFont),f=ns(t.titleFont),g=ns(t.footerFont),b=c.length,w=l.length,y=r.length,v=Ys(t.padding);let j=v.height,N=0,M=r.reduce((Y,V)=>Y+V.before.length+V.lines.length+V.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,b&&(j+=b*f.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),M){const Y=t.displayColors?Math.max(h,m.lineHeight):m.lineHeight;j+=y*Y+(M-y)*m.lineHeight+(M-1)*t.bodySpacing}w&&(j+=t.footerMarginTop+w*g.lineHeight+(w-1)*t.footerSpacing);let B=0;const A=function(Y){N=Math.max(N,a.measureText(Y).width+B)};return a.save(),a.font=f.string,lt(n.title,A),a.font=m.string,lt(n.beforeBody.concat(n.afterBody),A),B=t.displayColors?d+2+t.boxPadding:0,lt(r,Y=>{lt(Y.before,A),lt(Y.lines,A),lt(Y.after,A)}),B=0,a.font=g.string,lt(n.footer,A),a.restore(),N+=v.width,{width:N,height:j}}function s6(n,t){const{y:a,height:r}=t;return a<r/2?"top":a>n.height-r/2?"bottom":"center"}function n6(n,t,a,r){const{x:l,width:c}=r,d=a.caretSize+a.caretPadding;if(n==="left"&&l+c+d>t.width||n==="right"&&l-c-d<0)return!0}function a6(n,t,a,r){const{x:l,width:c}=a,{width:d,chartArea:{left:h,right:m}}=n;let f="center";return r==="center"?f=l<=(h+m)/2?"left":"right":l<=c/2?f="left":l>=d-c/2&&(f="right"),n6(f,n,t,a)&&(f="center"),f}function Kp(n,t,a){const r=a.yAlign||t.yAlign||s6(n,a);return{xAlign:a.xAlign||t.xAlign||a6(n,t,a,r),yAlign:r}}function i6(n,t){let{x:a,width:r}=n;return t==="right"?a-=r:t==="center"&&(a-=r/2),a}function r6(n,t,a){let{y:r,height:l}=n;return t==="top"?r+=a:t==="bottom"?r-=l+a:r-=l/2,r}function Zp(n,t,a,r){const{caretSize:l,caretPadding:c,cornerRadius:d}=n,{xAlign:h,yAlign:m}=a,f=l+c,{topLeft:g,topRight:b,bottomLeft:w,bottomRight:y}=fr(d);let v=i6(t,h);const j=r6(t,m,f);return m==="center"?h==="left"?v+=f:h==="right"&&(v-=f):h==="left"?v-=Math.max(g,w)+l:h==="right"&&(v+=Math.max(b,y)+l),{x:ss(v,0,r.width-t.width),y:ss(j,0,r.height-t.height)}}function Rc(n,t,a){const r=Ys(a.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-r.right:n.x+r.left}function Jp(n){return gn([],Fn(n))}function l6(n,t,a){return Ni(n,{tooltip:t,tooltipItems:a,type:"tooltip"})}function eb(n,t){const a=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return a?n.override(a):n}const J2={beforeTitle:In,title(n){if(n.length>0){const t=n[0],a=t.chart.data.labels,r=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return a[t.dataIndex]}return""},afterTitle:In,beforeBody:In,beforeLabel:In,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const a=n.formattedValue;return st(a)||(t+=a),t},labelColor(n){const a=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const a=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:In,afterBody:In,beforeFooter:In,footer:In,afterFooter:In};function js(n,t,a,r){const l=n[t].call(a,r);return typeof l>"u"?J2[t].call(a,r):l}class tb extends Yn{static positioners=Tl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const a=this.chart,r=this.options.setContext(this.getContext()),l=r.enabled&&a.options.animation&&r.animations,c=new R2(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(c)),c}getContext(){return this.$context||(this.$context=l6(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,a){const{callbacks:r}=a,l=js(r,"beforeTitle",this,t),c=js(r,"title",this,t),d=js(r,"afterTitle",this,t);let h=[];return h=gn(h,Fn(l)),h=gn(h,Fn(c)),h=gn(h,Fn(d)),h}getBeforeBody(t,a){return Jp(js(a.callbacks,"beforeBody",this,t))}getBody(t,a){const{callbacks:r}=a,l=[];return lt(t,c=>{const d={before:[],lines:[],after:[]},h=eb(r,c);gn(d.before,Fn(js(h,"beforeLabel",this,c))),gn(d.lines,js(h,"label",this,c)),gn(d.after,Fn(js(h,"afterLabel",this,c))),l.push(d)}),l}getAfterBody(t,a){return Jp(js(a.callbacks,"afterBody",this,t))}getFooter(t,a){const{callbacks:r}=a,l=js(r,"beforeFooter",this,t),c=js(r,"footer",this,t),d=js(r,"afterFooter",this,t);let h=[];return h=gn(h,Fn(l)),h=gn(h,Fn(c)),h=gn(h,Fn(d)),h}_createItems(t){const a=this._active,r=this.chart.data,l=[],c=[],d=[];let h=[],m,f;for(m=0,f=a.length;m<f;++m)h.push(t6(this.chart,a[m]));return t.filter&&(h=h.filter((g,b,w)=>t.filter(g,b,w,r))),t.itemSort&&(h=h.sort((g,b)=>t.itemSort(g,b,r))),lt(h,g=>{const b=eb(t.callbacks,g);l.push(js(b,"labelColor",this,g)),c.push(js(b,"labelPointStyle",this,g)),d.push(js(b,"labelTextColor",this,g))}),this.labelColors=l,this.labelPointStyles=c,this.labelTextColors=d,this.dataPoints=h,h}update(t,a){const r=this.options.setContext(this.getContext()),l=this._active;let c,d=[];if(!l.length)this.opacity!==0&&(c={opacity:0});else{const h=Tl[r.position].call(this,l,this._eventPosition);d=this._createItems(r),this.title=this.getTitle(d,r),this.beforeBody=this.getBeforeBody(d,r),this.body=this.getBody(d,r),this.afterBody=this.getAfterBody(d,r),this.footer=this.getFooter(d,r);const m=this._size=Gp(this,r),f=Object.assign({},h,m),g=Kp(this.chart,r,f),b=Zp(r,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,c={opacity:1,x:b.x,y:b.y,width:m.width,height:m.height,caretX:h.x,caretY:h.y}}this._tooltipItems=d,this.$context=void 0,c&&this._resolveAnimations().update(this,c),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(t,a,r,l){const c=this.getCaretPosition(t,r,l);a.lineTo(c.x1,c.y1),a.lineTo(c.x2,c.y2),a.lineTo(c.x3,c.y3)}getCaretPosition(t,a,r){const{xAlign:l,yAlign:c}=this,{caretSize:d,cornerRadius:h}=r,{topLeft:m,topRight:f,bottomLeft:g,bottomRight:b}=fr(h),{x:w,y}=t,{width:v,height:j}=a;let N,M,B,A,Y,V;return c==="center"?(Y=y+j/2,l==="left"?(N=w,M=N-d,A=Y+d,V=Y-d):(N=w+v,M=N+d,A=Y-d,V=Y+d),B=N):(l==="left"?M=w+Math.max(m,g)+d:l==="right"?M=w+v-Math.max(f,b)-d:M=this.caretX,c==="top"?(A=y,Y=A-d,N=M-d,B=M+d):(A=y+j,Y=A+d,N=M+d,B=M-d),V=A),{x1:N,x2:M,x3:B,y1:A,y2:Y,y3:V}}drawTitle(t,a,r){const l=this.title,c=l.length;let d,h,m;if(c){const f=xr(r.rtl,this.x,this.width);for(t.x=Rc(this,r.titleAlign,r),a.textAlign=f.textAlign(r.titleAlign),a.textBaseline="middle",d=ns(r.titleFont),h=r.titleSpacing,a.fillStyle=r.titleColor,a.font=d.string,m=0;m<c;++m)a.fillText(l[m],f.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+h,m+1===c&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,a,r,l,c){const d=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:m,boxWidth:f}=c,g=ns(c.bodyFont),b=Rc(this,"left",c),w=l.x(b),y=m<g.lineHeight?(g.lineHeight-m)/2:0,v=a.y+y;if(c.usePointStyle){const j={radius:Math.min(f,m)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=l.leftForLtr(w,f)+f/2,M=v+m/2;t.strokeStyle=c.multiKeyBackground,t.fillStyle=c.multiKeyBackground,n0(t,j,N,M),t.strokeStyle=d.borderColor,t.fillStyle=d.backgroundColor,n0(t,j,N,M)}else{t.lineWidth=qe(d.borderWidth)?Math.max(...Object.values(d.borderWidth)):d.borderWidth||1,t.strokeStyle=d.borderColor,t.setLineDash(d.borderDash||[]),t.lineDashOffset=d.borderDashOffset||0;const j=l.leftForLtr(w,f),N=l.leftForLtr(l.xPlus(w,1),f-2),M=fr(d.borderRadius);Object.values(M).some(B=>B!==0)?(t.beginPath(),t.fillStyle=c.multiKeyBackground,Kc(t,{x:j,y:v,w:f,h:m,radius:M}),t.fill(),t.stroke(),t.fillStyle=d.backgroundColor,t.beginPath(),Kc(t,{x:N,y:v+1,w:f-2,h:m-2,radius:M}),t.fill()):(t.fillStyle=c.multiKeyBackground,t.fillRect(j,v,f,m),t.strokeRect(j,v,f,m),t.fillStyle=d.backgroundColor,t.fillRect(N,v+1,f-2,m-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,a,r){const{body:l}=this,{bodySpacing:c,bodyAlign:d,displayColors:h,boxHeight:m,boxWidth:f,boxPadding:g}=r,b=ns(r.bodyFont);let w=b.lineHeight,y=0;const v=xr(r.rtl,this.x,this.width),j=function(E){a.fillText(E,v.x(t.x+y),t.y+w/2),t.y+=w+c},N=v.textAlign(d);let M,B,A,Y,V,D,z;for(a.textAlign=d,a.textBaseline="middle",a.font=b.string,t.x=Rc(this,N,r),a.fillStyle=r.bodyColor,lt(this.beforeBody,j),y=h&&N!=="right"?d==="center"?f/2+g:f+2+g:0,Y=0,D=l.length;Y<D;++Y){for(M=l[Y],B=this.labelTextColors[Y],a.fillStyle=B,lt(M.before,j),A=M.lines,h&&A.length&&(this._drawColorBox(a,t,Y,v,r),w=Math.max(b.lineHeight,m)),V=0,z=A.length;V<z;++V)j(A[V]),w=b.lineHeight;lt(M.after,j)}y=0,w=b.lineHeight,lt(this.afterBody,j),t.y-=c}drawFooter(t,a,r){const l=this.footer,c=l.length;let d,h;if(c){const m=xr(r.rtl,this.x,this.width);for(t.x=Rc(this,r.footerAlign,r),t.y+=r.footerMarginTop,a.textAlign=m.textAlign(r.footerAlign),a.textBaseline="middle",d=ns(r.footerFont),a.fillStyle=r.footerColor,a.font=d.string,h=0;h<c;++h)a.fillText(l[h],m.x(t.x),t.y+d.lineHeight/2),t.y+=d.lineHeight+r.footerSpacing}}drawBackground(t,a,r,l){const{xAlign:c,yAlign:d}=this,{x:h,y:m}=t,{width:f,height:g}=r,{topLeft:b,topRight:w,bottomLeft:y,bottomRight:v}=fr(l.cornerRadius);a.fillStyle=l.backgroundColor,a.strokeStyle=l.borderColor,a.lineWidth=l.borderWidth,a.beginPath(),a.moveTo(h+b,m),d==="top"&&this.drawCaret(t,a,r,l),a.lineTo(h+f-w,m),a.quadraticCurveTo(h+f,m,h+f,m+w),d==="center"&&c==="right"&&this.drawCaret(t,a,r,l),a.lineTo(h+f,m+g-v),a.quadraticCurveTo(h+f,m+g,h+f-v,m+g),d==="bottom"&&this.drawCaret(t,a,r,l),a.lineTo(h+y,m+g),a.quadraticCurveTo(h,m+g,h,m+g-y),d==="center"&&c==="left"&&this.drawCaret(t,a,r,l),a.lineTo(h,m+b),a.quadraticCurveTo(h,m,h+b,m),a.closePath(),a.fill(),l.borderWidth>0&&a.stroke()}_updateAnimationTarget(t){const a=this.chart,r=this.$animations,l=r&&r.x,c=r&&r.y;if(l||c){const d=Tl[t.position].call(this,this._active,this._eventPosition);if(!d)return;const h=this._size=Gp(this,t),m=Object.assign({},d,this._size),f=Kp(a,t,m),g=Zp(t,m,f,a);(l._to!==g.x||c._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=d.x,this.caretY=d.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(t){const a=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(a);const l={width:this.width,height:this.height},c={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const d=Ys(a.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&h&&(t.save(),t.globalAlpha=r,this.drawBackground(c,t,l,a),M2(t,a.textDirection),c.y+=d.top,this.drawTitle(c,t,a),this.drawBody(c,t,a),this.drawFooter(c,t,a),L2(t,a.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,a){const r=this._active,l=t.map(({datasetIndex:h,index:m})=>{const f=this.chart.getDatasetMeta(h);if(!f)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:f.data[m],index:m}}),c=!Qc(r,l),d=this._positionChanged(l,a);(c||d)&&(this._active=l,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,a,r=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,c=this._active||[],d=this._getActiveElements(t,c,a,r),h=this._positionChanged(d,t),m=a||!Qc(d,c)||h;return m&&(this._active=d,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,a))),m}_getActiveElements(t,a,r,l){const c=this.options;if(t.type==="mouseout")return[];if(!l)return a.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const d=this.chart.getElementsAtEventForMode(t,c.mode,c,r);return c.reverse&&d.reverse(),d}_positionChanged(t,a){const{caretX:r,caretY:l,options:c}=this,d=Tl[c.position].call(this,t,a);return d!==!1&&(r!==d.x||l!==d.y)}}var Oa={id:"tooltip",_element:tb,positioners:Tl,afterInit(n,t,a){a&&(n.tooltip=new tb({chart:n,options:a}))},beforeUpdate(n,t,a){n.tooltip&&n.tooltip.initialize(a)},reset(n,t,a){n.tooltip&&n.tooltip.initialize(a)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const a={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",a)}},afterEvent(n,t){if(n.tooltip){const a=t.replay;n.tooltip.handleEvent(t.event,a,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:J2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const o6=(n,t,a,r)=>(typeof t=="string"?(a=n.push(t)-1,r.unshift({index:a,label:t})):isNaN(t)&&(a=null),a);function c6(n,t,a,r){const l=n.indexOf(t);if(l===-1)return o6(n,t,a,r);const c=n.lastIndexOf(t);return l!==c?a:l}const d6=(n,t)=>n===null?null:ss(Math.round(n),0,t);function sb(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class za extends Sr{static id="category";static defaults={ticks:{callback:sb}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const a=this._addedLabels;if(a.length){const r=this.getLabels();for(const{index:l,label:c}of a)r[l]===c&&r.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,a){if(st(t))return null;const r=this.getLabels();return a=isFinite(a)&&r[a]===t?a:c6(r,t,ze(a,t),this._addedLabels),d6(a,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:a}=this.getUserBounds();let{min:r,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),a||(l=this.getLabels().length-1)),this.min=r,this.max=l}buildTicks(){const t=this.min,a=this.max,r=this.options.offset,l=[];let c=this.getLabels();c=t===0&&a===c.length-1?c:c.slice(t,a+1),this._valueRange=Math.max(c.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let d=t;d<=a;d++)l.push({value:d});return l}getLabelForValue(t){return sb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const a=this.ticks;return t<0||t>a.length-1?null:this.getPixelForValue(a[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function u6(n,t){const a=[],{bounds:l,step:c,min:d,max:h,precision:m,count:f,maxTicks:g,maxDigits:b,includeBounds:w}=n,y=c||1,v=g-1,{min:j,max:N}=t,M=!st(d),B=!st(h),A=!st(f),Y=(N-j)/(b+1);let V=Zg((N-j)/v/y)*y,D,z,E,F;if(V<1e-14&&!M&&!B)return[{value:j},{value:N}];F=Math.ceil(N/V)-Math.floor(j/V),F>v&&(V=Zg(F*V/v/y)*y),st(m)||(D=Math.pow(10,m),V=Math.ceil(V*D)/D),l==="ticks"?(z=Math.floor(j/V)*V,E=Math.ceil(N/V)*V):(z=j,E=N),M&&B&&c&&mN((h-d)/c,V/1e3)?(F=Math.round(Math.min((h-d)/V,g)),V=(h-d)/F,z=d,E=h):A?(z=M?d:z,E=B?h:E,F=f-1,V=(E-z)/F):(F=(E-z)/V,zl(F,Math.round(F),V/1e3)?F=Math.round(F):F=Math.ceil(F));const se=Math.max(Jg(V),Jg(z));D=Math.pow(10,st(m)?se:m),z=Math.round(z*D)/D,E=Math.round(E*D)/D;let O=0;for(M&&(w&&z!==d?(a.push({value:d}),z<d&&O++,zl(Math.round((z+O*V)*D)/D,d,nb(d,Y,n))&&O++):z<d&&O++);O<F;++O){const U=Math.round((z+O*V)*D)/D;if(B&&U>h)break;a.push({value:U})}return B&&w&&E!==h?a.length&&zl(a[a.length-1].value,h,nb(h,Y,n))?a[a.length-1].value=h:a.push({value:h}):(!B||E===h)&&a.push({value:E}),a}function nb(n,t,{horizontal:a,minRotation:r}){const l=bn(r),c=(a?Math.sin(l):Math.cos(l))||.001,d=.75*t*(""+n).length;return Math.min(t/c,d)}class h6 extends Sr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,a){return st(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:a,maxDefined:r}=this.getUserBounds();let{min:l,max:c}=this;const d=m=>l=a?l:m,h=m=>c=r?c:m;if(t){const m=yn(l),f=yn(c);m<0&&f<0?h(0):m>0&&f>0&&d(0)}if(l===c){let m=c===0?1:Math.abs(c*.05);h(c+m),t||d(l-m)}this.min=l,this.max=c}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:a,stepSize:r}=t,l;return r?(l=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),a=a||11),a&&(l=Math.min(a,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,a=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const l={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},c=this._range||this,d=u6(l,c);return t.bounds==="ticks"&&fN(d,this,"value"),t.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const t=this.ticks;let a=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const l=(r-a)/Math.max(t.length-1,1)/2;a-=l,r+=l}this._startValue=a,this._endValue=r,this._valueRange=r-a}getLabelForValue(t){return cd(t,this.chart.options.locale,this.options.ticks.format)}}class Ba extends h6{static id="linear";static defaults={ticks:{callback:b2.formatters.numeric}};determineDataLimits(){const{min:t,max:a}=this.getMinMax(!0);this.min=as(t)?t:0,this.max=as(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),a=t?this.width:this.height,r=bn(this.options.ticks.minRotation),l=(t?Math.sin(r):Math.cos(r))||.001,c=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,c.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const xd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ws=Object.keys(xd);function ab(n,t){return n-t}function ib(n,t){if(st(t))return null;const a=n._adapter,{parser:r,round:l,isoWeekday:c}=n._parseOpts;let d=t;return typeof r=="function"&&(d=r(d)),as(d)||(d=typeof r=="string"?a.parse(d,r):a.parse(d)),d===null?null:(l&&(d=l==="week"&&(pr(c)||c===!0)?a.startOf(d,"isoWeek",c):a.startOf(d,l)),+d)}function rb(n,t,a,r){const l=ws.length;for(let c=ws.indexOf(n);c<l-1;++c){const d=xd[ws[c]],h=d.steps?d.steps:Number.MAX_SAFE_INTEGER;if(d.common&&Math.ceil((a-t)/(h*d.size))<=r)return ws[c]}return ws[l-1]}function m6(n,t,a,r,l){for(let c=ws.length-1;c>=ws.indexOf(a);c--){const d=ws[c];if(xd[d].common&&n._adapter.diff(l,r,d)>=t-1)return d}return ws[a?ws.indexOf(a):0]}function f6(n){for(let t=ws.indexOf(n)+1,a=ws.length;t<a;++t)if(xd[ws[t]].common)return ws[t]}function lb(n,t,a){if(!a)n[t]=!0;else if(a.length){const{lo:r,hi:l}=k0(a,t),c=a[r]>=t?a[r]:a[l];n[c]=!0}}function x6(n,t,a,r){const l=n._adapter,c=+l.startOf(t[0].value,r),d=t[t.length-1].value;let h,m;for(h=c;h<=d;h=+l.add(h,1,r))m=a[h],m>=0&&(t[m].major=!0);return t}function ob(n,t,a){const r=[],l={},c=t.length;let d,h;for(d=0;d<c;++d)h=t[d],l[h]=d,r.push({value:h,major:!1});return c===0||!a?r:x6(n,r,l,a)}class cb extends Sr{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,a={}){const r=t.time||(t.time={}),l=this._adapter=new tk._date(t.adapters.date);l.init(a),Ol(r.displayFormats,l.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=a.normalized}parse(t,a){return t===void 0?null:ib(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,a=this._adapter,r=t.time.unit||"day";let{min:l,max:c,minDefined:d,maxDefined:h}=this.getUserBounds();function m(f){!d&&!isNaN(f.min)&&(l=Math.min(l,f.min)),!h&&!isNaN(f.max)&&(c=Math.max(c,f.max))}(!d||!h)&&(m(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&m(this.getMinMax(!1))),l=as(l)&&!isNaN(l)?l:+a.startOf(Date.now(),r),c=as(c)&&!isNaN(c)?c:+a.endOf(Date.now(),r)+1,this.min=Math.min(l,c-1),this.max=Math.max(l+1,c)}_getLabelBounds(){const t=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(a=t[0],r=t[t.length-1]),{min:a,max:r}}buildTicks(){const t=this.options,a=t.time,r=t.ticks,l=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const c=this.min,d=this.max,h=yN(l,c,d);return this._unit=a.unit||(r.autoSkip?rb(a.minUnit,this.min,this.max,this._getLabelCapacity(c)):m6(this,h.length,a.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:f6(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),ob(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let a=0,r=0,l,c;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?a=1-l:a=(this.getDecimalForValue(t[1])-l)/2,c=this.getDecimalForValue(t[t.length-1]),t.length===1?r=c:r=(c-this.getDecimalForValue(t[t.length-2]))/2);const d=t.length<3?.5:.25;a=ss(a,0,d),r=ss(r,0,d),this._offsets={start:a,end:r,factor:1/(a+1+r)}}_generate(){const t=this._adapter,a=this.min,r=this.max,l=this.options,c=l.time,d=c.unit||rb(c.minUnit,a,r,this._getLabelCapacity(a)),h=ze(l.ticks.stepSize,1),m=d==="week"?c.isoWeekday:!1,f=pr(m)||m===!0,g={};let b=a,w,y;if(f&&(b=+t.startOf(b,"isoWeek",m)),b=+t.startOf(b,f?"day":d),t.diff(r,a,d)>1e5*h)throw new Error(a+" and "+r+" are too far apart with stepSize of "+h+" "+d);const v=l.ticks.source==="data"&&this.getDataTimestamps();for(w=b,y=0;w<r;w=+t.add(w,h,d),y++)lb(g,w,v);return(w===r||l.bounds==="ticks"||y===1)&&lb(g,w,v),Object.keys(g).sort(ab).map(j=>+j)}getLabelForValue(t){const a=this._adapter,r=this.options.time;return r.tooltipFormat?a.format(t,r.tooltipFormat):a.format(t,r.displayFormats.datetime)}format(t,a){const l=this.options.time.displayFormats,c=this._unit,d=a||l[c];return this._adapter.format(t,d)}_tickFormatFunction(t,a,r,l){const c=this.options,d=c.ticks.callback;if(d)return gt(d,[t,a,r],this);const h=c.time.displayFormats,m=this._unit,f=this._majorUnit,g=m&&h[m],b=f&&h[f],w=r[a],y=f&&b&&w&&w.major;return this._adapter.format(t,l||(y?b:g))}generateTickLabels(t){let a,r,l;for(a=0,r=t.length;a<r;++a)l=t[a],l.label=this._tickFormatFunction(l.value,a,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const a=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((a.start+r)*a.factor)}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const a=this.options.ticks,r=this.ctx.measureText(t).width,l=bn(this.isHorizontal()?a.maxRotation:a.minRotation),c=Math.cos(l),d=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:r*c+h*d,h:r*d+h*c}}_getLabelCapacity(t){const a=this.options.time,r=a.displayFormats,l=r[a.unit]||r.millisecond,c=this._tickFormatFunction(t,0,ob(this,[t],this._majorUnit),l),d=this._getLabelSize(c),h=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],a,r;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(a=0,r=l.length;a<r;++a)t=t.concat(l[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let a,r;if(t.length)return t;const l=this.getLabels();for(a=0,r=l.length;a<r;++a)t.push(ib(this,l[a]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return m2(t.sort(ab))}}function Tc(n,t,a){let r=0,l=n.length-1,c,d,h,m;a?(t>=n[r].pos&&t<=n[l].pos&&({lo:r,hi:l}=xi(n,"pos",t)),{pos:c,time:h}=n[r],{pos:d,time:m}=n[l]):(t>=n[r].time&&t<=n[l].time&&({lo:r,hi:l}=xi(n,"time",t)),{time:c,pos:h}=n[r],{time:d,pos:m}=n[l]);const f=d-c;return f?h+(m-h)*(t-c)/f:h}class DS extends cb{static id="timeseries";static defaults=cb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(t);this._minPos=Tc(a,this.min),this._tableRange=Tc(a,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:a,max:r}=this,l=[],c=[];let d,h,m,f,g;for(d=0,h=t.length;d<h;++d)f=t[d],f>=a&&f<=r&&l.push(f);if(l.length<2)return[{time:a,pos:0},{time:r,pos:1}];for(d=0,h=l.length;d<h;++d)g=l[d+1],m=l[d-1],f=l[d],Math.round((g+m)/2)!==f&&c.push({time:f,pos:d/(h-1)});return c}_generate(){const t=this.min,a=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(a)||r.length===1)&&r.push(a),r.sort((l,c)=>l-c)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const a=this.getDataTimestamps(),r=this.getLabelTimestamps();return a.length&&r.length?t=this.normalize(a.concat(r)):t=a.length?a:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Tc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const a=this._offsets,r=this.getDecimalForPixel(t)/a.factor-a.end;return Tc(this._table,r*this._tableRange+this._minPos,!0)}}const g6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),[]).then(n=>({default:n.Line}))),$h=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Bar}))),p6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Doughnut}))),b6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Pie})));nn.register(za,Ba,_a,an,Ea,eo,Ta,Oa,Ra);function y6(){const[n,t]=k.useState(null),[a,r]=k.useState(!0),[l,c]=k.useState("overview"),d=mt();k.useEffect(()=>{let y=!0;const v=new AbortController;return(async()=>{try{r(!0);const N=await Ae.get("/dashboard/stats",{signal:v.signal,timeout:3e4,headers:{"Cache-Control":"max-age=300"}});y&&t(N.data?.data||N.data)}catch(N){!(N.name==="CanceledError"||N.message==="canceled"||N.code==="ERR_CANCELED"||N.config&&N.config.signal&&N.config.signal.aborted)&&y&&(console.error("Error fetching dashboard stats:",N),N.code==="ECONNABORTED"&&console.error("Request timeout - dashboard data is taking too long to load"))}finally{y&&r(!1)}})(),()=>{y=!1,v.signal.aborted||v.abort()}},[]);const h=[{id:"overview",label:"Overview",icon:"grid"},{id:"industry",label:"Industry",icon:"building"},{id:"geography",label:"Geography",icon:"globe"},{id:"designation",label:"Designation & Persona",icon:"briefcase"},{id:"data-quality",label:"Data Quality",icon:"shield"},{id:"ownership",label:"Ownership & Team",icon:"users"}],m=k.useMemo(()=>{if(!n)return{overallScore:0,completeness:0,deduplication:100,freshness:0};const y=n.totalContacts||0,v=y>0?Math.round(((n.emailValidity?.valid||0)/y*.3+(n.outreachReady?.value||0)/y*.3+(n.enrichmentCoverage?.value||0)/y*.2+(1-(n.duplicateRecords?.value||0)/y)*.2)*100):0,j=y>0?Math.round((n.outreachReady?.value||0)/y*100):0,N=y>0?Math.round((1-(n.duplicateRecords?.value||0)/y)*100):100,M=n.enrichmentCoverage?.percent?Math.round(n.enrichmentCoverage.percent):0;return{overallScore:v,completeness:j,deduplication:N,freshness:M}},[n?.totalContacts,n?.emailValidity?.valid,n?.outreachReady?.value,n?.enrichmentCoverage?.value,n?.duplicateRecords?.value,n?.enrichmentCoverage?.percent]),f=k.useMemo(()=>{if(!n?.topIndustries||n.topIndustries.length===0)return null;const y=n.topIndustries.slice(0,5),v=y.reduce((A,Y)=>A+(Y.count||0),0),j=n.topIndustries.reduce((A,Y)=>A+(Y.count||0),0),N=j-v,M=y.map(A=>({label:A.name,value:A.count||0,percentage:j>0?Math.round((A.count||0)/j*100):0}));N>0&&M.push({label:"Others",value:N,percentage:Math.round(N/j*100)});const B=["rgb(59, 130, 246)","rgb(34, 197, 94)","rgb(249, 115, 22)","rgb(239, 68, 68)","rgb(168, 85, 247)","rgb(156, 163, 175)"];return{labels:M.map(A=>`${A.label}: ${A.percentage}%`),data:M.map(A=>A.value),colors:B.slice(0,M.length)}},[n?.topIndustries]),g=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]});if(a)return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4 animate-pulse"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-full animate-pulse"})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((y,v)=>e.jsx(g,{},v))})})]});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Failed to load dashboard data"})})});const b=k.memo(({title:y,value:v,trend:j,trendDirection:N,icon:M,subtitle:B,percent:A})=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:y}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:[typeof v=="number"?v.toLocaleString():v,A&&e.jsxs("span",{className:"text-lg text-gray-500 ml-1",children:["(",A,"%)"]})]})}),B&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:B})]}),e.jsxs("div",{className:"text-gray-400",children:[M==="people"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),M==="building"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),M==="plus"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),M==="check"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),M==="sparkle"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),M==="clock"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),M==="envelope"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),M==="exclamation"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),M==="ban"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),M==="duplicate"&&e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})]})]}),j&&e.jsxs("div",{className:`flex items-center gap-1 text-sm ${N==="up"?"text-green-600":"text-red-600"}`,children:[e.jsx("svg",{className:`w-4 h-4 ${N==="down"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),e.jsx("span",{children:j})]})]})),w=k.memo(({type:y,title:v,description:j,action:N,actionLabel:M})=>{const B={success:{bg:"bg-green-50",border:"border-green-200",icon:"text-green-600",text:"text-green-800"},warning:{bg:"bg-yellow-50",border:"border-yellow-200",icon:"text-yellow-600",text:"text-yellow-800"},error:{bg:"bg-red-50",border:"border-red-200",icon:"text-red-600",text:"text-red-800"}},A=B[y]||B.success;return e.jsx("div",{className:`${A.bg} border ${A.border} rounded-lg p-6`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:`${A.icon} flex-shrink-0`,children:[y==="success"&&e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),y==="warning"&&e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),y==="error"&&e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:`font-semibold ${A.text} mb-2`,children:v}),e.jsx("p",{className:`text-sm ${A.text} mb-4`,children:j}),N&&e.jsxs("button",{onClick:N,className:"text-blue-600 hover:text-blue-800 font-medium text-sm flex items-center gap-1",children:[M,e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor your contact and account data performance"})]}),e.jsx("div",{className:"flex items-center gap-6 overflow-x-auto pb-2 border-b border-gray-200",children:h.map(y=>e.jsxs("button",{onClick:()=>c(y.id),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium whitespace-nowrap transition-colors ${l===y.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[y.icon==="grid"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),y.icon==="building"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),y.icon==="globe"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 002 2h2.945M15 6.055V5a2 2 0 012-2h3.055M21 12.055V19a2 2 0 01-2 2h-3.055M9 3.055V5a2 2 0 012-2h2.945M9 20.945V19a2 2 0 012-2h2.945M21 3.055V5a2 2 0 00-2 2h-3.055M9 20.945V19a2 2 0 00-2-2H3.055"})}),y.icon==="briefcase"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),y.icon==="shield"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),y.icon==="users"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),y.label]},y.id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(b,{title:"Total Contacts",value:n.totalContacts?.value||0,trend:n.totalContacts?.trend,trendDirection:n.totalContacts?.trendDirection,icon:"people"}),e.jsx(b,{title:"Total Accounts",value:n.totalAccounts?.value||0,trend:n.totalAccounts?.trend,trendDirection:n.totalAccounts?.trendDirection,icon:"building"}),e.jsx(b,{title:"New Contacts",value:n.newContacts?.value||0,trend:n.newContacts?.trend,trendDirection:n.newContacts?.trendDirection,icon:"plus",subtitle:"This month"}),e.jsx(b,{title:"Outreach Ready",value:n.outreachReady?.value||0,percent:n.outreachReady?.percent,trend:n.outreachReady?.trend,trendDirection:n.outreachReady?.trendDirection,icon:"check"}),e.jsx(b,{title:"Enrichment Coverage",value:n.enrichmentCoverage?.percent||0,subtitle:`${n.enrichmentCoverage?.value||0} contacts enriched`,trend:n.enrichmentCoverage?.trend,trendDirection:n.enrichmentCoverage?.trendDirection,icon:"sparkle"}),e.jsx(b,{title:"Stale Enrichment",value:n.staleEnrichment?.value||0,subtitle:">90 days old",trend:n.staleEnrichment?.trend,trendDirection:n.staleEnrichment?.trendDirection,icon:"clock"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(b,{title:"Email Validity",value:n.emailValidity?.percent||0,subtitle:`${n.emailValidity?.valid||0} valid`,trend:n.emailValidity?.trend,trendDirection:n.emailValidity?.trendDirection,icon:"envelope"}),e.jsx(b,{title:"Missing Titles",value:n.missingTitles?.value||0,percent:n.missingTitles?.percent,trend:n.missingTitles?.trend,trendDirection:n.missingTitles?.trendDirection,icon:"exclamation"}),e.jsx(b,{title:"DNC Contacts",value:n.dncContacts?.value||0,percent:n.dncContacts?.percent,trend:n.dncContacts?.trend,trendDirection:n.dncContacts?.trendDirection,icon:"ban"}),e.jsx(b,{title:"Duplicate Records",value:n.duplicateRecords?.value||0,trend:n.duplicateRecords?.trend,trendDirection:n.duplicateRecords?.trendDirection,icon:"duplicate"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact & Account Growth"}),n.monthlyGrowth&&Array.isArray(n.monthlyGrowth)&&n.monthlyGrowth.length>0?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(g6,{data:{labels:n.monthlyGrowth.map(y=>y.month||""),datasets:[{label:"Contacts",data:n.monthlyGrowth.map(y=>y.contacts||0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!1},{label:"Accounts",data:n.monthlyGrowth.map(y=>y.accounts||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,fill:!1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No growth data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enrichment Status Distribution"}),n.enrichmentStatus?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(p6,{data:{labels:["Fully Enriched","Partially Enriched","Not Enriched"],datasets:[{data:[n.enrichmentStatus.fullyEnriched?.count||0,n.enrichmentStatus.partiallyEnriched?.count||0,n.enrichmentStatus.notEnriched?.count||0],backgroundColor:["rgb(34, 197, 94)","rgb(249, 115, 22)","rgb(239, 68, 68)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No enrichment data available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Outreach Readiness Funnel"}),e.jsx("div",{className:"space-y-4",children:n.outreachFunnel&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Total Contacts"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[n.outreachFunnel.totalContacts?.toLocaleString()||0," (100%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gray-400 h-2 rounded-full",style:{width:"100%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Has Email"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[n.outreachFunnel.hasEmail?.toLocaleString()||0," (",n.outreachFunnel.totalContacts>0?(n.outreachFunnel.hasEmail/n.outreachFunnel.totalContacts*100).toFixed(1):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n.outreachFunnel.totalContacts>0?n.outreachFunnel.hasEmail/n.outreachFunnel.totalContacts*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Valid Email"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[n.outreachFunnel.validEmail?.toLocaleString()||0," (",n.outreachFunnel.totalContacts>0?(n.outreachFunnel.validEmail/n.outreachFunnel.totalContacts*100).toFixed(1):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n.outreachFunnel.totalContacts>0?n.outreachFunnel.validEmail/n.outreachFunnel.totalContacts*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Has Title"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[n.outreachFunnel.hasTitle?.toLocaleString()||0," (",n.outreachFunnel.totalContacts>0?(n.outreachFunnel.hasTitle/n.outreachFunnel.totalContacts*100).toFixed(1):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${n.outreachFunnel.totalContacts>0?n.outreachFunnel.hasTitle/n.outreachFunnel.totalContacts*100:0}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Ready for Outreach"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[n.outreachFunnel.readyForOutreach?.toLocaleString()||0," (",n.outreachFunnel.totalContacts>0?(n.outreachFunnel.readyForOutreach/n.outreachFunnel.totalContacts*100).toFixed(1):0,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${n.outreachFunnel.totalContacts>0?n.outreachFunnel.readyForOutreach/n.outreachFunnel.totalContacts*100:0}%`}})})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Segments"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Top Industries"}),e.jsx("div",{className:"space-y-2",children:n.topIndustries&&n.topIndustries.length>0?n.topIndustries.map((y,v)=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:y.name}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.count.toLocaleString()})]},v)):e.jsx("p",{className:"text-xs text-gray-500",children:"No industry data available"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Top States"}),e.jsx("div",{className:"space-y-2",children:n.topStates&&n.topStates.length>0?n.topStates.map((y,v)=>e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:y.name}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:y.count.toLocaleString()})]},v)):e.jsx("p",{className:"text-xs text-gray-500",children:"No geography data available"})})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(w,{type:"success",title:"Strong Contact Growth",description:"Your contact database grew significantly this month. Consider allocating more enrichment resources to maintain data quality.",action:()=>d("/contacts"),actionLabel:"View Industry Breakdown"}),e.jsx(w,{type:"warning",title:"Email Validity Declining",description:"Email validity rate dropped this month. Run validation on contacts added in the last 30 days to identify and fix invalid addresses.",action:()=>d("/contacts"),actionLabel:"Review Data Quality"}),e.jsx(w,{type:"error",title:"Duplicate Detection Alert",description:`${n.duplicateRecords?.value||0} duplicate records detected across your database. Use the Data Quality Center to merge or remove duplicates.`,action:()=>d("/contacts"),actionLabel:"Fix Duplicates"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Data Health Score"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:m.overallScore}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:m.completeness}),e.jsx("p",{className:"text-sm text-gray-600",children:"Completeness"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-2",children:m.deduplication}),e.jsx("p",{className:"text-sm text-gray-600",children:"Deduplication"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:m.freshness}),e.jsx("p",{className:"text-sm text-gray-600",children:"Freshness"})]})]})]})]}),l==="industry"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Industry Distribution"}),n.topIndustries&&n.topIndustries.length>0?e.jsx("div",{className:"h-80",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx($h,{data:{labels:n.topIndustries.map(y=>y.name),datasets:[{label:"Contacts",data:n.topIndustries.map(y=>y.count||0),backgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0,ticks:{precision:0},grid:{color:"rgba(0, 0, 0, 0.05)",lineWidth:1}},y:{ticks:{maxRotation:45,minRotation:45},grid:{display:!1}}}}})})}):e.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No industry data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top 5 Industries by Contact Volume"}),f?e.jsx("div",{className:"h-80",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(b6,{data:{labels:f.labels,datasets:[{data:f.data,backgroundColor:f.colors,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",labels:{usePointStyle:!0,padding:15,font:{size:12},generateLabels:function(y){const v=y.data;return v.labels.length&&v.datasets.length?v.labels.map((j,N)=>{v.datasets[0].data[N];const M=v.datasets[0].backgroundColor[N];return{text:j,fillStyle:M,hidden:!1,index:N}}):[]}}},tooltip:{callbacks:{label:function(y){const v=y.label||"",j=y.parsed||0;return`${v} - ${j.toLocaleString()} contacts`}}}}}})})}):e.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No industry data available"})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Industry Insights"}),n.industryInsights?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Fastest Growing"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 mb-1",children:n.industryInsights.fastestGrowing?.industry||"N/A"}),e.jsx("p",{className:"text-sm font-semibold text-green-600",children:n.industryInsights.fastestGrowing?`+${n.industryInsights.fastestGrowing.growth.toFixed(0)}% this quarter`:"No data"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Highest Enrichment"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 mb-1",children:n.industryInsights.highestEnrichment?.industry||"N/A"}),e.jsx("p",{className:"text-sm font-semibold text-green-600",children:n.industryInsights.highestEnrichment?`${n.industryInsights.highestEnrichment.enrichment.toFixed(0)}% enriched`:"No data"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Needs Attention"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 mb-1",children:n.industryInsights.needsAttention?.industry||"N/A"}),e.jsx("p",{className:"text-sm font-semibold text-orange-600",children:n.industryInsights.needsAttention?`${n.industryInsights.needsAttention.enrichment.toFixed(0)}% enriched`:"No data"})]})]}):e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"No industry insights available"})]})]}),l==="geography"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Geographic Distribution"}),n.topStates&&n.topStates.length>0?e.jsx("div",{className:"h-96",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx($h,{data:{labels:n.topStates.map(y=>y.name),datasets:[{label:"Contacts",data:n.topStates.map(y=>y.count||0),backgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0,ticks:{precision:0,stepSize:750,font:{size:11},color:"#6B7280"},grid:{color:"rgba(0, 0, 0, 0.08)",lineWidth:1,borderDash:[5,5],drawBorder:!1}},y:{ticks:{font:{size:12},color:"#374151"},grid:{display:!1}}}}})})}):e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No geographic data available"})})]})}),l==="data-quality"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Quality Metrics"}),n.dataQualityMetrics?e.jsx("div",{className:"h-80",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx($h,{data:{labels:["Email Valid","Phone Valid","Complete Profile","LinkedIn Connected","Recent Activity"],datasets:[{label:"Count",data:[n.dataQualityMetrics.emailValid||0,n.dataQualityMetrics.phoneValid||0,n.dataQualityMetrics.completeProfile||0,n.dataQualityMetrics.linkedinConnected||0,n.dataQualityMetrics.recentActivity||0],backgroundColor:"rgba(59, 130, 246, 0.8)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No data quality metrics available"})})]})})]})]})}function v6({category:n,searchParam:t,onApplyFilters:a,onClearFilters:r}){const[l]=wi(),[c,d]=k.useState(!1),h=k.useRef(null),m=l.get("filterKeywords")||"",f=l.get("filterCity")||"",g=l.get("filterState")||"",b=l.get("filterCountry")||"",w=l.get("filterHasLinkedIn")||"",y=l.get("filterHasEmail")||"",v=l.get("filterHasPhone")||"",[j,N]=k.useState({keywords:"",city:"",state:"",country:"",hasLinkedIn:"",hasEmail:"",hasPhone:""});k.useEffect(()=>{N({keywords:m,city:f,state:g,country:b,hasLinkedIn:w,hasEmail:y,hasPhone:v})},[m,f,g,b,w,y,v]),k.useEffect(()=>{const D=z=>{h.current&&!h.current.contains(z.target)&&d(!1)};return c&&document.addEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[c]);const M=(D,z)=>{const E=typeof z=="string"?z.trim():z;N(F=>({...F,[D]:E}))},B=()=>!!(m||f||g||b||w||y||v),A=()=>{const D={keywords:j.keywords?.trim()||"",city:j.city?.trim()||"",state:j.state?.trim()||"",country:j.country?.trim()||"",hasLinkedIn:j.hasLinkedIn||"",hasEmail:j.hasEmail||"",hasPhone:j.hasPhone||""};a(D),d(!1)},Y=()=>{N({keywords:"",city:"",state:"",country:"",hasLinkedIn:"",hasEmail:"",hasPhone:""}),r(),d(!1)},V=()=>[m,f,g,b,w,y,v].filter(D=>D!==""&&D!==null&&D!==void 0).length;return e.jsxs("div",{className:"relative",ref:h,children:[e.jsxs("button",{onClick:()=>d(!c),className:`inline-flex items-center justify-center gap-2 px-5 py-3 rounded-lg transition-all duration-200 font-semibold text-sm shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 ${B()?"bg-blue-50 border-2 border-blue-500 text-blue-700 hover:bg-blue-100":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100"}`,title:"Filter contacts",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Filter"}),B()&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full font-semibold",children:V()})]}),c&&e.jsx("div",{className:"absolute right-0 mt-2 w-96 bg-white border border-gray-200 rounded-lg shadow-xl z-50 animate-fade-in-down",children:e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),e.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Keyword",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(searches in keywords field)"})]}),e.jsx("input",{type:"text",value:j.keywords,onChange:D=>M("keywords",D.target.value),placeholder:"Enter keyword...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),A())}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["City",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(case-insensitive)"})]}),e.jsx("input",{type:"text",value:j.city,onChange:D=>M("city",D.target.value),placeholder:"Enter city name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),A())}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["State",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(case-insensitive)"})]}),e.jsx("input",{type:"text",value:j.state,onChange:D=>M("state",D.target.value),placeholder:"Enter state name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),A())}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Country",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(case-insensitive)"})]}),e.jsx("input",{type:"text",value:j.country,onChange:D=>M("country",D.target.value),placeholder:"Enter country name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onKeyDown:D=>{D.key==="Enter"&&(D.preventDefault(),A())}})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Has Email",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(valid email format)"})]}),e.jsxs("select",{value:j.hasEmail,onChange:D=>M("hasEmail",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"All Contacts"}),e.jsx("option",{value:"yes",children:"Has Valid Email"}),e.jsx("option",{value:"no",children:"No Valid Email"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Has LinkedIn",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(person or company)"})]}),e.jsxs("select",{value:j.hasLinkedIn,onChange:D=>M("hasLinkedIn",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"All Contacts"}),e.jsx("option",{value:"yes",children:"Has LinkedIn URL"}),e.jsx("option",{value:"no",children:"No LinkedIn URL"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Has Phone",e.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(phone number available)"})]}),e.jsxs("select",{value:j.hasPhone,onChange:D=>M("hasPhone",D.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"All Contacts"}),e.jsx("option",{value:"yes",children:"Has Phone Number"}),e.jsx("option",{value:"no",children:"No Phone Number"})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:Y,disabled:!B(),className:`flex-1 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${B()?"text-gray-700 bg-gray-100 hover:bg-gray-200 cursor-pointer":"text-gray-400 bg-gray-50 cursor-not-allowed"}`,children:"Clear All"}),e.jsx("button",{onClick:A,className:"flex-1 px-4 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 active:bg-blue-800 rounded-lg transition-colors shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Apply Filters"})]}),B()&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Active filters:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[m&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["Keyword: ",m]}),f&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["City: ",f]}),g&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["State: ",g]}),b&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["Country: ",b]}),y&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["Email: ",y==="yes"?"Yes":"No"]}),w&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["LinkedIn: ",w==="yes"?"Yes":"No"]}),v&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-md border border-blue-200",children:["Phone: ",v==="yes"?"Yes":"No"]})]})]})]})})]})}function j6(){const[n,t]=k.useState([]),[a,r]=k.useState(!0),[l,c]=k.useState(null),[d,h]=wi(),[m,f]=k.useState([]),[g,b]=k.useState("name"),[w,y]=k.useState("asc"),[v,j]=k.useState({page:1,limit:50,total:0,totalPages:0}),[N,M]=k.useState(""),[B,A]=k.useState(new Set),[Y,V]=k.useState("details"),[D,z]=k.useState(new Set),[E,F]=k.useState([]),[se,O]=k.useState(!1),U=mt(),I=d.get("category")||"All",$=parseInt(d.get("page")||"1",10),G=d.get("search")||"",P=d.get("filterKeywords")||"",X=d.get("filterCity")||"",T=d.get("filterState")||"",W=d.get("filterCountry")||"",je=d.get("filterHasLinkedIn")||"",C=d.get("filterHasEmail")||"",H=d.get("filterHasPhone")||"",[ue,ge]=k.useState(["All"]),L=async()=>{try{const ke=(await Ae.get("/categories")).data?.data||[];ge(["All",...ke])}catch(K){console.error("Error fetching categories:",K),ge(["All","IND-IT & Service","Accounting & Book keeping","Web Design & Development","Enterprise Software","Finance Services - IND","E-commerce","CRM","Middle East","International","USA Chicago","IT Company - USA","IT Company - Chicago","Weam.ai Mumbai Data","ERP Software","ERP NEXT- Manufacturing-Automotive Components & Spares","Salon & Spa - Chicago","SPA & SALON AHMEDABAD","kology"])}};k.useEffect(()=>{L()},[]),k.useEffect(()=>{const K=()=>{document.hidden||L()};return document.addEventListener("visibilitychange",K),()=>{document.removeEventListener("visibilitychange",K)}},[]),k.useEffect(()=>{j(K=>({...K,page:$}))},[$]),k.useEffect(()=>{M(G)},[G]),k.useEffect(()=>{Y==="company"&&J()},[Y,I,G,P,X,T,W,je,C,H]),k.useEffect(()=>{ie()},[I,$,G,P,X,T,W,je,C,H]);const J=async()=>{try{O(!0);const K={};I&&I!=="All"&&(K.category=I),G&&G.trim()&&(K.search=G.trim()),P&&(K.filterKeywords=P),X&&(K.filterCity=X),T&&(K.filterState=T),W&&(K.filterCountry=W),je&&(K.filterHasLinkedIn=je),C&&(K.filterHasEmail=C),H&&(K.filterHasPhone=H);const Ce=(await Ae.get("/contacts/companies",{params:K}))?.data?.data||[];F(Ce)}catch(K){console.error("Error fetching companies:",K),F([])}finally{O(!1)}},ie=async()=>{try{r(!0);const K={page:$,limit:50};I&&I!=="All"&&(K.category=I),G&&G.trim()&&(K.search=G.trim()),P&&(K.filterKeywords=P),X&&(K.filterCity=X),T&&(K.filterState=T),W&&(K.filterCountry=W),je&&(K.filterHasLinkedIn=je),C&&(K.filterHasEmail=C),H&&(K.filterHasPhone=H);const ke=await Ae.get("/contacts",{params:K}),Ce=ke?.data?.data||ke?.data||[];t(Array.isArray(Ce)?Ce:[]),ke?.data&&j({page:ke.data.page||$,limit:ke.data.limit||50,total:ke.data.total||0,totalPages:ke.data.totalPages||0}),c(null)}catch(K){c("Failed to fetch contacts. Please try again."),console.error("=== Error fetching contacts ==="),console.error("Error details:",K),console.error("Error response:",K?.response?.data),console.error("Error status:",K?.response?.status),console.error("==============================")}finally{r(!1)}},De=K=>{const ke=I!=="All"?`?category=${encodeURIComponent(I)}`:"";U(`/contacts/${K}${ke}`)},oe=K=>{K.target.checked?f(n.map(ke=>ke._id)):f([])},te=K=>{f(ke=>ke.includes(K)?ke.filter(Ce=>Ce!==K):[...ke,K])},Ne=async()=>{if(m.length===0)return;const K=m.length===1?"Are you sure you want to delete this contact?":`Are you sure you want to delete ${m.length} contacts?`;if(window.confirm(K))try{r(!0);const ke=m.map(Ce=>Ae.delete(`/contacts/${Ce}`));await Promise.all(ke),f([]),await ie()}catch(ke){console.error("Error deleting contacts:",ke),alert(ke.response?.data?.error||"Failed to delete contacts")}finally{r(!1)}},Z=K=>{g===K?y(w==="asc"?"desc":"asc"):(b(K),y("asc"))},Se=(K,ke)=>{ke.stopPropagation(),K.email&&(window.location.href=`mailto:${K.email}`)},Me=K=>{K.preventDefault();const ke=N.trim(),Ce={page:"1"};I!=="All"&&(Ce.category=I),ke&&(Ce.search=ke),P&&(Ce.filterKeywords=P),X&&(Ce.filterCity=X),T&&(Ce.filterState=T),W&&(Ce.filterCountry=W),je&&(Ce.filterHasLinkedIn=je),C&&(Ce.filterHasEmail=C),H&&(Ce.filterHasPhone=H),h(Ce,{replace:!0})},Nt=()=>{M("");const K={page:"1"};I!=="All"&&(K.category=I),P&&(K.filterKeywords=P),X&&(K.filterCity=X),T&&(K.filterState=T),W&&(K.filterCountry=W),je&&(K.filterHasLinkedIn=je),C&&(K.filterHasEmail=C),H&&(K.filterHasPhone=H),h(K,{replace:!0})},is=K=>{const ke={page:"1"};I!=="All"&&(ke.category=I),G&&G.trim()&&(ke.search=G.trim()),K.keywords&&K.keywords.trim()&&(ke.filterKeywords=K.keywords.trim()),K.city&&K.city.trim()&&(ke.filterCity=K.city.trim()),K.state&&K.state.trim()&&(ke.filterState=K.state.trim()),K.country&&K.country.trim()&&(ke.filterCountry=K.country.trim()),K.hasLinkedIn&&K.hasLinkedIn!==""&&(ke.filterHasLinkedIn=K.hasLinkedIn),K.hasEmail&&K.hasEmail!==""&&(ke.filterHasEmail=K.hasEmail),K.hasPhone&&K.hasPhone!==""&&(ke.filterHasPhone=K.hasPhone),h(ke,{replace:!0})},os=()=>!!(P||X||T||W||je||C||H),Vt=()=>{const K={page:"1"};I!=="All"&&(K.category=I),G&&(K.search=G),h(K,{replace:!0})},cs=[...n].sort((K,ke)=>{let Ce=K[g]||"",et=ke[g]||"";return typeof Ce=="string"&&(Ce=Ce.toLowerCase(),et=et.toLowerCase()),w==="asc"?Ce>et?1:Ce<et?-1:0:Ce<et?1:Ce>et?-1:0}),rn=K=>{if(!K)return"?";const ke=K.trim().split(/\s+/);return ke.length>=2?(ke[0][0]+ke[1][0]).toUpperCase():K.substring(0,2).toUpperCase()},Gt=K=>{A(ke=>{const Ce=new Set(ke);return Ce.has(K)?Ce.delete(K):Ce.add(K),Ce})},Ia=K=>{if(!K.keywords)return"-";const ke=K.keywords.split(",").map(et=>et.trim()).filter(et=>et),Ce=B.has(K._id);return ke.length<=3||Ce?ke.join(", "):ke.slice(0,3).join(", ")+"..."},Cr=K=>{z(ke=>{const Ce=new Set(ke);return Ce.has(K)?Ce.delete(K):Ce.add(K),Ce})},zt=K=>{const ke=I!=="All"?`?category=${encodeURIComponent(I)}`:"",Ce=encodeURIComponent(K);U(`/contacts/company/${Ce}${ke}`)};return a?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-200 blur-xl animate-pulse"}),e.jsx("div",{className:"relative animate-spin rounded-full h-14 w-14 border-2 border-gray-200 border-t-gray-900 mx-auto"})]}),e.jsx("p",{className:"tracking-wide text-sm uppercase text-gray-500 font-medium",children:"Loading contacts..."})]})}):e.jsx("div",{className:"min-h-screen bg-white py-4 sm:py-8",children:e.jsxs("div",{className:"max-w-full mx-auto px-3 sm:px-4 lg:px-8",children:[e.jsxs("div",{className:"mb-8 animate-fade-in-down",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 tracking-tight",children:"Contacts"}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1 self-start sm:self-auto",children:[e.jsx("button",{onClick:()=>V("details"),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-all duration-200 ${Y==="details"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"View individual contacts",children:"Details"}),e.jsx("button",{onClick:()=>V("company"),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-md text-xs sm:text-sm font-medium transition-all duration-200 ${Y==="company"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,title:"View companies grouped by name",children:"Company"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsxs("span",{className:"inline-flex items-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold bg-gray-50 text-gray-700 border border-gray-200 shadow-sm",children:[v.total.toLocaleString()," ",v.total===1?"contact":"contacts"]}),v.totalPages>1&&e.jsxs("span",{className:"inline-flex items-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-200 shadow-sm",children:["Page ",$," of ",v.totalPages]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 font-medium hidden sm:inline",children:"Category:"}),e.jsx("span",{className:"inline-flex items-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold bg-blue-100 text-blue-800 border border-blue-200 shadow-sm truncate max-w-[150px] sm:max-w-none",children:I})]}),Y==="company"&&E.length>0&&e.jsxs("span",{className:"inline-flex items-center px-2 sm:px-4 py-1 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold bg-emerald-50 text-emerald-700 border border-emerald-200 shadow-sm",children:[E.length," ",E.length===1?"company":"companies"]}),os()&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs font-semibold bg-yellow-50 text-yellow-700 border border-yellow-200 shadow-sm",children:[e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Filters Active"}),e.jsx("span",{className:"sm:hidden",children:"Filters"})]})]})]})})}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-5 border border-gray-200 shadow-sm mb-4 sm:mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4 items-stretch lg:items-end",children:[e.jsxs("div",{className:"flex-1 flex flex-col sm:flex-row gap-2 sm:gap-3 w-full",children:[e.jsxs("form",{onSubmit:Me,className:"flex-1 flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400 group-focus-within:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",value:N,onChange:K=>M(K.target.value),onKeyDown:K=>{K.key==="Enter"&&Me(K)},placeholder:"Search by name, email, company, title...",className:"pl-11 pr-11 py-3 w-full border border-gray-300 rounded-lg text-sm text-gray-900 placeholder-gray-400 bg-white shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400"}),N&&e.jsx("button",{type:"button",onClick:Nt,className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-all duration-200 font-semibold text-sm whitespace-nowrap shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Search"})]}),e.jsxs("div",{className:"relative group w-full sm:w-64",children:[e.jsx("select",{value:I,onChange:K=>{const ke=K.target.value,Ce={page:"1"};ke!=="All"&&(Ce.category=ke),G&&(Ce.search=G),P&&(Ce.filterKeywords=P),X&&(Ce.filterCity=X),T&&(Ce.filterState=T),W&&(Ce.filterCountry=W),je&&(Ce.filterHasLinkedIn=je),C&&(Ce.filterHasEmail=C),H&&(Ce.filterHasPhone=H),h(Ce,{replace:!0})},className:"appearance-none bg-white border border-gray-300 rounded-lg px-3 sm:px-4 py-2 sm:py-3 pr-8 sm:pr-10 w-full text-xs sm:text-sm font-medium text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 cursor-pointer shadow-sm hover:border-gray-400 hover:shadow-md",children:ue.map(K=>e.jsx("option",{value:K,children:K},K))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 sm:pr-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500 group-hover:text-gray-700 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),e.jsx(v6,{category:I,searchParam:G,onApplyFilters:is,onClearFilters:Vt})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto flex-wrap sm:flex-nowrap",children:[m.length>0&&e.jsxs("button",{onClick:Ne,disabled:a,className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 active:bg-red-800 transition-all duration-200 font-semibold text-sm shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transform hover:scale-105 active:scale-100 flex-1 sm:flex-none disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsxs("span",{className:"hidden sm:inline",children:["Remove ",m.length>1?`(${m.length})`:""]}),e.jsx("span",{className:"sm:hidden",children:"Remove"})]}),e.jsxs("button",{onClick:()=>U("/import"),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 hover:border-gray-400 active:bg-gray-100 transition-all duration-200 font-semibold text-sm shadow-sm hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 flex-1 sm:flex-none",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("span",{className:"hidden sm:inline",children:"Import"})]}),e.jsxs("button",{onClick:()=>U("/contacts/new"),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 active:bg-gray-950 transition-all duration-200 font-semibold text-sm shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transform hover:scale-105 active:scale-100 flex-1 sm:flex-none",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("span",{className:"hidden sm:inline",children:"Add Contact"}),e.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]})})]}),l&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 text-red-700 px-5 py-4 rounded-lg shadow-md animate-shake",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-medium",children:l})]})}),n.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-lg shadow-sm border border-gray-200 animate-fade-in",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No contacts found"}),e.jsx("p",{className:"text-gray-600 mb-2",children:I==="All"?"No contacts found in the database.":e.jsxs(e.Fragment,{children:["No contacts found for category: ",e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-blue-100 text-blue-800 border border-blue-200",children:I})]})}),e.jsx("p",{className:"text-sm text-gray-500 mb-8",children:I==="All"?"Try using the search or filters to find contacts, or import contacts to get started.":"Switch to a different category using the dropdown above, or import/add contacts for this category."}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsx("button",{onClick:()=>U("/import"),className:"inline-flex items-center px-5 py-3 border border-gray-300 shadow-sm text-sm font-medium rounded-lg text-gray-900 bg-white hover:bg-gray-50 transition-all duration-200 hover:shadow-md",children:"Import CSV/Excel"}),e.jsx("button",{onClick:()=>U("/contacts/new"),className:"inline-flex items-center px-5 py-3 border border-transparent shadow-md text-sm font-medium rounded-lg text-white bg-gray-900 hover:bg-gray-800 transition-all duration-200 hover:shadow-lg transform hover:scale-105",children:"Add Contact"})]})]}):Y==="company"?e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden animate-fade-in",children:se?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading companies..."})]})}):E.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No companies found"}),e.jsx("p",{className:"text-gray-600 mb-2",children:os()?"No companies match the current filters. Try adjusting your search or filter criteria.":I==="All"?"No companies found in the database.":e.jsxs(e.Fragment,{children:["No companies found for category: ",e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-blue-100 text-blue-800 border border-blue-200",children:I})]})}),e.jsx("p",{className:"text-sm text-gray-500 mb-8",children:os()?"Clear filters or try a different search term.":"Try using the search or filters to find companies, or import contacts to get started."}),os()&&e.jsx("button",{onClick:Vt,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:"Clear All Filters"})]}):e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 300px)",overscrollBehavior:"contain"},children:e.jsx("div",{className:"divide-y divide-gray-200",children:E.map(K=>{const ke=K.name,Ce=D.has(ke);return e.jsxs("div",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1 cursor-pointer",onClick:()=>zt(ke),children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-lg font-bold text-blue-700",children:rn(ke)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ke}),e.jsxs("p",{className:"text-sm text-gray-500",children:[K.count," ",K.count===1?"person":"people"]})]})]}),e.jsx("button",{onClick:et=>{et.stopPropagation(),Cr(ke)},className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:`w-5 h-5 transition-transform ${Ce?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}),Ce&&e.jsx("div",{className:"bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"px-6 py-4 text-center",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["Click on the company name above to view all ",K.count," ",K.count===1?"contact":"contacts"]}),e.jsx("button",{onClick:()=>zt(ke),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View All Contacts"})]})})]},ke)})})})}):e.jsxs("div",{className:"bg-white border border-gray-200 overflow-hidden animate-fade-in",children:[e.jsxs("div",{className:"overflow-x-auto overflow-y-auto",style:{maxHeight:"calc(100vh - 300px)",overscrollBehavior:"contain",scrollBehavior:"auto"},children:[e.jsx("div",{className:"hidden md:block",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"w-12 px-4 py-3 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:m.length===n.length&&n.length>0,onChange:oe,className:"h-4 w-4 text-gray-900 focus:ring-gray-900 border-gray-300 rounded cursor-pointer"})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors whitespace-nowrap",style:{minWidth:"150px"},onClick:()=>Z("name"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["NAME",e.jsx("svg",{className:`w-4 h-4 flex-shrink-0 ${g==="name"?"text-gray-900":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap",style:{minWidth:"140px"},children:"JOB TITLE"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap",style:{minWidth:"180px"},children:"COMPANY"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap",style:{minWidth:"130px"},children:"CONTACT NUMBER"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap",style:{minWidth:"180px"},children:"EMAIL"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap",style:{minWidth:"110px"},children:"LINKEDIN"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider whitespace-nowrap",style:{minWidth:"140px"},children:"INDUSTRY"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",style:{minWidth:"180px"},children:"KEYWORDS"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:cs.map(K=>e.jsxs("tr",{onClick:()=>De(K._id),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",onClick:ke=>ke.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:m.includes(K._id),onChange:()=>te(K._id),className:"h-4 w-4 text-gray-900 focus:ring-gray-900 border-gray-300 rounded cursor-pointer"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 underline hover:text-gray-700",children:K.name||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:K.title||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xs font-semibold text-gray-700",children:rn(K.company)})}),e.jsx("div",{className:"text-sm text-gray-900",children:K.company||"-"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:K.firstPhone?e.jsx("a",{href:`tel:${K.firstPhone}`,onClick:ke=>ke.stopPropagation(),className:"hover:text-gray-700 hover:underline",children:K.firstPhone}):"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:K.email?e.jsx("a",{href:`mailto:${K.email}`,onClick:ke=>{ke.stopPropagation(),Se(K,ke)},className:"hover:text-gray-700 hover:underline",children:K.email}):"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:K.personLinkedinUrl||K.companyLinkedinUrl?e.jsxs("a",{href:K.personLinkedinUrl||K.companyLinkedinUrl,onClick:ke=>ke.stopPropagation(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium bg-blue-50 text-blue-700 hover:bg-blue-100 border border-blue-200 transition-colors whitespace-nowrap",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("span",{children:"LinkedIn"})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:K.industry||"-"})}),e.jsx("td",{className:"px-6 py-4",children:K.keywords?e.jsx("div",{className:"text-sm text-gray-900 cursor-pointer hover:text-blue-600 transition-colors",onClick:ke=>{ke.stopPropagation(),K.keywords.split(",").map(et=>et.trim()).filter(et=>et).length>3&&Gt(K._id)},title:K.keywords,children:Ia(K)}):e.jsx("div",{className:"text-sm text-gray-400",children:"-"})})]},K._id))})]})}),e.jsx("div",{className:"md:hidden space-y-3 p-3",children:cs.map(K=>e.jsxs("div",{onClick:()=>De(K._id),className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("input",{type:"checkbox",checked:m.includes(K._id),onChange:ke=>{ke.stopPropagation(),te(K._id)},className:"h-4 w-4 text-gray-900 focus:ring-gray-900 border-gray-300 rounded cursor-pointer flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate",children:K.name||"-"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:K.title||"-"})]})]})}),e.jsxs("div",{className:"space-y-2 text-xs",children:[K.company&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("span",{className:"text-gray-700 truncate",children:K.company})]}),K.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("a",{href:`mailto:${K.email}`,onClick:ke=>ke.stopPropagation(),className:"text-blue-600 hover:underline truncate",children:K.email})]}),K.firstPhone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("a",{href:`tel:${K.firstPhone}`,onClick:ke=>ke.stopPropagation(),className:"text-blue-600 hover:underline",children:K.firstPhone})]}),(K.personLinkedinUrl||K.companyLinkedinUrl)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("a",{href:K.personLinkedinUrl||K.companyLinkedinUrl,onClick:ke=>ke.stopPropagation(),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-xs",children:"LinkedIn Profile"})]}),K.industry&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:"Industry:"}),e.jsx("span",{className:"text-gray-700",children:K.industry})]}),K.keywords&&e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:"Keywords: "}),e.jsx("span",{className:"text-gray-700 text-xs",children:Ia(K)})]})]})]},K._id))})]}),v.totalPages>1&&e.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-t border-gray-200 bg-gray-50 flex flex-col sm:flex-row items-center justify-between gap-3",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-xs sm:text-sm text-gray-700",children:["Showing ",($-1)*v.limit+1," to ",Math.min($*v.limit,v.total)," of ",v.total.toLocaleString()," contacts"]})}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsxs("button",{onClick:()=>{if($>1){const ke={page:($-1).toString()};I!=="All"&&(ke.category=I),G&&(ke.search=G),h(ke,{replace:!0})}},disabled:$===1,className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("span",{className:"hidden sm:inline",children:"Previous"}),e.jsx("span",{className:"sm:hidden",children:"Prev"})]}),e.jsx("div",{className:"flex items-center gap-0.5 sm:gap-1",children:Array.from({length:Math.min(5,v.totalPages)},(K,ke)=>{let Ce;return v.totalPages<=5||$<=3?Ce=ke+1:$>=v.totalPages-2?Ce=v.totalPages-4+ke:Ce=$-2+ke,e.jsx("button",{onClick:()=>{const et={page:Ce.toString()};I!=="All"&&(et.category=I),G&&(et.search=G),h(et,{replace:!0})},className:`px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium rounded transition-colors ${$===Ce?"bg-gray-900 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:Ce},Ce)})}),e.jsx("button",{onClick:()=>{if($<v.totalPages){const ke={page:($+1).toString()};I!=="All"&&(ke.category=I),G&&(ke.search=G),h(ke,{replace:!0})}},disabled:$>=v.totalPages,className:"px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})})}function w6(){const{id:n}=Xs(),t=mt(),[a]=wi(),r=a.get("category"),l=a.get("returnTo"),[c,d]=k.useState(null),[h,m]=k.useState(!0),[f,g]=k.useState(!1),[b,w]=k.useState(null),[y,v]=k.useState(!1),[j,N]=k.useState(!1),[M,B]=k.useState("about"),A=k.useRef(!1);k.useEffect(()=>{Y()},[n]);const Y=async()=>{try{m(!0);const O=await Ae.get(`/contacts/${n}`);d(O.data?.data||O.data),w(null)}catch(O){w("Failed to fetch contact details."),console.error("Error fetching contact:",O)}finally{m(!1)}},V=async(O=!1)=>{if(!(!c||!(O&&c.companyLinkedinUrl?c.companyLinkedinUrl:c.personLinkedinUrl||c.companyLinkedinUrl)))try{g(!0);const I=O?`/linkedin/fetch/${n}?type=company`:`/linkedin/fetch/${n}`,$=await Ae.get(I),G=$.data?.data?.contact||$.data?.contact;G&&d(G)}catch(I){console.error("Error fetching LinkedIn data:",I)}finally{g(!1)}};k.useEffect(()=>{c&&(c.personLinkedinUrl||c.companyLinkedinUrl)&&!A.current&&(A.current=!0,V())},[c]);const D=O=>{if(!O)return"?";const U=O.trim().split(/\s+/);return U.length>=2?(U[0][0]+U[U.length-1][0]).toUpperCase():O.substring(0,2).toUpperCase()},z=O=>{if(!O)return"?";const U=O.trim().split(/\s+/);return U.length>=2?(U[0][0]+U[1][0]).toUpperCase():O.substring(0,2).toUpperCase()},E=()=>{if(!c?.company)return;const O=r||c.category||"",U=O?`?category=${encodeURIComponent(O)}`:"";t(`/contacts/company/${encodeURIComponent(c.company)}${U}`)};if(h)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-200 blur-xl animate-pulse opacity-30"}),e.jsx("div",{className:"relative animate-spin rounded-full h-16 w-16 border-4 border-gray-200 border-t-blue-600"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wider",children:"Loading Contact"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Please wait..."})]})]})});if(!c)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Contact Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The contact you're looking for doesn't exist or has been removed."}),e.jsxs("button",{onClick:()=>{if(l)t(l);else{const O=r?`?category=${encodeURIComponent(r)}`:"";t(`/contacts${O}`)}},className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),l?"Back":"Back to Contacts"]})]})]})});c.linkedinData;const F=[c.city,c.state,c.country].filter(Boolean).join(", ")||"Not specified",se=c.title&&c.company?`${c.title} at ${c.company}`:c.title||c.company||"";return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[e.jsx("nav",{className:"mb-4 sm:mb-6 animate-fade-in-down",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>{if(l)t(l);else{const O=r||c?.category||"",U=O?`?category=${encodeURIComponent(O)}`:"";t(`/contacts${U}`)}},className:"hover:text-gray-900 transition-colors duration-200 flex items-center gap-1 whitespace-nowrap",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"hidden sm:inline",children:l?"Back":"Contacts"}),e.jsx("span",{className:"sm:hidden",children:"Back"})]}),e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"text-gray-900 font-medium truncate",children:c.name})]})}),e.jsx("div",{className:"bg-white rounded-lg sm:rounded-xl border border-gray-200 shadow-sm p-4 sm:p-6 animate-fade-in-up",children:e.jsxs("div",{className:"flex flex-col items-center sm:items-start sm:flex-row gap-4 sm:gap-6",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-xl sm:text-2xl font-bold text-white shadow-lg ring-2 sm:ring-4 ring-blue-50",children:D(c.name)})}),e.jsxs("div",{className:"flex-1 min-w-0 w-full sm:w-auto text-center sm:text-left",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-center sm:items-start gap-2 sm:gap-3 mb-2",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 break-words",children:c.name}),c.category&&e.jsx("span",{className:"px-2 sm:px-3 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-full border border-blue-200 whitespace-nowrap",children:c.category})]}),se&&e.jsx("p",{className:"text-gray-600 text-base sm:text-lg mb-2 sm:mb-3 font-medium break-words",children:se}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-center sm:items-center gap-3 sm:gap-6 text-gray-600 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"break-words",children:F})]}),c.industry&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("span",{className:"break-words",children:c.industry})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[(c.personLinkedinUrl||c.companyLinkedinUrl)&&e.jsxs("a",{href:c.personLinkedinUrl||c.companyLinkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-blue-600 text-white font-semibold text-sm rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md w-full sm:w-auto",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("span",{className:"hidden sm:inline",children:"LinkedIn Profile"}),e.jsx("span",{className:"sm:hidden",children:"LinkedIn"})]}),c.email&&e.jsxs("a",{href:`mailto:${c.email}`,className:"inline-flex items-center justify-center gap-2 px-4 sm:px-5 py-2 sm:py-2.5 bg-white text-gray-700 font-semibold text-sm rounded-lg hover:bg-gray-50 transition-all duration-200 border border-gray-300 shadow-sm hover:shadow-md w-full sm:w-auto",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Send Email"}),e.jsx("span",{className:"sm:hidden",children:"Email"})]})]})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 bg-white",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden animate-fade-in-up hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-white border-b border-gray-200 flex items-center justify-between cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:()=>v(!y),children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Contact Information"}),e.jsx("span",{className:"sm:hidden",children:"Contact Info"})]}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:e.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${y?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),!y&&e.jsxs("div",{className:"px-4 sm:px-6 py-4 sm:py-6 space-y-4 sm:space-y-5 animate-fade-in bg-white",children:[c.email&&e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Email"}),e.jsxs("a",{href:`mailto:${c.email}`,className:"flex items-center gap-2 sm:gap-3 p-2 sm:p-3 bg-gray-50 rounded-lg hover:bg-blue-50 transition-all duration-200 border border-transparent hover:border-blue-200",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 flex-1 truncate min-w-0",children:c.email}),e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 group-hover:text-blue-600 transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),c.firstPhone&&e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Phone"}),e.jsxs("a",{href:`tel:${c.firstPhone}`,className:"flex items-center gap-2 sm:gap-3 p-2 sm:p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-200 border border-transparent hover:border-gray-200",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 flex-1 break-all",children:c.firstPhone}),e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 group-hover:text-gray-600 transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),c.companyPhone&&c.companyPhone!==c.firstPhone&&e.jsxs("div",{className:"group",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Company Phone"}),e.jsxs("a",{href:`tel:${c.companyPhone}`,className:"flex items-center gap-2 sm:gap-3 p-2 sm:p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-200 border border-transparent hover:border-gray-200",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 flex-1 break-all",children:c.companyPhone}),e.jsx("svg",{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-400 group-hover:text-gray-600 transition-colors flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden animate-fade-in-up hover:shadow-md transition-shadow duration-300",children:[e.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 bg-white border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("span",{className:"hidden sm:inline",children:"Company Insights"}),e.jsx("span",{className:"sm:hidden",children:"Company"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:"p-1.5 sm:p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-all duration-200 flex-shrink-0",onClick:()=>N(!j),children:e.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${j?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})})]}),!j&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsx("div",{className:"px-4 sm:px-6 pt-3 sm:pt-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-4 sm:gap-6 overflow-x-auto scrollbar-hide",children:[e.jsxs("button",{onClick:()=>B("about"),className:`pb-2 sm:pb-3 px-1 text-xs sm:text-sm font-semibold transition-all duration-200 whitespace-nowrap relative flex-shrink-0 ${M==="about"?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["About",M==="about"&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 rounded-full animate-slide-in"})]}),e.jsxs("button",{onClick:()=>B("employees"),className:`pb-2 sm:pb-3 px-1 text-xs sm:text-sm font-semibold transition-all duration-200 whitespace-nowrap relative flex-shrink-0 ${M==="employees"?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:["Employees ",c.employees&&e.jsxs("span",{className:"text-gray-400",children:["(",c.employees,")"]}),M==="employees"&&e.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 rounded-full animate-slide-in"})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-4 sm:py-6",children:c.company&&e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("button",{type:"button",onClick:E,className:"w-full flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6 p-3 sm:p-4 bg-gray-50 rounded-lg border border-gray-200 text-left hover:bg-blue-50 hover:border-blue-200 transition-colors duration-200",children:[e.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg shadow-sm flex-shrink-0",children:z(c.company)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-1 break-words",children:c.company}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"View company profile & insights"})]}),e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),M==="about"&&e.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[c.industry&&e.jsxs("div",{className:"p-3 sm:p-4 bg-white rounded-lg border border-gray-200",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Industry"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 break-words",children:c.industry})]}),c.category&&e.jsxs("div",{className:"p-3 sm:p-4 bg-white rounded-lg border border-gray-200",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Category"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 break-words",children:c.category})]}),e.jsxs("div",{className:"p-3 sm:p-4 bg-white rounded-lg border border-gray-200",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Location"}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-900 break-words",children:[c.companyCity,c.companyState,c.companyCountry].filter(Boolean).join(", ")||[c.city,c.state,c.country].filter(Boolean).join(", ")||"Not specified"})]}),c.website&&e.jsxs("div",{className:"p-3 sm:p-4 bg-white rounded-lg border border-gray-200",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Website"}),e.jsxs("a",{href:c.website.startsWith("http")?c.website:`https://${c.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs sm:text-sm font-medium text-blue-600 hover:text-blue-700 hover:underline inline-flex items-center gap-1 break-all",children:[c.website,e.jsx("svg",{className:"w-3 h-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]})]}),c.companyAddress&&e.jsxs("div",{className:"p-3 sm:p-4 bg-white rounded-lg border border-gray-200",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Address"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-700 break-words",children:c.companyAddress})]}),c.keywords&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 sm:mb-3 block",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.keywords.split(",").map((O,U)=>e.jsx("span",{className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-gray-50 text-gray-700 text-xs sm:text-sm font-medium rounded-lg border border-gray-200 hover:bg-gray-100 transition-all duration-200 cursor-default",children:O.trim()},U))})]})]}),M==="employees"&&e.jsx("div",{className:"animate-fade-in",children:c.employees?e.jsx("div",{className:"p-4 sm:p-6 bg-white rounded-lg border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 block",children:"Number of Employees"}),e.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:c.employees})]})}):e.jsxs("div",{className:"text-center py-8 sm:py-12 bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:e.jsx("svg",{className:"w-6 h-6 sm:w-8 sm:h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"No employees data available"})]})})]})})]})]})})]})})]})}function ey({isOpen:n,onClose:t,type:a,contactName:r,companyName:l,projectId:c,contactId:d,phoneNumber:h,email:m,linkedInProfileUrl:f,activityId:g,editMode:b=!1,lastActivity:w=null}){const[y,v]=k.useState({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:"",email:"",linkedInUrl:"",status:"",linkedInAccountName:"",lnRequestSent:"",connected:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),[j,N]=k.useState({}),[M,B]=k.useState(!1),[A,Y]=k.useState(!1),[V,D]=k.useState({phone:!1,email:!1,linkedin:!1}),[z,E]=k.useState({phone:null,email:null,linkedin:null}),[F,se]=k.useState(!1),[O,U]=k.useState([]),[I,$]=k.useState(""),[G,P]=k.useState(!1),X=k.useRef(!1);k.useEffect(()=>{const oe=localStorage.getItem("linkedInAccounts");if(oe)try{U(JSON.parse(oe))}catch(te){console.error("Error parsing LinkedIn accounts:",te),U([])}else U([])},[]);const T=()=>{if(I.trim()&&!O.includes(I.trim())){const oe=[...O,I.trim()];U(oe),localStorage.setItem("linkedInAccounts",JSON.stringify(oe)),v(te=>({...te,linkedInAccountName:I.trim()})),$(""),P(!1)}},W=async()=>{try{const oe=await Ae.get(`/activities/${g}`);if(oe.data.success){const te=oe.data.data;v({template:te.template||"",outcome:te.outcome||"",conversationNotes:te.conversationNotes||"",nextAction:te.nextAction||"",nextActionDate:te.nextActionDate?new Date(te.nextActionDate).toISOString().split("T")[0]:"",phoneNumber:te.phoneNumber||h||"",email:te.email||m||"",linkedInUrl:te.linkedInUrl||f||"",status:te.status||"",linkedInAccountName:te.linkedInAccountName||"",lnRequestSent:te.lnRequestSent||"",connected:te.connected||"",callNumber:te.callNumber||"",callStatus:te.callStatus||"",callDate:te.callDate?new Date(te.callDate).toISOString().split("T")[0]:"",emailDate:te.emailDate?new Date(te.emailDate).toISOString().split("T")[0]:te.createdAt?new Date(te.createdAt).toISOString().split("T")[0]:"",linkedinDate:te.linkedinDate?new Date(te.linkedinDate).toISOString().split("T")[0]:te.createdAt?new Date(te.createdAt).toISOString().split("T")[0]:""}),E({phone:te.phoneNumber||h||null,email:te.email||m||null,linkedin:te.linkedInUrl||f||null})}}catch(oe){console.error("Error fetching activity data:",oe),N({submit:"Couldn't load the activity details. Try refreshing."})}},je=async()=>{if(!d||!a)return null;try{const oe=await Ae.get(`/activities/contact/${d}`);if(oe.data.success&&oe.data.data){const Ne=oe.data.data.filter(Z=>Z.type===a);if(Ne.length>0)return Ne.sort((Z,Se)=>new Date(Se.createdAt)-new Date(Z.createdAt)),Ne[0]}}catch(oe){console.error("Error fetching last activity by type:",oe)}return null};if(k.useEffect(()=>{if(n&&!X.current){setTimeout(()=>Y(!0),10);const oe=new Date().toISOString().split("T")[0];if(X.current=!0,b&&g)W();else if(w){const te=w;v({template:te.template||"",outcome:te.outcome||"",conversationNotes:te.conversationNotes||"",nextAction:te.nextAction||"",nextActionDate:te.nextActionDate?new Date(te.nextActionDate).toISOString().split("T")[0]:"",phoneNumber:te.phoneNumber||h||"",email:te.email||m||"",linkedInUrl:te.linkedInUrl||f||"",status:te.status||"",linkedInAccountName:te.linkedInAccountName||"",lnRequestSent:te.lnRequestSent||"",connected:te.connected||"",callNumber:te.callNumber||"",callStatus:te.callStatus||"",callDate:te.callDate?new Date(te.callDate).toISOString().split("T")[0]:te.type==="call"?oe:"",emailDate:te.emailDate?new Date(te.emailDate).toISOString().split("T")[0]:te.type==="email"?oe:"",linkedinDate:te.linkedinDate?new Date(te.linkedinDate).toISOString().split("T")[0]:te.type==="linkedin"?oe:""}),E({phone:te.phoneNumber||h||null,email:te.email||m||null,linkedin:te.linkedInUrl||f||null}),te.type!==a&&je().then(Ne=>{Ne&&v(Z=>{const Se={...Z};return a==="call"&&Ne.callDate?Se.callDate=new Date(Ne.callDate).toISOString().split("T")[0]:a==="email"&&Ne.emailDate?Se.emailDate=new Date(Ne.emailDate).toISOString().split("T")[0]:a==="linkedin"&&Ne.linkedinDate&&(Se.linkedinDate=new Date(Ne.linkedinDate).toISOString().split("T")[0]),Se})})}else v(te=>({...te,phoneNumber:h||"",email:m||"",linkedInUrl:f||"",callDate:a==="call"?oe:"",emailDate:a==="email"?oe:"",linkedinDate:a==="linkedin"?oe:""})),E({phone:h||null,email:m||null,linkedin:f||null}),je().then(te=>{te&&v(Ne=>{const Z={...Ne};return a==="call"&&te.callDate?Z.callDate=new Date(te.callDate).toISOString().split("T")[0]:a==="email"&&te.emailDate?Z.emailDate=new Date(te.emailDate).toISOString().split("T")[0]:a==="linkedin"&&te.linkedinDate&&(Z.linkedinDate=new Date(te.linkedinDate).toISOString().split("T")[0]),Z})})}else n||(Y(!1),X.current=!1)},[n,b,g,a,h,m,f,d||null,w?._id]),!n)return null;const C=()=>{const oe="w-5 h-5";switch(a){case"call":return e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:`${oe} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})});case"email":return e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:`${oe} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})});case"linkedin":return e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:`${oe} text-white`,fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})});default:return null}},H=()=>{if(b)switch(a){case"call":return"Edit Call Activity";case"email":return"Edit Email Activity";case"linkedin":return"Edit LinkedIn Activity";default:return"Edit Activity"}switch(a){case"call":return"Log Call Activity";case"email":return"Log Email Activity";case"linkedin":return"Log LinkedIn Activity";default:return"Log Activity"}},ue=()=>{switch(a){case"call":return"from-green-50 to-emerald-50";case"email":return"from-blue-50 to-cyan-50";case"linkedin":return"from-blue-50 to-indigo-50";default:return"from-gray-50 to-gray-100"}},ge=(oe,te)=>{v(Ne=>({...Ne,[oe]:te})),j[oe]&&N(Ne=>({...Ne,[oe]:""}))},L=()=>{const oe={};if(y.nextAction&&!y.nextActionDate&&(oe.nextActionDate="Next action date is required when next action is specified"),y.nextActionDate){const te=new Date(y.nextActionDate),Ne=new Date,Z=new Date(Ne);Z.setDate(Z.getDate()+7),te>Z&&(oe.nextActionDate="Next action must be scheduled within 7 days")}return N(oe),Object.keys(oe).length===0},J=async oe=>{if(oe.preventDefault(),!!L()){B(!0);try{const te=y.conversationNotes.trim()||"";let Ne;const Z=y.callDate&&y.callDate.trim()?y.callDate.trim():null,Se=y.emailDate&&y.emailDate.trim()?y.emailDate.trim():null,Me=y.linkedinDate&&y.linkedinDate.trim()?y.linkedinDate.trim():null;if(b&&g?Ne=await Ae.put(`/activities/${g}`,{template:y.template,conversationNotes:te,nextAction:y.nextAction,nextActionDate:y.nextActionDate,phoneNumber:y.phoneNumber||h||null,email:y.email||m||null,linkedInUrl:y.linkedInUrl||f||null,status:y.status||null,linkedInAccountName:y.linkedInAccountName||null,lnRequestSent:y.lnRequestSent||null,connected:y.connected||null,callNumber:y.callNumber||null,callStatus:y.callStatus||null,callDate:Z,emailDate:Se,linkedinDate:Me}):Ne=await Ae.post("/activities",{projectId:c,contactId:d||null,type:a,template:y.template,outcome:null,conversationNotes:te,nextAction:y.nextAction,nextActionDate:y.nextActionDate,phoneNumber:y.phoneNumber||h||null,email:y.email||m||null,linkedInUrl:y.linkedInUrl||f||null,status:y.status||null,linkedInAccountName:y.linkedInAccountName||null,lnRequestSent:y.lnRequestSent||null,connected:y.connected||null,callNumber:y.callNumber||null,callStatus:y.callStatus||null,callDate:Z,emailDate:Se,linkedinDate:Me}),Ne.data.success&&y.status&&d&&c)try{await Ae.put(`/projects/${c}/project-contacts/${d}`,{stage:y.status})}catch(Nt){console.error("Error updating contact status:",Nt)}Ne.data.success?(v({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:h||"",email:m||"",linkedInUrl:f||"",status:"",linkedInAccountName:"",lnRequestSent:"",connected:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),t()):N({submit:Ne.data.error||"Couldn't save that activity. Give it another try."})}catch(te){console.error("Error saving activity:",te);const Ne=te.response?.data?.error||te.message||"Something went wrong saving the activity. Try again.";N({submit:Ne})}finally{B(!1)}}},ie=()=>{v({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:"",email:"",linkedInUrl:"",status:"",linkedInAccountName:"",lnRequestSent:"",connected:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),N({}),E({phone:null,email:null,linkedin:null}),D({phone:!1,email:!1,linkedin:!1}),se(!1),t()},De=async(oe,te,Ne)=>{if(d){D(Z=>({...Z,[oe]:!0}));try{const Z={[Ne]:te||""};await Ae.put(`/contacts/${d}`,Z),E(Se=>({...Se,[oe]:te||null})),oe==="phone"?v(Se=>({...Se,phoneNumber:te||""})):oe==="email"?v(Se=>({...Se,email:te||""})):oe==="linkedin"&&v(Se=>({...Se,linkedInUrl:te||""}))}catch(Z){console.error(`Error saving ${oe}:`,Z),N({submit:`Couldn't save ${oe}. Give it another shot.`})}finally{D(Z=>({...Z,[oe]:!1}))}}};return e.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ${A?"opacity-100":"opacity-0"}`,onClick:ie,children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 ${A?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,onClick:oe=>oe.stopPropagation(),children:[e.jsx("div",{className:`bg-gradient-to-r ${ue()} border-b border-gray-200 p-4 flex-shrink-0`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[F&&e.jsx("button",{onClick:()=>se(!1),className:"w-8 h-8 flex items-center justify-center rounded-lg text-gray-600 hover:text-gray-900 hover:bg-white/50 transition-all duration-200 group",title:"Back to form",children:e.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"animate-pulse-once",children:C()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-0.5",children:F&&a==="linkedin"?"LinkedIn Message Variations":F&&a==="email"?"Email Variations":H()}),!F&&e.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:[r," - ",l]})]})]}),e.jsx("button",{onClick:ie,className:"w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-white/50 transition-all duration-200 group",children:e.jsx("svg",{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),F&&a==="linkedin"?e.jsx("div",{className:"p-4 bg-gray-50 overflow-y-auto flex-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-yellow-100",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Existing"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 3"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"1st message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I'm usually in touch with teams managing residential projects and leasing, so I was just curious how you manage bookings, rentals, and property maintenance across your units."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I mostly connect with people working in residential and leasing rolesit keeps me close to how things really move on a day-to-day basis."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"The world today feels like one connected marketplace, and being part of the real estate ecosystem, I enjoy connecting with people who are building and managing things on the ground. Looking forward to connecting and exchanging perspectives."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"2nd Message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I've noticed that no two property teams manage bookings, rentals, and maintenance the same way. I'm always interested in hearing how others handle it in practice."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"Always open to exchanging thoughts and learning how things are shaping up on your side. Would be great to stay connected."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"We work closely with property teams to simplify how day-to-day operations are managed  from rentals and billing to maintenance  so things feel more connected and easier to handle."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"3rd Message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"Everyday operational conversations around properties quietly offer the most value in understanding how things really work."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"Enjoy grounded conversations around real work and real challenges. Happy to stay connected and exchange insights whenever it makes sense."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"We believe real value often comes from reducing small operational frictions and giving teams better visibility into what's happening across their properties."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"4th Message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I'm always interested in seeing how teams optimize their workflowsdo you have any strategies that make managing bookings and maintenance simpler?"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I value thoughtful conversations with people close to the work. Whenever it feels right, I'd enjoy exchanging insights as things evolve on your side."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"No worries if you didn't catch my earlier message. Just checking if you're up for a chat about possible ways we can team up and grow together."})]})]})]})})})}):F&&a==="email"?e.jsx("div",{className:"p-4 bg-gray-50 overflow-y-auto flex-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-yellow-100",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300 w-[15%]",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 3"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 4"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"1st Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I work closely with people involved in residential projects and leasing, and I enjoy staying connected with those who are close to the day-to-day side of property work."}),e.jsx("p",{children:"At Terabits, we focus on making everyday property operations a little easier by keeping rentals, billing, and maintenance in one place."}),e.jsx("p",{children:"Happy to connect."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I usually stay in touch with people working close to residential projects and leasing. I've found those conversations tend to be the most honest and practical."}),e.jsx("p",{children:"I'm part of the Terabits team, where we focus on making everyday property operations easier to manage."}),e.jsx("p",{children:"Nice to connect."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold",children:"Subject: Exchanging notes on leasing & residential work"}),e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I usually stay in touch with people working on residential projects and leasing. I've found these conversations to be the most practical."}),e.jsx("p",{children:'When it comes to daily management, where do you usually find the most friction or "extra work" in your current process?'})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I tend to reach out to people in residential leasing because the conversations are usually more practical."}),e.jsx("p",{children:`I'm curiouswhen it comes to your daily management, where do things usually get stuck or feel like a "headache" for your team?`}),e.jsx("p",{children:"Nice to connect,"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"2nd Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"Just wanted to follow up on my last note."}),e.jsx("p",{children:"We usually speak with property teams who want a bit more clarity in their daily workflows without changing how they already operate."}),e.jsx("p",{children:"Always good to stay in touch."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"Just sharing a short follow-up."}),e.jsx("p",{children:"Most of our discussions with property teams revolve around simplifying rentals, maintenance, and billing without adding extra complexity to daily work."}),e.jsx("p",{children:"Happy to stay in touch."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"Most of our discussions with property teams revolve around simplifying rentals, maintenance, and billing."}),e.jsx("p",{children:"This is where Terabits usually steps inwe focus on making those everyday operations feel less like a chore so you can focus on the bigger picture."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"That's usually where we come in. At Terabits, we focus on making those messy partslike rentals, maintenance, and billingfeel a lot more manageable."}),e.jsx("p",{children:"We try to keep the tech simple so it actually helps the team instead of adding more work to their day."}),e.jsx("p",{children:"Happy to stay in touch,"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"3rd Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing we often notice is that small improvements in visibility can make day-to-day property work feel much more manageable."}),e.jsx("p",{children:"Thought I'd share that with you."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing I often hear is that even small clarity in systems can make a big difference in day-to-day property operations."}),e.jsx("p",{children:"Thought I'd share that with you."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing I often hear is that small clarity in systems makes a big difference."}),e.jsx("p",{children:"Specifically, we help by automating the repetitive stufflike tracking maintenance requests or streamlining billing workflowswithout adding extra complexity to your day-to-day work."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing I've noticed is that just adding a bit of clarity to maintenance tracking or billing can save a lot of hours."}),e.jsx("p",{children:"We mostly help by automating those repetitive tasks so they just happen in the background. It's a small change that usually makes the day-to-day much smoother."}),e.jsx("p",{children:"Thought I'd share that."})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"4th Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I'll leave it here for now."}),e.jsx("p",{children:"If at any point it feels useful to exchange notes around property operations or workflows, I'm always happy to connect."}),e.jsx("p",{children:"Wishing you a great week ahead."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I won't take more of your time."}),e.jsx("p",{children:"If at any point it feels useful to exchange notes around property operations or workflows, I'm always happy to connect."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I won't take more of your time."}),e.jsx("p",{children:"If at any point it feels useful to exchange notes around property operations or workflows, I'm always happy to connect."}),e.jsx("p",{children:"Take care."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I'll leave it here as I don't want to crowd your inbox."}),e.jsx("p",{children:"If you ever want to swap notes on how to make property workflows easier, I'm always happy to chat."}),e.jsx("p",{children:"Wishing you the best,"})]})})]})]})]})})})}):e.jsx("form",{onSubmit:J,className:"p-4 bg-gray-50 overflow-y-auto flex-1",children:e.jsxs("div",{className:"space-y-4",children:[a==="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("input",{type:"tel",value:y.phoneNumber,onChange:oe=>ge("phoneNumber",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",placeholder:z.phone||h?"":"Add phone number (e.g., +1 234-567-8900)"})]}),d&&e.jsx("button",{type:"button",onClick:()=>De("phone",y.phoneNumber,"firstPhone"),disabled:V.phone,className:"px-3 py-2 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 whitespace-nowrap",title:"Save to database",children:V.phone?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})})]}),(z.phone||h)&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),z.phone?`Saved in database: ${z.phone}`:`Fetched from database: ${h}`]})]}),a==="email"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("input",{type:"email",value:y.email,onChange:oe=>ge("email",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",placeholder:z.email||m?"":"Add email address (e.g., contact@example.com)"})]}),d&&e.jsx("button",{type:"button",onClick:()=>De("email",y.email,"email"),disabled:V.email,className:"px-3 py-2 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 whitespace-nowrap",title:"Save to database",children:V.email?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})})]}),(z.email||m)&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),z.email?`Saved in database: ${z.email}`:`Fetched from database: ${m}`]})]}),a==="email"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Email Date ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("input",{type:"date",value:y.emailDate,onChange:oe=>ge("emailDate",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",placeholder:"Select email date"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select the date when the email was sent"]})]}),a==="linkedin"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["LinkedIn Profile URL ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),e.jsx("input",{type:"url",value:y.linkedInUrl,onChange:oe=>ge("linkedInUrl",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",placeholder:z.linkedin||f?"":"Add LinkedIn profile URL (e.g., https://linkedin.com/in/username)"})]}),d&&e.jsx("button",{type:"button",onClick:()=>De("linkedin",y.linkedInUrl,"personLinkedinUrl"),disabled:V.linkedin,className:"px-3 py-2 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 whitespace-nowrap",title:"Save to database",children:V.linkedin?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})})]}),(z.linkedin||f)&&e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),z.linkedin?e.jsxs(e.Fragment,{children:["Saved in database: ",e.jsx("a",{href:z.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:z.linkedin})]}):e.jsxs(e.Fragment,{children:["Fetched from database: ",e.jsx("a",{href:f,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:f})]})]})]}),a==="linkedin"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["LinkedIn Date ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("input",{type:"date",value:y.linkedinDate,onChange:oe=>ge("linkedinDate",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",placeholder:"Select LinkedIn date"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select the date when the LinkedIn activity occurred"]})]}),a!=="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Select Template (Optional)"}),(a==="linkedin"||a==="email")&&e.jsxs("button",{type:"button",onClick:()=>se(!0),className:"px-3 py-1.5 text-xs font-semibold text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-all duration-200 flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a==="email"?"View Email Variations":"View Message Variations"]})]}),e.jsxs("select",{value:y.template,onChange:oe=>ge("template",oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"no-template",children:"No Template"}),a==="email"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"introduction-email",children:"Introduction Email"}),e.jsx("option",{value:"follow-up-email",children:"Follow-up Email"}),e.jsx("option",{value:"value-proposition-email",children:"Value Proposition Email"})]}):a==="linkedin"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"connection-request-message",children:"Connection Request Message"}),e.jsx("option",{value:"introduction-message",children:"Introduction Message"}),e.jsx("option",{value:"follow-up-message",children:"Follow-up Message"})]}):null]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Use a pre-defined template for consistency"]})]}),a==="linkedin"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["LinkedIn Account Used ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),e.jsxs("select",{value:y.linkedInAccountName,onChange:oe=>ge("linkedInAccountName",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",children:[e.jsx("option",{value:"",children:"Select LinkedIn account"}),O.map((oe,te)=>e.jsx("option",{value:oe,children:oe},te))]})]}),e.jsx("button",{type:"button",onClick:()=>P(!G),className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors whitespace-nowrap",children:G?"Cancel":"+ Add"})]}),G&&e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("input",{type:"text",value:I,onChange:oe=>$(oe.target.value),onKeyPress:oe=>{oe.key==="Enter"&&(oe.preventDefault(),T())},className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter new LinkedIn account name"}),e.jsx("button",{type:"button",onClick:T,disabled:!I.trim()||O.includes(I.trim()),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select or add a LinkedIn account that sent the connection request"]})]}),a==="linkedin"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Ln Request Sent ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:y.lnRequestSent,onChange:oe=>ge("lnRequestSent",oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Existing Connect",children:"Existing Connect"}),e.jsx("option",{value:"Inactive Profile",children:"Inactive Profile"}),e.jsx("option",{value:"Irrelevant Profile",children:"Irrelevant Profile"}),e.jsx("option",{value:"Open to Work",children:"Open to Work"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Status of the LinkedIn connection request"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Connected ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:y.connected,onChange:oe=>ge("connected",oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Whether the connection was established"]})]})]}),(a==="email"||a==="linkedin")&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Status ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:y.status,onChange:oe=>ge("status",oe.target.value),className:`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 ${j.status?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select status"}),a==="email"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"No Reply",children:"No Reply"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Out of Office",children:"Out of Office"}),e.jsx("option",{value:"Meeting Proposed",children:"Meeting Proposed"}),e.jsx("option",{value:"Meeting Scheduled",children:"Meeting Scheduled"}),e.jsx("option",{value:"Interested",children:"Interested"}),e.jsx("option",{value:"Wrong Person",children:"Wrong Person"}),e.jsx("option",{value:"Bounce",children:"Bounce"}),e.jsx("option",{value:"Opt-Out",children:"Opt-Out"}),e.jsx("option",{value:"Meeting Completed",children:"Meeting Completed"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"CIP",children:"CIP"}),e.jsx("option",{value:"No Reply",children:"No Reply"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Meeting Proposed",children:"Meeting Proposed"}),e.jsx("option",{value:"Meeting Scheduled",children:"Meeting Scheduled"}),e.jsx("option",{value:"In-Person Meeting",children:"In-Person Meeting"}),e.jsx("option",{value:"Meeting Completed",children:"Meeting Completed"}),e.jsx("option",{value:"SQL",children:"SQL"}),e.jsx("option",{value:"Tech Discussion",children:"Tech Discussion"}),e.jsx("option",{value:"WON",children:"WON"}),e.jsx("option",{value:"Lost",children:"Lost"}),e.jsx("option",{value:"Low Potential - Open",children:"Low Potential - Open"}),e.jsx("option",{value:"Potential Future",children:"Potential Future"})]})]}),j.status&&e.jsxs("p",{className:"mt-2 text-xs text-red-600 flex items-center gap-1 animate-shake",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),j.status]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a==="email"?"Update the contact status based on this email interaction":"Update the contact status based on this interaction"]})]}),a==="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Call ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsxs("select",{value:y.callNumber,onChange:oe=>ge("callNumber",oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",children:[e.jsx("option",{value:"",children:"Select call number"}),e.jsx("option",{value:"1st call",children:"1st call"}),e.jsx("option",{value:"2nd call",children:"2nd call"}),e.jsx("option",{value:"3rd call",children:"3rd call"}),e.jsx("option",{value:"4th call",children:"4th call"}),e.jsx("option",{value:"5th call",children:"5th call"}),e.jsx("option",{value:"6th call",children:"6th call"}),e.jsx("option",{value:"7th call",children:"7th call"}),e.jsx("option",{value:"8th call",children:"8th call"}),e.jsx("option",{value:"9th call",children:"9th call"}),e.jsx("option",{value:"10th call",children:"10th call"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("input",{type:"date",value:y.callDate,onChange:oe=>ge("callDate",oe.target.value),className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",placeholder:"Select call date"})]})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select which call attempt this is and the date when the call was made"]})]}),a==="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Status ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:y.callStatus,onChange:oe=>ge("callStatus",oe.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"Interested",children:"Interested"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Ring",children:"Ring"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"Call Back",children:"Call Back"}),e.jsx("option",{value:"Hang Up",children:"Hang Up"}),e.jsx("option",{value:"Switch Off",children:"Switch Off"}),e.jsx("option",{value:"Future",children:"Future"}),e.jsx("option",{value:"Details Shared",children:"Details Shared"}),e.jsx("option",{value:"Demo Booked",children:"Demo Booked"}),e.jsx("option",{value:"Invalid",children:"Invalid"}),e.jsx("option",{value:"Existing",children:"Existing"}),e.jsx("option",{value:"Demo Completed",children:"Demo Completed"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select the status of this call"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Conversation Notes ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(optional, but helpful)"})]}),e.jsx("textarea",{value:y.conversationNotes,onChange:oe=>ge("conversationNotes",oe.target.value),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-y font-sans hover:border-gray-400",placeholder:"Document key points, objections, interests, and next steps discussed... (Optional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Next Action ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:y.nextAction,onChange:oe=>ge("nextAction",oe.target.value),className:`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 ${j.nextAction?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"follow-up-call",children:"Follow-up Call"}),e.jsx("option",{value:"send-proposal",children:"Send Proposal"}),e.jsx("option",{value:"schedule-meeting",children:"Schedule Meeting"}),e.jsx("option",{value:"send-email",children:"Send Email"}),e.jsx("option",{value:"connect-linkedin",children:"Connect on LinkedIn"})]}),j.nextAction&&e.jsxs("p",{className:"mt-2 text-xs text-red-600 flex items-center gap-1 animate-shake",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),j.nextAction]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"What should happen next?"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Next Action Date ",e.jsx("span",{className:y.nextAction?"text-red-500":"text-gray-400 text-xs font-normal",children:y.nextAction?"*":"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:y.nextActionDate,onChange:oe=>ge("nextActionDate",oe.target.value),className:`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 ${j.nextActionDate?"border-red-300 bg-red-50":"border-gray-300"}`}),e.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),j.nextActionDate&&e.jsxs("p",{className:"mt-2 text-xs text-red-600 flex items-center gap-1 animate-shake",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),j.nextActionDate]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"When should this happen?"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-4 shadow-sm hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0 animate-pulse",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xs font-bold text-blue-900 mb-2",children:"Quality Check Requirements:"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),e.jsx("span",{children:"Add notes to keep track of what happened during this interaction"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),e.jsx("span",{children:"Next action must be scheduled within 7 days"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-blue-500 mt-0.5",children:""}),e.jsx("span",{children:"Next Action and Next Action Date are optional"})]})]})]})]})}),j.submit&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 animate-shake",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-medium text-red-700",children:j.submit})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:ie,className:"px-4 py-2 text-xs font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:M,className:"px-4 py-2 text-xs font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:hover:scale-100",children:M?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Activity"]})})]})]})})]})})}function N6(){const{id:n}=Xs(),t=mt(),[a]=wi(),r=a.get("projectId"),l=a.get("returnTo")||"/projects",[c,d]=k.useState(null),[h,m]=k.useState([]),[f,g]=k.useState(!0),[b,w]=k.useState(null),[y,v]=k.useState("all"),[j,N]=k.useState(!1),[M,B]=k.useState({name:"",email:"",firstPhone:"",personLinkedinUrl:"",company:""}),[A,Y]=k.useState(!1),[V,D]=k.useState({isOpen:!1,type:null,contactName:"",companyName:"",projectId:null,contactId:null,phoneNumber:null,email:null,linkedInProfileUrl:null,activityId:null,editMode:!1});k.useEffect(()=>{n&&(z(),U())},[n]);const z=async()=>{try{const L=await Ae.get(`/contacts/${n}`),J=L.data?.data||L.data;d(J),B({name:J?.name||"",email:J?.email||"",firstPhone:J?.firstPhone||"",personLinkedinUrl:J?.personLinkedinUrl||J?.companyLinkedinUrl||"",company:J?.company||""})}catch(L){console.error("Error fetching contact:",L),w("Couldn't load the contact details. Try refreshing the page.")}},E=()=>{N(!0)},F=()=>{N(!1),c&&B({name:c.name||"",email:c.email||"",firstPhone:c.firstPhone||"",personLinkedinUrl:c.personLinkedinUrl||c.companyLinkedinUrl||"",company:c.company||""})},se=async()=>{if(n){Y(!0);try{const L={name:M.name.trim(),email:M.email.trim(),firstPhone:M.firstPhone.trim(),personLinkedinUrl:M.personLinkedinUrl.trim(),company:M.company.trim()},J=await Ae.put(`/contacts/${n}`,L);J.data.success&&(d(J.data.data),N(!1),U())}catch(L){console.error("Error updating contact:",L),alert(L.response?.data?.error||"Couldn't save those changes. Give it another try.")}finally{Y(!1)}}},O=(L,J)=>{B(ie=>({...ie,[L]:J}))},U=async()=>{try{g(!0);const L=await Ae.get(`/activities/contact/${n}`);L.data.success&&m(L.data.data||[]),w(null)}catch(L){console.error("Error fetching activities:",L),w("Having trouble loading the activity history. Refresh the page and try again.")}finally{g(!1)}},I=(L,J=null)=>{c&&D({isOpen:!0,type:J?J.type:L,contactName:c.name||"N/A",companyName:c.company||"",projectId:J?J.projectId?._id||J.projectId:r||null,contactId:n,phoneNumber:c.firstPhone||null,email:c.email||null,linkedInProfileUrl:c.personLinkedinUrl||c.companyLinkedinUrl||null,activityId:J?J._id:null,editMode:!!J})},$=()=>{D({isOpen:!1,type:null,contactName:"",companyName:"",projectId:null,contactId:null,phoneNumber:null,email:null,linkedInProfileUrl:null,activityId:null,editMode:!1}),U()},G=L=>{if(!L)return"?";const J=L.trim().split(/\s+/);return J.length>=2?(J[0][0]+J[J.length-1][0]).toUpperCase():L.substring(0,2).toUpperCase()},P=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",X=L=>L?new Date(L).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A",T=L=>{switch(L){case"call":return e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})});case"email":return e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})});case"linkedin":return e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})});default:return null}},W=L=>{switch(L){case"call":return"Call";case"email":return"Email";case"linkedin":return"LinkedIn";default:return"Activity"}},je=h.filter(L=>y==="all"?!0:L.type===y),C=h.filter(L=>L.type==="call"),H=h.filter(L=>L.type==="email"),ue=h.filter(L=>L.type==="linkedin"),ge=L=>{const ie={"connected-had-conversation":{bg:"bg-green-100",text:"text-green-800",label:"Connected"},"left-voicemail":{bg:"bg-blue-100",text:"text-blue-800",label:"Voicemail"},"no-answer":{bg:"bg-gray-100",text:"text-gray-800",label:"No Answer"},"email-sent-successfully":{bg:"bg-green-100",text:"text-green-800",label:"Sent"},"received-reply":{bg:"bg-purple-100",text:"text-purple-800",label:"Reply Received"},"connection-request-sent":{bg:"bg-blue-100",text:"text-blue-800",label:"Request Sent"},"message-sent":{bg:"bg-green-100",text:"text-green-800",label:"Message Sent"}}[L]||{bg:"bg-gray-100",text:"text-gray-800",label:L};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ie.bg} ${ie.text}`,children:ie.label})};return f?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-200 blur-xl animate-pulse"}),e.jsx("div",{className:"relative animate-spin rounded-full h-14 w-14 border-2 border-gray-200 border-t-gray-900 mx-auto"})]}),e.jsx("p",{className:"tracking-wide text-sm uppercase text-gray-500 font-medium",children:"Loading activity history..."})]})}):b&&!c?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-6 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Contact"}),e.jsx("p",{className:"text-gray-600 mb-6",children:b}),e.jsxs("button",{onClick:()=>t(l),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]})]})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-8",children:[e.jsx("nav",{className:"mb-6 animate-fade-in-down",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("button",{onClick:()=>t(l),className:"hover:text-gray-900 transition-colors duration-200 flex items-center gap-1.5 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{children:"Back"})]}),e.jsx("svg",{className:"w-4 h-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"text-gray-700 font-semibold",children:"Activity History"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl border border-gray-200 shadow-lg p-6 lg:p-8 animate-fade-in-up",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:items-start gap-6 lg:gap-8",children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"w-20 h-20 lg:w-24 lg:h-24 bg-gradient-to-br from-blue-500 via-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center text-2xl lg:text-3xl font-bold text-white shadow-xl ring-4 ring-blue-50 transform hover:scale-105 transition-transform duration-200",children:c?G(c.name):"?"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-4 border-white shadow-md"})]}),e.jsx("div",{className:"flex-1 min-w-0 w-full lg:w-auto text-center lg:text-left",children:j?e.jsxs("div",{className:"space-y-4 w-full max-w-2xl",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:M.name,onChange:L=>O("name",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Contact name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),e.jsx("input",{type:"text",value:M.company,onChange:L=>O("company",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Company name"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:M.email,onChange:L=>O("email",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",value:M.firstPhone,onChange:L=>O("firstPhone",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1234567890"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn URL"}),e.jsx("input",{type:"url",value:M.personLinkedinUrl,onChange:L=>O("personLinkedinUrl",L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://linkedin.com/in/..."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:se,disabled:A,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:A?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})}),e.jsx("button",{onClick:F,disabled:A,className:"px-6 py-2 bg-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-300 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2 tracking-tight",children:c?.name||"Contact"}),c?.company&&e.jsx("p",{className:"text-gray-600 text-lg lg:text-xl font-medium",children:c.company})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-center sm:items-center justify-center lg:justify-start gap-4 text-gray-600 text-sm",children:[c?.email&&e.jsxs("a",{href:`mailto:${c.email}`,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors duration-200 border border-gray-200 hover:border-blue-200 group",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:c.email})]}),c?.firstPhone&&e.jsxs("a",{href:`tel:${c.firstPhone}`,className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 hover:bg-green-50 rounded-lg transition-colors duration-200 border border-gray-200 hover:border-green-200 group",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{className:"font-medium",children:c.firstPhone})]}),c?.personLinkedinUrl&&e.jsxs("a",{href:c.personLinkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 hover:bg-blue-50 rounded-lg transition-colors duration-200 border border-gray-200 hover:border-blue-200 group",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 transition-colors",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),e.jsx("span",{className:"font-medium",children:"LinkedIn"})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[!j&&e.jsxs("button",{onClick:E,className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white font-semibold text-sm rounded-xl hover:from-gray-700 hover:to-gray-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-100 w-full sm:w-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),e.jsx("span",{children:"Edit Contact"})]}),!j&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>I("call"),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold text-sm rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-100 w-full sm:w-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{children:"Log Call"})]}),e.jsxs("button",{onClick:()=>I("email"),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold text-sm rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-100 w-full sm:w-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{children:"Log Email"})]}),e.jsxs("button",{onClick:()=>I("linkedin"),className:"inline-flex items-center justify-center gap-2 px-5 py-3 bg-gradient-to-r from-blue-700 to-indigo-700 text-white font-semibold text-sm rounded-xl hover:from-blue-800 hover:to-indigo-800 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-100 w-full sm:w-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),e.jsx("span",{children:"Log LinkedIn"})]})]})]})]})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 lg:py-10",children:[b&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 text-red-700 px-5 py-4 rounded-xl shadow-md animate-shake",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-medium",children:b})]})}),h.length>0&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[e.jsx("div",{onClick:()=>v("all"),className:`bg-gradient-to-br rounded-2xl border shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer transform hover:scale-105 ${y==="all"?"from-blue-500 to-blue-600 border-blue-400 text-white":"from-white to-blue-50 border-blue-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold uppercase tracking-wide mb-1 ${y==="all"?"text-blue-100":"text-gray-600"}`,children:"Total Activities"}),e.jsx("p",{className:`text-3xl font-bold ${y==="all"?"text-white":"text-gray-900"}`,children:h.length}),e.jsx("p",{className:`text-xs mt-1 ${y==="all"?"text-blue-100":"text-gray-500"}`,children:"All interactions"})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-lg ${y==="all"?"bg-white bg-opacity-20":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]})}),e.jsx("div",{onClick:()=>v("call"),className:`bg-gradient-to-br rounded-2xl border shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer transform hover:scale-105 ${y==="call"?"from-green-500 to-green-600 border-green-400 text-white":"from-white to-green-50 border-green-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold uppercase tracking-wide mb-1 ${y==="call"?"text-green-100":"text-gray-600"}`,children:"Calls"}),e.jsx("p",{className:`text-3xl font-bold ${y==="call"?"text-white":"text-gray-900"}`,children:C.length}),e.jsx("p",{className:`text-xs mt-1 ${y==="call"?"text-green-100":"text-gray-500"}`,children:"Phone interactions"})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-lg ${y==="call"?"bg-white bg-opacity-20":"bg-gradient-to-br from-green-500 to-green-600"}`,children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]})}),e.jsx("div",{onClick:()=>v("email"),className:`bg-gradient-to-br rounded-2xl border shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer transform hover:scale-105 ${y==="email"?"from-blue-500 to-blue-600 border-blue-400 text-white":"from-white to-blue-50 border-blue-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold uppercase tracking-wide mb-1 ${y==="email"?"text-blue-100":"text-gray-600"}`,children:"Emails"}),e.jsx("p",{className:`text-3xl font-bold ${y==="email"?"text-white":"text-gray-900"}`,children:H.length}),e.jsx("p",{className:`text-xs mt-1 ${y==="email"?"text-blue-100":"text-gray-500"}`,children:"Email outreach"})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-lg ${y==="email"?"bg-white bg-opacity-20":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]})}),e.jsx("div",{onClick:()=>v("linkedin"),className:`bg-gradient-to-br rounded-2xl border shadow-lg p-6 hover:shadow-xl transition-all duration-200 cursor-pointer transform hover:scale-105 ${y==="linkedin"?"from-indigo-500 to-indigo-600 border-indigo-400 text-white":"from-white to-indigo-50 border-indigo-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-semibold uppercase tracking-wide mb-1 ${y==="linkedin"?"text-indigo-100":"text-gray-600"}`,children:"LinkedIn"}),e.jsx("p",{className:`text-3xl font-bold ${y==="linkedin"?"text-white":"text-gray-900"}`,children:ue.length}),e.jsx("p",{className:`text-xs mt-1 ${y==="linkedin"?"text-indigo-100":"text-gray-500"}`,children:"LinkedIn activities"})]}),e.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shadow-lg ${y==="linkedin"?"bg-white bg-opacity-20":"bg-gradient-to-br from-indigo-500 to-indigo-600"}`,children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})}),(()=>{const L=h.filter(te=>te.type==="linkedin"&&te.status),J=L.length>0?L.sort((te,Ne)=>new Date(Ne.createdAt)-new Date(te.createdAt))[0].status:null;if(!J)return null;const ie=te=>{switch(te){case"CIP":return"from-white to-blue-50 border-blue-200";case"No Reply":return"from-white to-gray-50 border-gray-200";case"Not Interested":return"from-white to-red-50 border-red-200";case"Meeting Proposed":return"from-white to-yellow-50 border-yellow-200";case"Meeting Scheduled":return"from-white to-cyan-50 border-cyan-200";case"In-Person Meeting":return"from-white to-indigo-50 border-indigo-200";case"Meeting Completed":return"from-white to-green-50 border-green-200";case"SQL":return"from-white to-emerald-50 border-emerald-200";case"Tech Discussion":return"from-white to-purple-50 border-purple-200";case"WON":return"from-white to-green-100 border-green-400 border-2";case"Lost":return"from-white to-red-100 border-red-400 border-2";case"Low Potential - Open":return"from-white to-orange-50 border-orange-200";case"Potential Future":return"from-white to-teal-50 border-teal-200";default:return"from-white to-gray-50 border-gray-200"}},De=te=>{switch(te){case"CIP":return"text-blue-800";case"No Reply":return"text-gray-800";case"Not Interested":return"text-red-800";case"Meeting Proposed":return"text-yellow-800";case"Meeting Scheduled":return"text-cyan-800";case"In-Person Meeting":return"text-indigo-800";case"Meeting Completed":return"text-green-800";case"SQL":return"text-emerald-800";case"Tech Discussion":return"text-purple-800";case"WON":return"text-green-900";case"Lost":return"text-red-900";case"Low Potential - Open":return"text-orange-800";case"Potential Future":return"text-teal-800";default:return"text-gray-800"}},oe=te=>{switch(te){case"CIP":return"bg-blue-100 border-blue-200";case"No Reply":return"bg-gray-100 border-gray-200";case"Not Interested":return"bg-red-100 border-red-200";case"Meeting Proposed":return"bg-yellow-100 border-yellow-200";case"Meeting Scheduled":return"bg-cyan-100 border-cyan-200";case"In-Person Meeting":return"bg-indigo-100 border-indigo-200";case"Meeting Completed":return"bg-green-100 border-green-200";case"SQL":return"bg-emerald-100 border-emerald-200";case"Tech Discussion":return"bg-purple-100 border-purple-200";case"WON":return"bg-green-200 border-green-400 border-2";case"Lost":return"bg-red-200 border-red-400 border-2";case"Low Potential - Open":return"bg-orange-100 border-orange-200";case"Potential Future":return"bg-teal-100 border-teal-200";default:return"bg-gray-100 border-gray-200"}};return e.jsx("div",{className:`bg-gradient-to-br ${ie(J)} rounded-2xl border shadow-lg p-6 hover:shadow-xl transition-shadow duration-200`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-semibold uppercase tracking-wide mb-1",children:"Current Status"}),e.jsx("p",{className:`text-2xl font-bold ${De(J)} mb-1`,children:J}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Latest LinkedIn activity"})]}),e.jsx("div",{className:`w-14 h-14 ${oe(J)} rounded-xl flex items-center justify-center shadow-lg`,children:e.jsx("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})})})()]}),h.length>0&&e.jsx("div",{className:"mb-6 bg-white rounded-2xl border border-gray-200 shadow-lg p-2",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>v("all"),className:`px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center gap-2 ${y==="all"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg transform scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"All (",h.length,")"]}),e.jsxs("button",{onClick:()=>v("call"),className:`px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center gap-2 ${y==="call"?"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg transform scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Calls (",C.length,")"]}),e.jsxs("button",{onClick:()=>v("email"),className:`px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center gap-2 ${y==="email"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white shadow-lg transform scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Emails (",H.length,")"]}),e.jsxs("button",{onClick:()=>v("linkedin"),className:`px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center gap-2 ${y==="linkedin"?"bg-gradient-to-r from-indigo-600 to-indigo-700 text-white shadow-lg transform scale-105":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn (",ue.length,")"]})]})}),h.length===0?e.jsxs("div",{className:"text-center py-20 bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-lg border border-gray-200 animate-fade-in",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 rounded-2xl bg-gradient-to-br from-gray-100 to-gray-200 mb-6 shadow-inner",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No activities yet"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto text-lg",children:"Start logging activities to track your interactions with this contact and build a comprehensive engagement history."}),e.jsx("div",{className:"flex justify-center gap-3",children:e.jsxs("button",{onClick:()=>I("call"),className:"inline-flex items-center gap-2 px-6 py-3.5 bg-gradient-to-r from-green-600 to-green-700 text-white font-semibold rounded-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-100",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Log First Activity"]})})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-6 lg:px-8 py-5 bg-gradient-to-r from-gray-50 to-white border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Activity Timeline"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Complete interaction history with ",c?.name]})]}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-xs font-semibold text-blue-700",children:[h.length," ",h.length===1?"activity":"activities"]})]})]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:je.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-gray-100 mb-4",children:e.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:["No ",y==="all"?"":y," activities found"]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try selecting a different filter or log a new activity."}),e.jsxs("button",{onClick:()=>{I({call:"call",email:"email",linkedin:"linkedin"}[y]||"call")},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Log ",y==="all"?"Activity":y.charAt(0).toUpperCase()+y.slice(1)]})]}):je.map((L,J)=>e.jsx("div",{className:"p-6 lg:p-8 hover:bg-gradient-to-r hover:from-gray-50 hover:to-white transition-all duration-200 group",children:e.jsxs("div",{className:"flex gap-5 lg:gap-6",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[T(L.type),J<h.length-1&&e.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 w-0.5 h-full bg-gradient-to-b from-gray-200 to-transparent"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:W(L.type)}),ge(L.outcome),L.status&&(L.type==="linkedin"||L.type==="email")&&e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${L.status==="CIP"?"bg-blue-100 text-blue-800":L.status==="No Reply"?"bg-gray-100 text-gray-800":L.status==="Not Interested"?"bg-red-100 text-red-800":L.status==="Meeting Proposed"?"bg-yellow-100 text-yellow-800":L.status==="Meeting Scheduled"?"bg-cyan-100 text-cyan-800":L.status==="In-Person Meeting"?"bg-indigo-100 text-indigo-800":L.status==="Meeting Completed"?"bg-green-100 text-green-800":L.status==="SQL"?"bg-emerald-100 text-emerald-800":L.status==="Tech Discussion"?"bg-purple-100 text-purple-800":L.status==="WON"?"bg-green-200 text-green-900 border-2 border-green-400":L.status==="Lost"?"bg-red-200 text-red-900 border-2 border-red-400":L.status==="Low Potential - Open"?"bg-orange-100 text-orange-800":L.status==="Potential Future"?"bg-teal-100 text-teal-800":L.status==="Interested"?"bg-green-100 text-green-800":L.status==="Wrong Person"?"bg-orange-100 text-orange-800":L.status==="Bounce"?"bg-red-100 text-red-800":L.status==="Opt-Out"?"bg-gray-100 text-gray-800":L.status==="Out of Office"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:L.status})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:X(L.createdAt)})]}),L.projectId?.companyName&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300",children:""}),e.jsx("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-700 rounded-md text-xs font-medium",children:L.projectId.companyName})]})]})]})}),L.type==="call"&&(L.callNumber||L.callDate||L.callStatus)&&e.jsx("div",{className:"mb-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 shadow-sm",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[L.callNumber&&e.jsxs("div",{className:"flex-1 min-w-[120px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Call"})]}),e.jsx("p",{className:"text-sm font-medium text-green-800",children:L.callNumber})]}),L.callDate&&e.jsxs("div",{className:"flex-1 min-w-[120px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Call Date"})]}),e.jsx("p",{className:"text-sm font-medium text-green-800",children:new Date(L.callDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]}),L.callStatus&&e.jsxs("div",{className:"flex-1 min-w-[120px]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Status"})]}),e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${L.callStatus==="Interested"?"bg-green-100 text-green-800":L.callStatus==="Not Interested"?"bg-red-100 text-red-800":L.callStatus==="Ring"?"bg-gray-100 text-gray-800":L.callStatus==="Busy"?"bg-blue-100 text-blue-800":L.callStatus==="Call Back"?"bg-purple-100 text-purple-800":L.callStatus==="Hang Up"?"bg-pink-100 text-pink-800":L.callStatus==="Switch Off"?"bg-amber-100 text-amber-800":L.callStatus==="Future"?"bg-indigo-100 text-indigo-800":L.callStatus==="Details Shared"?"bg-yellow-100 text-yellow-800":L.callStatus==="Demo Booked"?"bg-cyan-100 text-cyan-800":L.callStatus==="Invalid"?"bg-gray-100 text-gray-800":L.callStatus==="Existing"?"bg-orange-100 text-orange-800":(L.callStatus==="Demo Completed","bg-gray-100 text-gray-800")}`,children:L.callStatus})]})]})}),L.type==="linkedin"&&L.linkedInAccountName&&e.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),e.jsx("p",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide",children:"LinkedIn Account Used"})]}),e.jsx("p",{className:"text-sm font-medium text-blue-800",children:L.linkedInAccountName})]}),L.type==="email"&&L.status&&e.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("p",{className:"text-xs font-semibold text-blue-900 uppercase tracking-wide",children:"Status"})]}),e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${L.status==="No Reply"?"bg-gray-100 text-gray-800":L.status==="Not Interested"?"bg-red-100 text-red-800":L.status==="Meeting Proposed"?"bg-yellow-100 text-yellow-800":L.status==="Meeting Scheduled"?"bg-cyan-100 text-cyan-800":L.status==="Meeting Completed"||L.status==="Interested"?"bg-green-100 text-green-800":L.status==="Wrong Person"?"bg-orange-100 text-orange-800":L.status==="Bounce"?"bg-red-100 text-red-800":L.status==="Opt-Out"?"bg-gray-100 text-gray-800":L.status==="Out of Office"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:L.status})]}),L.type==="linkedin"&&(L.lnRequestSent||L.connected)&&e.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[L.lnRequestSent&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-semibold text-purple-900 uppercase tracking-wide",children:"Ln Request Sent"})]}),e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${L.lnRequestSent==="Yes"?"bg-green-100 text-green-800":L.lnRequestSent==="No"?"bg-red-100 text-red-800":L.lnRequestSent==="Existing Connect"?"bg-blue-100 text-blue-800":L.lnRequestSent==="Inactive Profile"?"bg-gray-100 text-gray-800":L.lnRequestSent==="Irrelevant Profile"?"bg-orange-100 text-orange-800":L.lnRequestSent==="Open to Work"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:L.lnRequestSent})]}),L.connected&&e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-semibold text-green-900 uppercase tracking-wide",children:"Connected"})]}),e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded-full ${L.connected==="Yes"?"bg-green-100 text-green-800":L.connected==="No"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:L.connected})]})]}),L.conversationNotes&&(()=>{const De=L.conversationNotes.replace(/\[Contact:.*?\|.*?Email:.*?\|.*?Phone:.*?\|.*?LinkedIn:.*?\]/g,"").trim().replace(/\[Contact:.*?\]/g,"").trim();return De?e.jsx("div",{className:"mb-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap leading-relaxed",children:De})}):null})(),L.nextAction&&e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-semibold text-blue-900 mb-1",children:["Next Action: ",e.jsx("span",{className:"font-bold",children:L.nextAction})]}),L.nextActionDate&&e.jsxs("p",{className:"text-xs text-blue-700 font-medium",children:["Scheduled for ",P(L.nextActionDate)]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs("button",{onClick:()=>I(null,L),className:`inline-flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg hover:bg-opacity-90 transition-all duration-200 ${L.type==="call"?"text-green-700 bg-green-50 border border-green-200 hover:bg-green-100 hover:border-green-300":L.type==="email"?"text-blue-700 bg-blue-50 border border-blue-200 hover:bg-blue-100 hover:border-blue-300":"text-indigo-700 bg-indigo-50 border border-indigo-200 hover:bg-indigo-100 hover:border-indigo-300"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})})]})]})},L._id||J))})]})]}),e.jsx(ey,{isOpen:V.isOpen,onClose:$,type:V.type,contactName:V.contactName,companyName:V.companyName,projectId:V.projectId,contactId:V.contactId,phoneNumber:V.phoneNumber,email:V.email,linkedInProfileUrl:V.linkedInProfileUrl,activityId:V.activityId,editMode:V.editMode})]})}function k6(){const{companyName:n}=Xs(),t=mt(),[a]=wi(),r=a.get("category")||"IND-IT & Service",[l,c]=k.useState([]),[d,h]=k.useState(!0),[m,f]=k.useState(null),[g,b]=k.useState(null),[w,y]=k.useState(!1),[v,j]=k.useState(null),N=decodeURIComponent(n);k.useEffect(()=>{M()},[N,r]);const M=async()=>{try{h(!0);const E={category:r,page:1,limit:1e3},F=await Ae.get("/contacts",{params:E}),se=F?.data?.data||F?.data||[],O=Array.isArray(se)?se.filter(U=>(U.company||"No Company")===N):[];c(O),f(null)}catch(E){f("Failed to fetch company contacts. Please try again."),console.error("Error fetching contacts:",E)}finally{h(!1)}},B=E=>{if(!E)return"?";const F=E.trim().split(/\s+/);return F.length>=2?(F[0][0]+F[1][0]).toUpperCase():E.substring(0,2).toUpperCase()},A=E=>E?(E=E.replace(/^#{1,6}\s+/gm,""),E=E.replace(/\*\*([^*]+)\*\*/g,"$1"),E=E.replace(/__([^_]+)__/g,"$1"),E=E.replace(/\*([^*]+)\*/g,"$1"),E=E.replace(/_([^_]+)_/g,"$1"),E=E.replace(/^[\s]*[-*+]\s+/gm," "),E=E.replace(/^\d+\.\s+/gm,""),E=E.replace(/\n{3,}/g,`

`),E=E.trim(),E):"",Y=E=>{const F=`?category=${encodeURIComponent(r)}`;t(`/contacts/${E}${F}`)},V=()=>{const E=`?category=${encodeURIComponent(r)}`;t(`/contacts${E}`)},D=async()=>{if(!z?.website){j("Website URL is required for analysis");return}try{y(!0),j(null);const E=await Ae.post("/company-analysis/analyze",{companyName:N,website:z.website});E.data.success?b(E.data.data):j(E.data.error||"Failed to analyze company")}catch(E){console.error("Error analyzing company:",E),console.error("Error response:",E?.response),console.error("Error status:",E?.response?.status),console.error("Error data:",E?.response?.data);let F="Failed to analyze company website. Please try again.";E?.response?.status===429?F=E?.response?.data?.error||"OpenAI API quota exceeded. Please check your OpenAI account billing and add credits.":E?.response?.status===500?F=E?.response?.data?.error||"Server error. Please check if OpenAI API key is configured.":E?.response?.status===401?F=E?.response?.data?.error||"OpenAI API key is invalid. Please check your configuration.":E?.response?.status===400?F=E?.response?.data?.error||"Invalid request. Please check the company website URL.":E?.code==="ECONNREFUSED"||E?.message?.includes("Network Error")?F="Cannot connect to server. Please make sure the backend is running.":E?.response?.data?.error&&(F=E.response.data.error),j(F)}finally{y(!1)}};if(d)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4 animate-fade-in",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gray-200 blur-xl animate-pulse"}),e.jsx("div",{className:"relative animate-spin rounded-full h-14 w-14 border-2 border-gray-200 border-t-gray-900 mx-auto"})]}),e.jsx("p",{className:"tracking-wide text-sm uppercase text-gray-500 font-medium",children:"Loading company details..."})]})});if(m)return e.jsx("div",{className:"min-h-screen bg-white py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 text-red-700 px-5 py-4 rounded-lg shadow-md",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("span",{className:"font-medium",children:m})]})})})});const z=l.length>0?l[0]:null;return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("button",{onClick:V,className:"mb-6 flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Contacts"]}),z?.website&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white text-slate-900 shadow-lg border border-slate-100",children:[e.jsx("div",{className:"absolute inset-0 opacity-60 bg-[radial-gradient(circle_at_20%_20%,_#e0f2ff,_transparent_30%),_radial-gradient(circle_at_85%_15%,_#ede9fe,_transparent_28%)]"}),e.jsxs("div",{className:"relative p-6 lg:p-8 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm uppercase tracking-wide font-semibold text-blue-700",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Groq AI Insight"]}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:N}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-700",children:[z.website&&e.jsxs("a",{href:z.website.startsWith("http")?z.website:`https://${z.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-50 border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition",children:[e.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4a8 8 0 100 16 8 8 0 000-16z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2 12h20M12 2c2.5 2.5 4 6 4 10s-1.5 7.5-4 10c-2.5-2.5-4-6-4-10s1.5-7.5 4-10z"})]}),z.website]}),z.companyLinkedinUrl&&e.jsxs("a",{href:z.companyLinkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-50 border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]}),z.email&&e.jsxs("a",{href:`mailto:${z.email}`,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-slate-50 border border-slate-200 hover:border-blue-300 hover:bg-blue-50 transition",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),z.email]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:D,disabled:w,className:"group inline-flex items-center gap-2 px-5 py-3 bg-blue-600 text-white text-sm font-semibold rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition-all duration-200 disabled:opacity-60 disabled:hover:translate-y-0",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Summarizing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 text-white group-hover:translate-x-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Summarize"]})})})]})]}),v&&e.jsx("div",{className:"mt-3 bg-red-50 border border-red-100 text-red-700 px-4 py-3 rounded-xl shadow-sm animate-fade-in",children:e.jsx("p",{className:"text-sm",children:v})}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mt-6 animate-fade-in space-y-6",children:[e.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-blue-50/30 rounded-2xl border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-100/20 rounded-full -mr-16 -mt-16 blur-2xl"}),e.jsxs("div",{className:"relative p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-xl font-bold text-white",children:"1"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-blue-600 font-bold mb-1",children:"Company Overview"}),e.jsx("p",{className:"text-base text-gray-900 font-semibold",children:"Position & Story"})]})]}),e.jsx("div",{className:"flex-1 text-sm text-gray-700 leading-relaxed whitespace-pre-line overflow-y-auto",children:A(g.analysis.companyOverview||g.fullText.split("1)")[1]?.split("2)")[0]?.trim()||"Analysis not available")}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Strategic positioning"})]})})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-emerald-50/30 rounded-2xl border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-100/20 rounded-full -mr-16 -mt-16 blur-2xl"}),e.jsxs("div",{className:"relative p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-xl font-bold text-white",children:"2"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-emerald-600 font-bold mb-1",children:"Core Offering"}),e.jsx("p",{className:"text-base text-gray-900 font-semibold",children:"Products & Value"})]})]}),e.jsx("div",{className:"flex-1 text-sm text-gray-700 leading-relaxed whitespace-pre-line overflow-y-auto",children:A(g.analysis.coreOffering||g.fullText.split("2)")[1]?.split("3)")[0]?.trim()||"Analysis not available")}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"Value proposition"})]})})]})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-white to-purple-50/30 rounded-2xl border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-100/20 rounded-full -mr-16 -mt-16 blur-2xl"}),e.jsxs("div",{className:"relative p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-xl font-bold text-white",children:"3"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-purple-600 font-bold mb-1",children:"Business Considerations"}),e.jsx("p",{className:"text-base text-gray-900 font-semibold",children:"Risks & Opportunities"})]})]}),e.jsx("div",{className:"flex-1 text-sm text-gray-700 leading-relaxed whitespace-pre-line overflow-y-auto",children:A(g.analysis.businessConsiderations||g.fullText.split("3)")[1]?.trim()||"Analysis not available")}),e.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("span",{children:"Strategic insights"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 mt-4",children:[g.generatedAt&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Generated on ",new Date(g.generatedAt).toLocaleString()]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:D,disabled:w,className:"text-sm text-blue-600 hover:text-blue-800 font-semibold",children:"Re-run"}),e.jsx("button",{onClick:()=>{b(null),j(null)},className:"text-sm text-gray-600 hover:text-gray-900",children:"Clear"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 sticky top-4",children:[e.jsxs("div",{className:"flex flex-col items-center mb-6",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-3xl font-bold text-blue-700",children:B(N)})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 text-center mb-2",children:N}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),e.jsxs("span",{children:[l.length," ",l.length===1?"person":"people"]})]})]}),e.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-6",children:[z?.industry&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Industry"}),e.jsx("p",{className:"text-sm text-gray-900",children:z.industry})]}),(z?.companyAddress||z?.companyCity||z?.companyState||z?.companyCountry)&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Address"}),e.jsx("p",{className:"text-sm text-gray-900",children:[z.companyAddress,z.companyCity,z.companyState,z.companyCountry].filter(Boolean).join(", ")||"Not available"})]}),z?.companyPhone&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Phone"}),e.jsx("a",{href:`tel:${z.companyPhone}`,className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:z.companyPhone})]}),z?.website&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"Website"}),e.jsx("a",{href:z.website.startsWith("http")?z.website:`https://${z.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:z.website})]}),z?.companyLinkedinUrl&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-1",children:"LinkedIn"}),e.jsxs("a",{href:z.companyLinkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-700 hover:underline",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"View Company LinkedIn"]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["People at ",N]}),l.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No contacts found for this company."})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(E=>e.jsxs("div",{onClick:()=>Y(E._id),className:"bg-gray-50 rounded-lg p-4 border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-sm font-semibold text-blue-700",children:E.name?E.name.substring(0,2).toUpperCase():"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1 truncate",children:E.name||"Unknown"}),E.title&&e.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:E.title})]})]}),e.jsxs("div",{className:"space-y-2",children:[E.email&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("a",{href:`mailto:${E.email}`,onClick:F=>F.stopPropagation(),className:"hover:text-blue-600 hover:underline truncate",children:E.email})]}),E.firstPhone&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("a",{href:`tel:${E.firstPhone}`,onClick:F=>F.stopPropagation(),className:"hover:text-blue-600 hover:underline",children:E.firstPhone})]}),(E.personLinkedinUrl||E.companyLinkedinUrl)&&e.jsx("div",{className:"flex items-center gap-2 text-xs",children:e.jsxs("a",{href:E.personLinkedinUrl||E.companyLinkedinUrl,onClick:F=>F.stopPropagation(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 hover:bg-blue-100 rounded text-xs",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]})})]})]},E._id))})]})})]})]})})}function S6(){const[n,t]=k.useState(null),[a,r]=k.useState(!1),[l,c]=k.useState(""),[d,h]=k.useState(""),[m,f]=k.useState(null),[g,b]=k.useState(""),[w,y]=k.useState([]),[v,j]=k.useState(!0),[N,M]=k.useState(!1),[B,A]=k.useState(""),[Y,V]=k.useState(!1);k.useEffect(()=>{D()},[]);const D=async()=>{try{j(!0);const O=(await Ae.get("/categories")).data?.data||[];y(O),O.length>0&&!g&&b(O[0])}catch(se){console.error("Error fetching categories:",se);const O=["IND-IT & Service","Accounting & Book keeping","Web Design & Development","Enterprise Software","Finance Services - IND","E-commerce","CRM","Middle East","International","USA Chicago","IT Company - USA","IT Company - Chicago","Weam.ai Mumbai Data","ERP Software","ERP NEXT- Manufacturing-Automotive Components & Spares","Salon & Spa - Chicago","SPA & SALON AHMEDABAD","kology"];y(O),g||b(O[0])}finally{j(!1)}},z=async()=>{if(!B.trim()){h("Please enter a category name");return}try{V(!0),h(""),(await Ae.post("/categories",{name:B.trim()})).data.success&&(await D(),b(B.trim()),A(""),M(!1),c("Category added successfully!"),setTimeout(()=>c(""),3e3))}catch(se){h(se.response?.data?.error||"Failed to add category")}finally{V(!1)}},E=se=>{t(se.target.files?.[0]||null),c(""),h(""),f(null)},F=async()=>{if(!n){h("Please select a CSV or Excel file.");return}const se=new FormData;se.append("file",n),se.append("category",g);try{r(!0),h(""),c(""),f(null);const O=await Ae.post("/import/upload",se,{headers:{"Content-Type":"multipart/form-data"}});f(O.data.data),c("Import completed successfully")}catch(O){const U=O?.response?.data?.error||"Upload failed. Please try again.";h(U)}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-10",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Import Contacts"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Upload a CSV or Excel file with the following columns: Name (required), Company (required), Email (required), Person Linkedin Url (required), Title, First Phone, # Employees, Category, Industry, Keywords, Website, Company Linkedin Url, Facebook Url, Twitter Url, City, State, Country, Company Address, Company City, Company State, Company Country, Company Phone, SEO Description, Technologies, Annual Revenue."}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select category to assign"}),e.jsxs("button",{type:"button",onClick:()=>{M(!N),h(""),c("")},className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),N?"Cancel":"Add New"]})]}),N?e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:B,onChange:se=>A(se.target.value),placeholder:"Enter new category name",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:se=>{se.key==="Enter"&&z()}}),e.jsx("button",{type:"button",onClick:z,disabled:Y||!B.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-sm font-medium",children:Y?"Adding...":"Add"})]})}):e.jsx("select",{value:g,onChange:se=>b(se.target.value),disabled:v,className:"border border-gray-300 rounded-lg px-3 py-2 w-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:v?e.jsx("option",{children:"Loading categories..."}):w.length===0?e.jsx("option",{children:"No categories available"}):w.map(se=>e.jsx("option",{value:se,children:se},se))})]}),e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select file (CSV, XLSX, or XLS)"}),e.jsx("input",{type:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:E,className:"block w-full text-sm text-gray-700 border border-gray-300 rounded-lg p-2 mb-4"}),e.jsx("button",{onClick:F,disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed",children:a?"Uploading...":"Upload & Import"}),l&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 text-green-700 border border-green-200 rounded",children:l}),d&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-700 border border-red-200 rounded",children:d}),m&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{className:"text-gray-700",children:"Total Rows:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:m.totalRows})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{className:"text-gray-700",children:"Valid Contacts:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:m.validContacts})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{className:"text-green-700",children:"Inserted:"}),e.jsx("span",{className:"ml-2 text-green-900 font-semibold",children:m.inserted})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{className:"text-orange-700",children:"Skipped (Duplicates):"}),e.jsx("span",{className:"ml-2 text-orange-900 font-semibold",children:m.skipped||0})]})]}),m.columnMapping&&e.jsx("div",{className:"mt-4 space-y-3",children:e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-semibold text-blue-800 mb-3",children:"Column Mapping Information"}),m.columnMapping.detected&&m.columnMapping.detected.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs font-semibold text-blue-700 mb-1",children:["Detected Columns (",m.columnMapping.detected.length,"):"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.columnMapping.detected.map((se,O)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:se},O))})]}),m.columnMapping.mapped&&m.columnMapping.mapped.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-xs font-semibold text-green-700 mb-1",children:["Successfully Mapped (",m.columnMapping.mapped.length,"):"]}),e.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:m.columnMapping.mapped.map((se,O)=>e.jsxs("div",{className:"text-xs text-gray-700",children:[e.jsx("span",{className:"font-medium",children:se.original}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("span",{className:"text-green-700",children:se.mapped})]},O))})]}),m.columnMapping.unmapped&&m.columnMapping.unmapped.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-orange-700 mb-1",children:["Unmapped Columns (",m.columnMapping.unmapped.length,"):"]}),e.jsx("div",{className:"text-xs text-orange-600 mb-1",children:"These columns were not recognized and will be ignored."}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.columnMapping.unmapped.map((se,O)=>e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded",children:se},O))})]})]})}),m.errors&&m.errors.length>0&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-semibold text-yellow-800 mb-2",children:["Warnings & Errors (",m.errors.length,"):"]}),e.jsx("ul",{className:"list-disc list-inside text-sm text-yellow-700 space-y-1 max-h-60 overflow-y-auto",children:m.errors.map((se,O)=>e.jsx("li",{children:se},O))})]})]})]})]})})}const db={name:"",title:"",company:"",email:"",firstPhone:"",employees:"",category:"IND-IT & Service",industry:"",keywords:"",personLinkedinUrl:"",website:"",companyLinkedinUrl:"",facebookUrl:"",twitterUrl:"",city:"",state:"",country:"",companyAddress:"",companyCity:"",companyState:"",companyCountry:"",companyPhone:"",seoDescription:"",technologies:"",annualRevenue:""};function C6(){const[n,t]=k.useState(db),[a,r]=k.useState(!1),[l,c]=k.useState(""),d=mt(),h=f=>{const{name:g,value:b}=f.target;t(w=>({...w,[g]:b}))},m=async f=>{if(f.preventDefault(),!n.name.trim()){c("Name is required.");return}try{r(!0),c(""),await Ae.post("/contacts",n),d("/contacts")}catch(g){let b=g?.response?.data?.error||"Failed to save contact.";(g?.response?.status===409||g?.response?.data?.duplicate)&&(b=`Duplicate contact detected: ${b}`),c(b)}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-10",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add Contact"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Enter the contact details and save to MongoDB."})]}),e.jsx("button",{onClick:()=>d("/contacts"),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Back to Contacts"})]}),l&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded",children:l}),e.jsxs("form",{onSubmit:m,className:"bg-white shadow rounded-lg p-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[[["name","Name",!0],["title","Title"],["company","Company"],["email","Email",!1,"email"],["firstPhone","First Phone"],["employees","# Employees"],["category","Category"],["industry","Industry"],["keywords","Keywords"],["personLinkedinUrl","Person Linkedin Url"],["website","Website"],["companyLinkedinUrl","Company Linkedin Url"],["facebookUrl","Facebook Url"],["twitterUrl","Twitter Url"],["city","City"],["state","State"],["country","Country"],["companyAddress","Company Address"],["companyCity","Company City"],["companyState","Company State"],["companyCountry","Company Country"],["companyPhone","Company Phone"],["seoDescription","SEO Description"],["technologies","Technologies"],["annualRevenue","Annual Revenue"]].map(([f,g,b,w="text"])=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 mb-1",children:[g,b?" *":""]}),e.jsx("input",{type:w,name:f,value:n[f],onChange:h,required:b,className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]},f)),e.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3 mt-2",children:[e.jsx("button",{type:"button",onClick:()=>t(db),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Reset"}),e.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:a?"Saving...":"Save Contact"})]})]})]})})}function M6(){const n=mt(),[t,a]=k.useState(""),[r,l]=k.useState([]),[c,d]=k.useState(!0),[h,m]=k.useState(null),[f,g]=k.useState({total:0,totalProspects:0,totalActivities:0,activeProjects:0,meetingRate:0,sqlCount:0,avgActivitiesPerProspect:0}),[b,w]=k.useState(null),[y,v]=k.useState(""),[j,N]=k.useState(""),[M,B]=k.useState(""),[A,Y]=k.useState({isOpen:!1,project:null});k.useEffect(()=>{V(),D()},[t,y,j,M]);const V=async()=>{try{d(!0);const O={};t&&(O.search=t),j&&(O.status=j);const U=await Ae.get("/projects",{params:O});if(U.data.success){const I=U.data.data,$=Array.isArray(I)?I:[];let G=[...$];M==="active"?G=G.filter(T=>T.status==="active"):M==="draft"?G=G.filter(T=>T.status==="draft"):M==="completed"&&(G=G.filter(T=>T.status==="completed")),l(G);const P=$.reduce((T,W)=>T+(W.totalProspects||0),0),X=$.filter(T=>T.status==="active").length;g({total:$.length,totalProspects:P,totalActivities:0,activeProjects:X,meetingRate:0,sqlCount:0,avgActivitiesPerProspect:0})}}catch(O){console.error("Error fetching projects:",O),m("Couldn't load your projects right now. Give it another try in a moment.")}finally{d(!1)}},D=async()=>{try{const O=await Ae.get("/projects/analytics");if(O.data.success){const U=O.data.data;w(U),g(I=>({...I,totalProspects:U.overview.totalProspects||I.totalProspects,totalActivities:U.overview.totalActivities||0,activeProjects:U.overview.activeProjects||I.activeProjects,meetingRate:U.pipeline?.conversion?.meetingRate||0,sqlCount:U.pipeline?.conversion?.sql||0,avgActivitiesPerProspect:U.overview.totalProspects>0?parseFloat((U.overview.totalActivities/U.overview.totalProspects).toFixed(1)):0}))}}catch(O){console.error("Error fetching analytics:",O)}},z=()=>{n("/projects/new")},E=O=>{n(`/projects/${O}/edit`)},F=async(O,U,I)=>{O.stopPropagation();const $=I==="active",G=$?"draft":"active";try{(await Ae.patch(`/projects/${U}/status`,{isActive:!$})).data.success&&l(X=>X.map(T=>T._id===U?{...T,status:G}:T))}catch(P){console.error("Error toggling project status:",P),alert("Something went wrong updating the project. Try again in a moment.")}},se=O=>O?new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Project Management"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your outbound campaigns and track what's working"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>n("/projects/dashboard"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors font-medium text-sm shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analytics Dashboard"]}),e.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Project"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full shadow-xs",children:"Portfolio Size"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:f.total}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Projects"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Prospects"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:f.totalProspects.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Prospects"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-green-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-green-700 bg-white/70 border border-green-100 px-2 py-1 rounded-full shadow-xs",children:"Activities"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:f.totalActivities.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Activities"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Projects"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:f.activeProjects}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Active Projects"})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search by name, company, email...",value:t,onChange:O=>a(O.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),e.jsx("div",{className:"w-64",children:e.jsxs("select",{value:"",onChange:O=>{O.target.value&&n(`/projects/${O.target.value}`)},className:"w-full px-3 py-2.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[e.jsx("option",{value:"",children:"Select a project..."}),r.map(O=>e.jsxs("option",{value:O._id,children:[O.companyName," - ",O.contactPerson?.fullName||"N/A"]},O._id))]})})]})}),h&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:h}),c?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-12",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):r.length>0?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"16%"},children:"Company"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"11%"},children:"Created Date"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"11%"},children:"Assigned To"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"16%"},children:"Contact Person"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"10%"},children:"Total Prospects"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"10%"},children:"Leads Generated"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"10%"},children:"Active"}),e.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",style:{width:"14%"},children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(O=>e.jsxs("tr",{onClick:()=>n(`/projects/${O._id}`),className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[e.jsxs("td",{className:"px-3 py-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:O.companyName||"N/A"}),O.industry&&e.jsx("div",{className:"text-xs text-gray-500 truncate",children:O.industry})]}),e.jsx("td",{className:"px-3 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:se(O.createdAt)})}),e.jsx("td",{className:"px-3 py-4 text-sm text-gray-900 truncate",children:O.assignedTo||"-"}),e.jsxs("td",{className:"px-3 py-4",children:[e.jsx("div",{className:"text-sm text-gray-900 truncate",children:O.contactPerson?.fullName||"N/A"}),O.contactPerson?.email&&e.jsx("div",{className:"text-xs text-gray-500 truncate",children:O.contactPerson.email})]}),e.jsx("td",{className:"px-3 py-4",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.totalProspects||0})}),e.jsx("td",{className:"px-3 py-4",children:O.leadsByStatus?e.jsxs("div",{className:"space-y-0.5",children:[O.leadsByStatus.interested>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.interested}),O.leadsByStatus.cip>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.cip}),O.leadsByStatus.detailsShared>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.detailsShared}),O.leadsByStatus.demoBooked>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.demoBooked}),O.leadsByStatus.demoCompleted>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.demoCompleted}),O.leadsByStatus.meetingProposed>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.meetingProposed}),O.leadsByStatus.meetingScheduled>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.meetingScheduled}),O.leadsByStatus.meetingCompleted>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.meetingCompleted}),O.leadsByStatus.sql>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.sql}),O.leadsByStatus.won>0&&e.jsx("div",{className:"text-xs font-semibold text-gray-900",children:O.leadsByStatus.won}),!O.leadsByStatus.interested&&!O.leadsByStatus.cip&&!O.leadsByStatus.detailsShared&&!O.leadsByStatus.demoBooked&&!O.leadsByStatus.demoCompleted&&!O.leadsByStatus.meetingProposed&&!O.leadsByStatus.meetingScheduled&&!O.leadsByStatus.meetingCompleted&&!O.leadsByStatus.sql&&!O.leadsByStatus.won&&e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.leadsGenerated||0})]}):e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:O.leadsGenerated||0})}),e.jsx("td",{className:"px-3 py-4",onClick:U=>U.stopPropagation(),children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:O.status==="active",onChange:U=>F(U,O._id,O.status),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})}),e.jsx("td",{className:"px-3 py-4",onClick:U=>U.stopPropagation(),children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("button",{onClick:U=>{U.stopPropagation(),Y({isOpen:!0,project:O})},className:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 hover:border-blue-300 transition-colors",title:"View Project Details",children:[e.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View"]}),e.jsxs("button",{onClick:U=>{U.stopPropagation(),E(O._id)},className:"inline-flex items-center gap-1 px-2 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-colors",title:"Edit Project",children:[e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})]})})]},O._id))})]})})}):e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No projects yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Create your first project to get started"}),e.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Project"]})]})}),A.isOpen&&A.project&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Project Details"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.project.companyName})]}),e.jsx("button",{onClick:()=>Y({isOpen:!1,project:null}),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Company Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Company Name"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.companyName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Website"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.website?e.jsx("a",{href:A.project.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.project.website}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"City"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Country"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.country||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Industry"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.industry||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Company Size"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.companySize||"N/A"})]}),A.project.companyDescription&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Company Description"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 whitespace-pre-wrap",children:A.project.companyDescription})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Contact Person"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Full Name"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.contactPerson?.fullName||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Designation"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.contactPerson?.designation||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Email"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.contactPerson?.email?e.jsx("a",{href:`mailto:${A.project.contactPerson.email}`,className:"text-blue-600 hover:underline",children:A.project.contactPerson.email}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Phone Number"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.contactPerson?.phoneNumber?e.jsx("a",{href:`tel:${A.project.contactPerson.phoneNumber}`,className:"text-blue-600 hover:underline",children:A.project.contactPerson.phoneNumber}):"N/A"})]}),A.project.contactPerson?.linkedInProfileUrl&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"LinkedIn Profile"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:e.jsx("a",{href:A.project.contactPerson.linkedInProfileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:A.project.contactPerson.linkedInProfileUrl})})]})]})]}),A.project.campaignDetails&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Campaign Details"]}),e.jsxs("div",{className:"space-y-4",children:[A.project.campaignDetails.servicesOffered&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Services Offered"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[A.project.campaignDetails.servicesOffered.leadGeneration&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Lead Generation"}),A.project.campaignDetails.servicesOffered.marketResearch&&e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Market Research"}),A.project.campaignDetails.servicesOffered.appointmentSetting&&e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"Appointment Setting"}),A.project.campaignDetails.servicesOffered.dataEnrichment&&e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded-full",children:"Data Enrichment"}),!A.project.campaignDetails.servicesOffered.leadGeneration&&!A.project.campaignDetails.servicesOffered.marketResearch&&!A.project.campaignDetails.servicesOffered.appointmentSetting&&!A.project.campaignDetails.servicesOffered.dataEnrichment&&e.jsx("span",{className:"text-sm text-gray-500",children:"None selected"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.project.campaignDetails.leadQuotaCommitted>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Lead Quota Committed"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.campaignDetails.leadQuotaCommitted})]}),A.project.campaignDetails.startDate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Start Date"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:se(A.project.campaignDetails.startDate)})]}),A.project.campaignDetails.endDate&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"End Date"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:se(A.project.campaignDetails.endDate)})]})]}),A.project.campaignDetails.expectationsFromUs&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Expectations From Us"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1 whitespace-pre-wrap",children:A.project.campaignDetails.expectationsFromUs})]})]})]}),A.project.channels&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),"Channels"]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[A.project.channels.linkedInOutreach&&e.jsxs("span",{className:"px-4 py-2 bg-blue-100 text-blue-800 text-sm font-medium rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn Outreach"]}),A.project.channels.coldEmail&&e.jsxs("span",{className:"px-4 py-2 bg-purple-100 text-purple-800 text-sm font-medium rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Cold Email"]}),A.project.channels.coldCalling&&e.jsxs("span",{className:"px-4 py-2 bg-green-100 text-green-800 text-sm font-medium rounded-lg flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Cold Calling"]}),!A.project.channels.linkedInOutreach&&!A.project.channels.coldEmail&&!A.project.channels.coldCalling&&e.jsx("span",{className:"text-sm text-gray-500",children:"No channels selected"})]})]}),A.project.icpDefinition&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"ICP Definition"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.project.icpDefinition.targetIndustries&&A.project.icpDefinition.targetIndustries.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Target Industries"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Array.isArray(A.project.icpDefinition.targetIndustries)?A.project.icpDefinition.targetIndustries.join(", "):A.project.icpDefinition.targetIndustries})]}),A.project.icpDefinition.targetJobTitles&&A.project.icpDefinition.targetJobTitles.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Target Job Titles"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Array.isArray(A.project.icpDefinition.targetJobTitles)?A.project.icpDefinition.targetJobTitles.join(", "):A.project.icpDefinition.targetJobTitles})]}),(A.project.icpDefinition.companySizeMin>0||A.project.icpDefinition.companySizeMax<1e3)&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Company Size Range"}),e.jsxs("p",{className:"text-sm text-gray-900 mt-1",children:[A.project.icpDefinition.companySizeMin," - ",A.project.icpDefinition.companySizeMax," employees"]})]}),A.project.icpDefinition.geographies&&A.project.icpDefinition.geographies.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Geographies"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Array.isArray(A.project.icpDefinition.geographies)?A.project.icpDefinition.geographies.join(", "):A.project.icpDefinition.geographies})]}),A.project.icpDefinition.keywords&&A.project.icpDefinition.keywords.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Keywords"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Array.isArray(A.project.icpDefinition.keywords)?A.project.icpDefinition.keywords.join(", "):A.project.icpDefinition.keywords})]}),A.project.icpDefinition.exclusionCriteria&&A.project.icpDefinition.exclusionCriteria.length>0&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Exclusion Criteria"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:Array.isArray(A.project.icpDefinition.exclusionCriteria)?A.project.icpDefinition.exclusionCriteria.join(", "):A.project.icpDefinition.exclusionCriteria})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-5",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),"Team Allocation"]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),e.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.project.assignedTo||"N/A"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>Y({isOpen:!1,project:null}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsx("button",{onClick:()=>{Y({isOpen:!1,project:null}),E(A.project._id)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Project"})]})]})})]})}const Oc=[{id:1,label:"Company Details"},{id:2,label:"Contact Person"},{id:3,label:"Campaign Details"},{id:4,label:"Channels"},{id:5,label:"ICP Definition"},{id:6,label:"Team Allocation"}];function ub(){const n=mt(),{id:t}=Xs(),a=!!t,[r,l]=k.useState(1),[c,d]=k.useState(!1),[h,m]=k.useState(a),[f,g]=k.useState(null),[b,w]=k.useState({companyName:"",website:"",city:"",country:"",industry:"",companySize:"",companyDescription:"",contactPerson:{fullName:"",designation:"",email:"",phoneNumber:"",linkedInProfileUrl:""},campaignDetails:{servicesOffered:{leadGeneration:!1,marketResearch:!1,appointmentSetting:!1,dataEnrichment:!1},expectationsFromUs:"",leadQuotaCommitted:0,startDate:"",endDate:""},channels:{linkedInOutreach:!1,coldEmail:!1,coldCalling:!1},icpDefinition:{targetIndustries:"",targetJobTitles:"",companySizeMin:0,companySizeMax:1e3,geographies:"",keywords:"",exclusionCriteria:""},assignedTo:"",teamMembers:[]}),y=(D,z)=>{if(D.includes(".")){const[E,F]=D.split(".");w(se=>({...se,[E]:{...se[E],[F]:z}}))}else w(E=>({...E,[D]:z}))},v=(D,z,E)=>{w(F=>({...F,[D]:{...F[D],[z]:E}}))},j=(D,z)=>{w(E=>({...E,campaignDetails:{...E.campaignDetails,servicesOffered:{...E.campaignDetails.servicesOffered,[D]:z}}}))};k.useEffect(()=>{(async()=>{if(a)try{m(!0);const z=await Ae.get(`/projects/${t}`);if(z.data.success){const E=z.data.data,F=O=>O?new Date(O).toISOString().split("T")[0]:"",se=O=>Array.isArray(O)?O.join(", "):"";w({companyName:E.companyName||"",website:E.website||"",city:E.city||"",country:E.country||"",industry:E.industry||"",companySize:E.companySize||"",companyDescription:E.companyDescription||"",contactPerson:{fullName:E.contactPerson?.fullName||"",designation:E.contactPerson?.designation||"",email:E.contactPerson?.email||"",phoneNumber:E.contactPerson?.phoneNumber||"",linkedInProfileUrl:E.contactPerson?.linkedInProfileUrl||""},campaignDetails:{servicesOffered:{leadGeneration:E.campaignDetails?.servicesOffered?.leadGeneration||!1,marketResearch:E.campaignDetails?.servicesOffered?.marketResearch||!1,appointmentSetting:E.campaignDetails?.servicesOffered?.appointmentSetting||!1,dataEnrichment:E.campaignDetails?.servicesOffered?.dataEnrichment||!1},expectationsFromUs:E.campaignDetails?.expectationsFromUs||"",leadQuotaCommitted:E.campaignDetails?.leadQuotaCommitted||0,startDate:F(E.campaignDetails?.startDate),endDate:F(E.campaignDetails?.endDate)},channels:{linkedInOutreach:E.channels?.linkedInOutreach||!1,coldEmail:E.channels?.coldEmail||!1,coldCalling:E.channels?.coldCalling||!1},icpDefinition:{targetIndustries:se(E.icpDefinition?.targetIndustries),targetJobTitles:se(E.icpDefinition?.targetJobTitles),companySizeMin:E.icpDefinition?.companySizeMin||0,companySizeMax:E.icpDefinition?.companySizeMax||1e3,geographies:se(E.icpDefinition?.geographies),keywords:se(E.icpDefinition?.keywords),exclusionCriteria:se(E.icpDefinition?.exclusionCriteria)},assignedTo:E.assignedTo||"",teamMembers:Array.isArray(E.teamMembers)&&E.teamMembers.length>0?E.teamMembers:[]})}}catch(z){console.error("Error fetching project:",z),g(z.response?.data?.error||"Couldn't load the project details. Try refreshing the page.")}finally{m(!1)}})()},[t,a]);const N=D=>{switch(D){case 1:return b.companyName.trim()?!0:(g("Company Name is required"),!1);case 2:return b.contactPerson.fullName.trim()?!0:(g("Full Name is required"),!1);default:return!0}},M=()=>{N(r)&&(g(null),r<Oc.length&&l(r+1))},B=()=>{r>1&&(l(r-1),g(null))},A=()=>{window.confirm("Are you sure you want to cancel? All unsaved data will be lost.")&&n("/projects")},Y=async()=>{if(N(r)){d(!0),g(null);try{const D={...b,icpDefinition:{...b.icpDefinition,targetIndustries:b.icpDefinition.targetIndustries,targetJobTitles:b.icpDefinition.targetJobTitles,geographies:b.icpDefinition.geographies,keywords:b.icpDefinition.keywords,exclusionCriteria:b.icpDefinition.exclusionCriteria}};let z;a?z=await Ae.put(`/projects/${t}`,D):z=await Ae.post("/projects",D),z.data.success?n("/projects"):g(z.data.error||`Couldn't ${a?"update":"create"} the project. Something went wrong.`)}catch(D){console.error(`Error ${a?"updating":"creating"} project:`,D),g(D.response?.data?.error||D.message||`Something went wrong trying to ${a?"update":"create"} the project. Try again.`)}finally{d(!1)}}},V=()=>{switch(r){case 1:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Company Details"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Company Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:b.companyName,onChange:D=>y("companyName",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter company name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),e.jsx("input",{type:"url",value:b.website,onChange:D=>y("website",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://example.com"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:b.city,onChange:D=>y("city",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter city"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsx("input",{type:"text",value:b.country,onChange:D=>y("country",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter country"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),e.jsx("input",{type:"text",value:b.industry,onChange:D=>y("industry",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter industry"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),e.jsxs("select",{value:b.companySize,onChange:D=>y("companySize",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select size"}),e.jsx("option",{value:"1-10",children:"1-10"}),e.jsx("option",{value:"11-50",children:"11-50"}),e.jsx("option",{value:"51-200",children:"51-200"}),e.jsx("option",{value:"201-500",children:"201-500"}),e.jsx("option",{value:"501-1000",children:"501-1000"}),e.jsx("option",{value:"1000+",children:"1000+"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Description"}),e.jsx("textarea",{value:b.companyDescription,onChange:D=>y("companyDescription",D.target.value),rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y",placeholder:"Enter company description"})]})]});case 2:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Contact Person"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:b.contactPerson.fullName,onChange:D=>v("contactPerson","fullName",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Designation"}),e.jsx("input",{type:"text",value:b.contactPerson.designation,onChange:D=>v("contactPerson","designation",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter designation"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:b.contactPerson.email,onChange:D=>v("contactPerson","email",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:b.contactPerson.phoneNumber,onChange:D=>v("contactPerson","phoneNumber",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+1 234 567 8900"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn Profile URL"}),e.jsx("input",{type:"url",value:b.contactPerson.linkedInProfileUrl,onChange:D=>v("contactPerson","linkedInProfileUrl",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://linkedin.com/in/username"})]})]});case 3:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Campaign Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Services Offered"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.campaignDetails.servicesOffered.leadGeneration,onChange:D=>j("leadGeneration",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Lead Generation"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.campaignDetails.servicesOffered.marketResearch,onChange:D=>j("marketResearch",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Market Research"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.campaignDetails.servicesOffered.appointmentSetting,onChange:D=>j("appointmentSetting",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Appointment Setting"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.campaignDetails.servicesOffered.dataEnrichment,onChange:D=>j("dataEnrichment",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Data Enrichment"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expectations from Us"}),e.jsx("textarea",{value:b.campaignDetails.expectationsFromUs,onChange:D=>v("campaignDetails","expectationsFromUs",D.target.value),rows:4,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y",placeholder:"Enter expectations"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Quota Committed"}),e.jsx("input",{type:"number",value:b.campaignDetails.leadQuotaCommitted,onChange:D=>v("campaignDetails","leadQuotaCommitted",parseInt(D.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:b.campaignDetails.startDate,onChange:D=>v("campaignDetails","startDate",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:b.campaignDetails.endDate,onChange:D=>v("campaignDetails","endDate",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]})]})]})]});case 4:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Channels"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Channel Selection"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.channels.linkedInOutreach,onChange:D=>v("channels","linkedInOutreach",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"LinkedIn Outreach"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.channels.coldEmail,onChange:D=>v("channels","coldEmail",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Cold Email"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.channels.coldCalling,onChange:D=>v("channels","coldCalling",D.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Cold Calling"})]})]})]})]});case 5:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"ICP Definition"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Industries (comma-separated)"}),e.jsx("input",{type:"text",value:b.icpDefinition.targetIndustries,onChange:D=>v("icpDefinition","targetIndustries",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Technology, Healthcare, Finance"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Job Titles (comma-separated)"}),e.jsx("input",{type:"text",value:b.icpDefinition.targetJobTitles,onChange:D=>v("icpDefinition","targetJobTitles",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., CEO, CTO, VP Sales"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size Min"}),e.jsx("input",{type:"number",value:b.icpDefinition.companySizeMin,onChange:D=>v("icpDefinition","companySizeMin",parseInt(D.target.value)||0),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size Max"}),e.jsx("input",{type:"number",value:b.icpDefinition.companySizeMax,onChange:D=>v("icpDefinition","companySizeMax",parseInt(D.target.value)||1e3),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1000",min:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Geographies (comma-separated)"}),e.jsx("input",{type:"text",value:b.icpDefinition.geographies,onChange:D=>v("icpDefinition","geographies",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., USA, UK, Canada"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords (comma-separated)"}),e.jsx("input",{type:"text",value:b.icpDefinition.keywords,onChange:D=>v("icpDefinition","keywords",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., SaaS, Cloud, AI"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclusion Criteria (comma-separated)"}),e.jsx("input",{type:"text",value:b.icpDefinition.exclusionCriteria,onChange:D=>v("icpDefinition","exclusionCriteria",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Government, Non-profit"})]})]});case 6:return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Team Allocation"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned To"}),e.jsx("input",{type:"text",value:b.assignedTo,onChange:D=>y("assignedTo",D.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter assigned person name"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Enter the name of the person assigned to manage this project"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Team Members"}),e.jsx("button",{type:"button",onClick:()=>{const D=[...b.teamMembers,""];y("teamMembers",D)},className:"px-3 py-1.5 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors",children:"+ Add Member"})]}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Add team member email addresses to grant them access to this project"}),b.teamMembers.length===0?e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"No team members added yet"}),e.jsx("button",{type:"button",onClick:()=>y("teamMembers",[""]),className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Add first team member"})]}):e.jsx("div",{className:"space-y-3",children:b.teamMembers.map((D,z)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"email",value:D,onChange:E=>{const F=[...b.teamMembers];F[z]=E.target.value.trim(),y("teamMembers",F)},className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"team.member@example.com"}),e.jsx("button",{type:"button",onClick:()=>{const E=b.teamMembers.filter((F,se)=>se!==z);y("teamMembers",E)},className:"px-3 py-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove team member",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},z))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," Team members will be able to access this project, view all activities, create/edit entries, and their activities will appear in Team Performance."]})})]});default:return null}};return h?e.jsx("div",{className:"p-6 max-w-4xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):e.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:a?"Edit Project":"Create New Project"}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:Oc.map((D,z)=>{const E=D.id<r,F=D.id===r,se=D.id>r;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${E||F?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"}`,children:E?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):D.id}),e.jsx("span",{className:`mt-2 text-xs font-medium ${F?"text-blue-600":se?"text-gray-400":"text-gray-600"}`,children:D.label})]}),z<Oc.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 ${E?"bg-blue-600":"bg-gray-200"}`})]},D.id)})})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-8 mb-6",children:[f&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:f}),V()]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:A,className:"text-gray-600 hover:text-gray-900 font-medium",children:"Cancel"}),e.jsxs("div",{className:"flex items-center gap-3",children:[r>1&&e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-gray-700 font-medium",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Previous"]}),r<Oc.length?e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:["Next",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):e.jsx("button",{onClick:Y,disabled:c,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:c?a?"Updating...":"Creating...":a?"Update Project":"Create Project & Map ICP"})]})]})]})}function L6({isOpen:n,onClose:t,projectId:a,onImportSuccess:r}){const[l,c]=k.useState(null),[d,h]=k.useState(""),[m,f]=k.useState("New"),[g,b]=k.useState(!1),[w,y]=k.useState(!1),[v,j]=k.useState(""),[N,M]=k.useState(""),B=k.useRef(null),A=["New","Contacted","Qualified","Proposal","Negotiation"],Y=O=>{if(O){const U=O.name.toLowerCase(),I=[".csv",".xlsx",".xls"],$=["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/excel","application/x-excel","application/x-msexcel"],G=I.some(X=>U.endsWith(X)),P=$.includes(O.type);if(!G&&!P){j("Please upload a CSV, XLSX, or XLS file only");return}c(O),j("")}},V=O=>{O.preventDefault(),b(!0)},D=O=>{O.preventDefault(),b(!1)},z=O=>{O.preventDefault(),b(!1);const U=O.dataTransfer.files[0];Y(U)},E=O=>{const U=O.target.files[0];Y(U)},F=async()=>{if(!l){j("Please select a file (CSV, XLSX, or XLS)");return}if(!a){j("Project ID is missing");return}y(!0),j(""),M("");try{const O=new FormData;O.append("file",l),O.append("projectId",a),d&&O.append("assignTo",d),O.append("defaultStage",m);const U=await Ae.post("/projects/bulk-import",O,{headers:{"Content-Type":"multipart/form-data"}});U.data.success&&(M(`Successfully imported ${U.data.data.imported} prospects. ${U.data.data.skipped>0?`${U.data.data.skipped} duplicates skipped.`:""}`),setTimeout(()=>{r?.(),se()},2e3))}catch(O){console.error("Import error:",O),j(O.response?.data?.error||"Couldn't import those prospects. Double-check your file format and give it another shot.")}finally{y(!1)}},se=()=>{c(null),h(""),f("New"),j(""),M(""),b(!1),B.current&&(B.current.value=""),t()};return n?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Bulk Import Prospects"}),e.jsx("button",{onClick:se,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Upload a CSV, XLSX, or XLS file with the following columns:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Name"})," (required)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company"})," (required)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Email"})," (required)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Person Linkedin Url"})," (required)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Title"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"First Phone"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Employees"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Category"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Industry"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Keywords"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Website"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company Linkedin Url"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Facebook Url"})," (optional)"]})]}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Twitter Url"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"City"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"State"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Country"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company Address"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company City"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company State"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company Country"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Company Phone"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"SEO Description"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Technologies"})," (optional)"]}),e.jsxs("li",{children:[e.jsx("span",{className:"font-semibold",children:"Annual Revenue"})," (optional)"]})]})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Upload File"}),e.jsxs("div",{onDragOver:V,onDragLeave:D,onDrop:z,onClick:()=>B.current?.click(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${g?"border-blue-500 bg-blue-50":l?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50 hover:border-gray-400"}`,children:[e.jsx("input",{ref:B,type:"file",accept:".csv,.xlsx,.xls,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,text/csv",onChange:E,className:"hidden"}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500",children:"CSV, XLSX, or XLS files only (max 10MB)"})]}),l&&e.jsx("p",{className:"text-sm text-green-600 font-medium mt-2",children:l.name})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Assign To"}),e.jsx("input",{type:"text",value:d,onChange:O=>h(O.target.value),placeholder:"Enter person name or leave empty for auto-assign",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-white"}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Enter team member name or leave empty to let system auto-assign"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Default Stage"}),e.jsx("select",{value:m,onChange:O=>f(O.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm bg-white",children:A.map(O=>e.jsx("option",{value:O,children:O},O))}),e.jsx("p",{className:"mt-1.5 text-xs text-gray-500",children:"Initial pipeline stage for imported prospects"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"Quick heads up"}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"We'll skip any duplicate emails automatically"}),e.jsx("li",{children:"Invalid email formats get flagged so you can fix them"}),e.jsx("li",{children:"Large files might take a minute or two to process"})]})]})]})}),v&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-700",children:v})}),N&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-green-700",children:N})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[e.jsx("button",{onClick:se,disabled:w,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:F,disabled:w||!l,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Import Prospects"]})})]})]})}):null}function A6({isOpen:n,onClose:t,type:a,selectedContacts:r,projectId:l,contacts:c}){const[d,h]=k.useState({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:"",email:"",linkedInUrl:"",status:"",linkedInAccountName:"",lnRequestSent:"",connected:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),[m,f]=k.useState({}),[g,b]=k.useState(!1),[w,y]=k.useState(!1),[v,j]=k.useState({current:0,total:0,success:0,failed:0}),[N,M]=k.useState({phone:!1,email:!1,linkedin:!1}),[B,A]=k.useState(!1),[Y,V]=k.useState([]),[D,z]=k.useState(""),[E,F]=k.useState(!1);k.useEffect(()=>{const L=localStorage.getItem("linkedInAccounts");if(L)try{V(JSON.parse(L))}catch(J){console.error("Error parsing LinkedIn accounts:",J),V([])}else V([])},[]),k.useEffect(()=>{if(n){setTimeout(()=>y(!0),10),j({current:0,total:r.size,success:0,failed:0});const L=new Date().toISOString().split("T")[0];h(J=>({...J,callDate:a==="call"?L:"",emailDate:a==="email"?L:"",linkedinDate:a==="linkedin"?L:""}))}else y(!1),h({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:"",email:"",linkedInUrl:"",status:"",linkedInAccountName:"",lnRequestSent:"",connected:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),f({}),A(!1),F(!1),z("")},[n,r.size]);const se=()=>{if(D.trim()&&!Y.includes(D.trim())){const L=[...Y,D.trim()];V(L),localStorage.setItem("linkedInAccounts",JSON.stringify(L)),h(J=>({...J,linkedInAccountName:D.trim()})),z(""),F(!1)}};if(!n)return null;const O=()=>{const L="w-5 h-5";switch(a){case"call":return e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:`${L} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})});case"email":return e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:`${L} text-white`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})});case"linkedin":return e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:`${L} text-white`,fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})});default:return null}},U=()=>{switch(a){case"call":return"Bulk Log Call Activity";case"email":return"Bulk Log Email Activity";case"linkedin":return"Bulk Log LinkedIn Activity";default:return"Bulk Log Activity"}},I=()=>{switch(a){case"call":return"from-green-50 to-emerald-50";case"email":return"from-blue-50 to-cyan-50";case"linkedin":return"from-blue-50 to-indigo-50";default:return"from-gray-50 to-gray-100"}},$=(L,J)=>{h(ie=>({...ie,[L]:J})),m[L]&&f(ie=>({...ie,[L]:""}))},G=()=>{const L={};if(d.nextAction&&!d.nextActionDate&&(L.nextActionDate="Next action date is required when next action is specified"),d.nextActionDate){const J=new Date(d.nextActionDate),ie=new Date,De=new Date(ie);De.setDate(De.getDate()+7),J>De&&(L.nextActionDate="Next action must be scheduled within 7 days")}return f(L),Object.keys(L).length===0},P=async L=>{if(L.preventDefault(),!G())return;b(!0);const J=Array.from(r),ie=c.filter(te=>J.includes((te._id||te.name).toString()));j({current:0,total:ie.length,success:0,failed:0});let De=0,oe=0;try{for(let te=0;te<ie.length;te++){const Ne=ie[te];let Z=null;Ne._id&&(Z=Ne._id.toString?Ne._id.toString():Ne._id,typeof Z=="string"&&Z.length!==24&&(Z=null)),j(Se=>({...Se,current:te+1}));try{const Se=d.email||Ne.email,Me=d.phoneNumber||Ne.firstPhone,Nt=d.linkedInUrl||Ne.personLinkedinUrl||Ne.companyLinkedinUrl,is=d.conversationNotes.trim()||"",os={projectId:l,type:a,template:d.template,outcome:null,conversationNotes:is,nextAction:d.nextAction,nextActionDate:d.nextActionDate,phoneNumber:Me||null,email:Se||null,linkedInUrl:Nt||null,status:d.status||null,linkedInAccountName:d.linkedInAccountName||null,lnRequestSent:d.lnRequestSent||null,connected:d.connected||null,callNumber:d.callNumber||null,callStatus:d.callStatus||null,callDate:d.callDate||null,emailDate:d.emailDate||null,linkedinDate:d.linkedinDate||null};if(Z&&(os.contactId=Z),(await Ae.post("/activities",os)).data.success&&d.status&&Z&&l)try{await Ae.put(`/projects/${l}/project-contacts/${Z}`,{stage:d.status})}catch(cs){console.error("Error updating contact status:",cs)}De++,j(cs=>({...cs,success:De}))}catch(Se){console.error(`Error saving activity for ${Ne.name}:`,Se),oe++,j(Me=>({...Me,failed:oe}))}}h({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:"",email:"",linkedInUrl:"",status:"",linkedInAccountName:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),setTimeout(()=>{t()},1e3)}catch(te){console.error("Error in bulk activity logging:",te),f({submit:"Some activities didn't save properly. Check what went wrong and try again."})}finally{b(!1)}},X=()=>{g||(h({template:"",outcome:"",conversationNotes:"",nextAction:"",nextActionDate:"",phoneNumber:"",email:"",linkedInUrl:"",status:"",linkedInAccountName:"",lnRequestSent:"",connected:"",callNumber:"",callStatus:"",callDate:"",emailDate:"",linkedinDate:""}),f({}),M({phone:!1,email:!1,linkedin:!1}),t())},T=async(L,J,ie)=>{const De=Array.from(r),oe=c.filter(Z=>{const Se=Z._id?.toString();return De.includes((Z._id||Z.name).toString())&&Se&&typeof Se=="string"&&Se.length===24});if(oe.length===0){f({submit:"No valid contacts selected to save."});return}M(Z=>({...Z,[L]:!0}));let te=0,Ne=0;try{for(const Z of oe)try{const Se=Z._id.toString();await Ae.put(`/contacts/${Se}`,{[ie]:J||""}),te++}catch(Se){console.error(`Error saving ${L} for ${Z.name}:`,Se),Ne++}te>0&&(f({}),L==="phone"?h(Z=>({...Z,phoneNumber:J||""})):L==="email"?h(Z=>({...Z,email:J||""})):L==="linkedin"&&h(Z=>({...Z,linkedInUrl:J||""}))),Ne>0&&f({submit:`Saved ${L} for ${te} contact(s), but ${Ne} failed.`})}catch(Z){console.error(`Error saving ${L}:`,Z),f({submit:`Couldn't save ${L}. Try again in a moment.`})}finally{M(Z=>({...Z,[L]:!1}))}},W=c.filter(L=>r.has((L._id||L.name).toString())),je=W.some(L=>L.firstPhone),C=W.some(L=>L.email),H=W.some(L=>L.personLinkedinUrl||L.companyLinkedinUrl),ue=()=>W.map(L=>L.personLinkedinUrl||L.companyLinkedinUrl).filter(L=>L&&L.trim()!==""),ge=()=>{const L=ue();if(L.length>0){const J=L.join(`
`);navigator.clipboard.writeText(J).then(()=>{const ie=document.getElementById("copy-linkedin-urls-btn");if(ie){const De=ie.textContent;ie.textContent="Copied!",ie.classList.add("bg-green-600"),setTimeout(()=>{ie.textContent=De,ie.classList.remove("bg-green-600")},2e3)}}).catch(ie=>{console.error("Failed to copy URLs:",ie)})}};return e.jsx("div",{className:`fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4 transition-opacity duration-300 ${w?"opacity-100":"opacity-0"}`,onClick:X,children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col transform transition-all duration-300 ${w?"scale-100 translate-y-0":"scale-95 translate-y-4"}`,onClick:L=>L.stopPropagation(),children:[e.jsx("div",{className:`bg-gradient-to-r ${I()} border-b border-gray-200 p-4 flex-shrink-0`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[B&&e.jsx("button",{onClick:()=>A(!1),className:"w-8 h-8 flex items-center justify-center rounded-lg text-gray-600 hover:text-gray-900 hover:bg-white/50 transition-all duration-200 group",title:"Back to form",children:e.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"animate-pulse-once",children:O()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-0.5",children:B&&a==="linkedin"?"LinkedIn Message Variations":B&&a==="email"?"Email Variations":U()}),!B&&e.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:[W.length," ",W.length===1?"contact":"contacts"," selected"]})]})]}),e.jsx("button",{onClick:X,disabled:g,className:"w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-white/50 transition-all duration-200 group disabled:opacity-50",children:e.jsx("svg",{className:"w-5 h-5 group-hover:rotate-90 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),g&&e.jsxs("div",{className:"px-4 py-3 bg-blue-50 border-b border-blue-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-blue-900",children:["Processing ",v.current," of ",v.total," contacts..."]}),e.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:[v.success," success, ",v.failed," failed"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.current/v.total*100}%`}})})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200 max-h-32 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700",children:a==="linkedin"?"Selected LinkedIn URLs:":"Selected Contacts:"}),a==="linkedin"&&ue().length>0&&e.jsxs("button",{id:"copy-linkedin-urls-btn",type:"button",onClick:ge,className:"px-2 py-1 text-xs font-semibold text-blue-600 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 transition-colors flex items-center gap-1",title:"Copy all LinkedIn URLs",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy All URLs"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a==="linkedin"?e.jsxs(e.Fragment,{children:[W.slice(0,10).map(L=>{const J=L.personLinkedinUrl||L.companyLinkedinUrl;return J?e.jsx("span",{className:"px-2 py-1 bg-white text-xs font-medium text-blue-700 rounded-md border border-blue-200 hover:bg-blue-50 transition-colors break-all",title:J,children:J.length>50?`${J.substring(0,50)}...`:J},L._id||L.name):null}),W.length>10&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-xs font-semibold text-blue-700 rounded-md",children:["+",W.length-10," more"]})]}):e.jsxs(e.Fragment,{children:[W.slice(0,10).map(L=>e.jsx("span",{className:"px-2 py-1 bg-white text-xs font-medium text-gray-700 rounded-md border border-gray-200",children:L.name||"N/A"},L._id||L.name)),W.length>10&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-xs font-semibold text-blue-700 rounded-md",children:["+",W.length-10," more"]})]})})]}),B&&a==="linkedin"?e.jsx("div",{className:"p-4 bg-gray-50 overflow-y-auto flex-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-yellow-100",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Existing"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 3"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"1st message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I'm usually in touch with teams managing residential projects and leasing, so I was just curious how you manage bookings, rentals, and property maintenance across your units."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I mostly connect with people working in residential and leasing rolesit keeps me close to how things really move on a day-to-day basis."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"The world today feels like one connected marketplace, and being part of the real estate ecosystem, I enjoy connecting with people who are building and managing things on the ground. Looking forward to connecting and exchanging perspectives."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"2nd Message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I've noticed that no two property teams manage bookings, rentals, and maintenance the same way. I'm always interested in hearing how others handle it in practice."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"Always open to exchanging thoughts and learning how things are shaping up on your side. Would be great to stay connected."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"We work closely with property teams to simplify how day-to-day operations are managed  from rentals and billing to maintenance  so things feel more connected and easier to handle."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"3rd Message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"Everyday operational conversations around properties quietly offer the most value in understanding how things really work."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"Enjoy grounded conversations around real work and real challenges. Happy to stay connected and exchange insights whenever it makes sense."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"We believe real value often comes from reducing small operational frictions and giving teams better visibility into what's happening across their properties."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"4th Message"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I'm always interested in seeing how teams optimize their workflowsdo you have any strategies that make managing bookings and maintenance simpler?"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"I value thoughtful conversations with people close to the work. Whenever it feels right, I'd enjoy exchanging insights as things evolve on your side."}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:"No worries if you didn't catch my earlier message. Just checking if you're up for a chat about possible ways we can team up and grow together."})]})]})]})})})}):B&&a==="email"?e.jsx("div",{className:"p-4 bg-gray-50 overflow-y-auto flex-1",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-yellow-100",children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300 w-[15%]",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 1"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 2"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 3"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-900 border border-gray-300",children:"Variation 4"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"1st Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I work closely with people involved in residential projects and leasing, and I enjoy staying connected with those who are close to the day-to-day side of property work."}),e.jsx("p",{children:"At Terabits, we focus on making everyday property operations a little easier by keeping rentals, billing, and maintenance in one place."}),e.jsx("p",{children:"Happy to connect."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I usually stay in touch with people working close to residential projects and leasing. I've found those conversations tend to be the most honest and practical."}),e.jsx("p",{children:"I'm part of the Terabits team, where we focus on making everyday property operations easier to manage."}),e.jsx("p",{children:"Nice to connect."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-semibold",children:"Subject: Exchanging notes on leasing & residential work"}),e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I usually stay in touch with people working on residential projects and leasing. I've found these conversations to be the most practical."}),e.jsx("p",{children:'When it comes to daily management, where do you usually find the most friction or "extra work" in your current process?'})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I tend to reach out to people in residential leasing because the conversations are usually more practical."}),e.jsx("p",{children:`I'm curiouswhen it comes to your daily management, where do things usually get stuck or feel like a "headache" for your team?`}),e.jsx("p",{children:"Nice to connect,"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"2nd Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"Just wanted to follow up on my last note."}),e.jsx("p",{children:"We usually speak with property teams who want a bit more clarity in their daily workflows without changing how they already operate."}),e.jsx("p",{children:"Always good to stay in touch."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"Just sharing a short follow-up."}),e.jsx("p",{children:"Most of our discussions with property teams revolve around simplifying rentals, maintenance, and billing without adding extra complexity to daily work."}),e.jsx("p",{children:"Happy to stay in touch."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"Most of our discussions with property teams revolve around simplifying rentals, maintenance, and billing."}),e.jsx("p",{children:"This is where Terabits usually steps inwe focus on making those everyday operations feel less like a chore so you can focus on the bigger picture."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"That's usually where we come in. At Terabits, we focus on making those messy partslike rentals, maintenance, and billingfeel a lot more manageable."}),e.jsx("p",{children:"We try to keep the tech simple so it actually helps the team instead of adding more work to their day."}),e.jsx("p",{children:"Happy to stay in touch,"})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"3rd Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing we often notice is that small improvements in visibility can make day-to-day property work feel much more manageable."}),e.jsx("p",{children:"Thought I'd share that with you."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing I often hear is that even small clarity in systems can make a big difference in day-to-day property operations."}),e.jsx("p",{children:"Thought I'd share that with you."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing I often hear is that small clarity in systems makes a big difference."}),e.jsx("p",{children:"Specifically, we help by automating the repetitive stufflike tracking maintenance requests or streamlining billing workflowswithout adding extra complexity to your day-to-day work."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"One thing I've noticed is that just adding a bit of clarity to maintenance tracking or billing can save a lot of hours."}),e.jsx("p",{children:"We mostly help by automating those repetitive tasks so they just happen in the background. It's a small change that usually makes the day-to-day much smoother."}),e.jsx("p",{children:"Thought I'd share that."})]})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-xs font-semibold text-gray-900 bg-yellow-50 border border-gray-300 align-top",children:"4th Email"}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I'll leave it here for now."}),e.jsx("p",{children:"If at any point it feels useful to exchange notes around property operations or workflows, I'm always happy to connect."}),e.jsx("p",{children:"Wishing you a great week ahead."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I won't take more of your time."}),e.jsx("p",{children:"If at any point it feels useful to exchange notes around property operations or workflows, I'm always happy to connect."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I won't take more of your time."}),e.jsx("p",{children:"If at any point it feels useful to exchange notes around property operations or workflows, I'm always happy to connect."}),e.jsx("p",{children:"Take care."})]})}),e.jsx("td",{className:"px-4 py-3 text-xs text-gray-700 border border-gray-300 align-top",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:["Hi ",{Name},","]}),e.jsx("p",{children:"I'll leave it here as I don't want to crowd your inbox."}),e.jsx("p",{children:"If you ever want to swap notes on how to make property workflows easier, I'm always happy to chat."}),e.jsx("p",{children:"Wishing you the best,"})]})})]})]})]})})})}):e.jsx("form",{onSubmit:P,className:"p-4 bg-gray-50 overflow-y-auto flex-1",children:e.jsxs("div",{className:"space-y-4",children:[a!=="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700",children:"Select Template (Optional)"}),(a==="linkedin"||a==="email")&&e.jsxs("button",{type:"button",onClick:()=>A(!0),disabled:g,className:"px-3 py-1.5 text-xs font-semibold text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-all duration-200 flex items-center gap-1.5 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a==="email"?"View Email Variations":"View Message Variations"]})]}),e.jsxs("select",{value:d.template,onChange:L=>$("template",L.target.value),disabled:g,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"no-template",children:"No Template"}),a==="email"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"introduction-email",children:"Introduction Email"}),e.jsx("option",{value:"follow-up-email",children:"Follow-up Email"}),e.jsx("option",{value:"value-proposition-email",children:"Value Proposition Email"})]}):a==="linkedin"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"connection-request-message",children:"Connection Request Message"}),e.jsx("option",{value:"introduction-message",children:"Introduction Message"}),e.jsx("option",{value:"follow-up-message",children:"Follow-up Message"})]}):null]})]}),a==="linkedin"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["LinkedIn Account Used ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),e.jsxs("select",{value:d.linkedInAccountName,onChange:L=>$("linkedInAccountName",L.target.value),disabled:g,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select LinkedIn account"}),Y.map((L,J)=>e.jsx("option",{value:L,children:L},J))]})]}),e.jsx("button",{type:"button",onClick:()=>F(!E),disabled:g,className:"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Cancel":"+ Add"})]}),E&&e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("input",{type:"text",value:D,onChange:L=>z(L.target.value),onKeyPress:L=>{L.key==="Enter"&&(L.preventDefault(),se())},disabled:g,className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter new LinkedIn account name"}),e.jsx("button",{type:"button",onClick:se,disabled:!D.trim()||Y.includes(D.trim())||g,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Add"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select or add a LinkedIn account that sent the connection request"]})]}),a==="linkedin"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Ln Request Sent ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:d.lnRequestSent,onChange:L=>$("lnRequestSent",L.target.value),disabled:g,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Existing Connect",children:"Existing Connect"}),e.jsx("option",{value:"Inactive Profile",children:"Inactive Profile"}),e.jsx("option",{value:"Irrelevant Profile",children:"Irrelevant Profile"}),e.jsx("option",{value:"Open to Work",children:"Open to Work"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Status of the LinkedIn connection request"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Connected ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:d.connected,onChange:L=>$("connected",L.target.value),disabled:g,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"Yes",children:"Yes"}),e.jsx("option",{value:"No",children:"No"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Whether the connection was established"]})]})]}),(a==="email"||a==="linkedin")&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Status ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:d.status,onChange:L=>$("status",L.target.value),disabled:g,className:`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed ${m.status?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select status"}),a==="email"?e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"No Reply",children:"No Reply"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Out of Office",children:"Out of Office"}),e.jsx("option",{value:"Meeting Proposed",children:"Meeting Proposed"}),e.jsx("option",{value:"Meeting Scheduled",children:"Meeting Scheduled"}),e.jsx("option",{value:"Interested",children:"Interested"}),e.jsx("option",{value:"Wrong Person",children:"Wrong Person"}),e.jsx("option",{value:"Bounce",children:"Bounce"}),e.jsx("option",{value:"Opt-Out",children:"Opt-Out"}),e.jsx("option",{value:"Meeting Completed",children:"Meeting Completed"})]}):e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"CIP",children:"CIP"}),e.jsx("option",{value:"No Reply",children:"No Reply"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Meeting Proposed",children:"Meeting Proposed"}),e.jsx("option",{value:"Meeting Scheduled",children:"Meeting Scheduled"}),e.jsx("option",{value:"In-Person Meeting",children:"In-Person Meeting"}),e.jsx("option",{value:"Meeting Completed",children:"Meeting Completed"}),e.jsx("option",{value:"SQL",children:"SQL"}),e.jsx("option",{value:"Tech Discussion",children:"Tech Discussion"}),e.jsx("option",{value:"WON",children:"WON"}),e.jsx("option",{value:"Lost",children:"Lost"}),e.jsx("option",{value:"Low Potential - Open",children:"Low Potential - Open"}),e.jsx("option",{value:"Potential Future",children:"Potential Future"})]})]}),m.status&&e.jsxs("p",{className:"mt-2 text-xs text-red-600 flex items-center gap-1 animate-shake",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.status]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a==="email"?"Update the contact status based on this email interaction":"Update the contact status based on this interaction"]})]}),a==="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Call ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx("div",{children:e.jsxs("select",{value:d.callNumber,onChange:L=>$("callNumber",L.target.value),disabled:g,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select call number"}),e.jsx("option",{value:"1st call",children:"1st call"}),e.jsx("option",{value:"2nd call",children:"2nd call"}),e.jsx("option",{value:"3rd call",children:"3rd call"}),e.jsx("option",{value:"4th call",children:"4th call"}),e.jsx("option",{value:"5th call",children:"5th call"}),e.jsx("option",{value:"6th call",children:"6th call"}),e.jsx("option",{value:"7th call",children:"7th call"}),e.jsx("option",{value:"8th call",children:"8th call"}),e.jsx("option",{value:"9th call",children:"9th call"}),e.jsx("option",{value:"10th call",children:"10th call"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("input",{type:"date",value:d.callDate,onChange:L=>$("callDate",L.target.value),disabled:g,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Select call date"})]})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select which call attempt this is and the date when the call was made"]})]}),a==="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Status ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:d.callStatus,onChange:L=>$("callStatus",L.target.value),disabled:g,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select status"}),e.jsx("option",{value:"Interested",children:"Interested"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Ring",children:"Ring"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"Call Back",children:"Call Back"}),e.jsx("option",{value:"Hang Up",children:"Hang Up"}),e.jsx("option",{value:"Switch Off",children:"Switch Off"}),e.jsx("option",{value:"Future",children:"Future"}),e.jsx("option",{value:"Details Shared",children:"Details Shared"}),e.jsx("option",{value:"Demo Booked",children:"Demo Booked"}),e.jsx("option",{value:"Invalid",children:"Invalid"}),e.jsx("option",{value:"Existing",children:"Existing"}),e.jsx("option",{value:"Demo Completed",children:"Demo Completed"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select the status of this call"]})]}),a==="call"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("input",{type:"tel",value:d.phoneNumber,onChange:L=>$("phoneNumber",L.target.value),disabled:g||N.phone,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Add phone number (e.g., +1 234-567-8900)"})]}),e.jsx("button",{type:"button",onClick:()=>T("phone",d.phoneNumber,"firstPhone"),disabled:g||N.phone,className:"px-3 py-2 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 whitespace-nowrap",title:"Save to database for all selected contacts",children:N.phone?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:je?"Some selected contacts have phone numbers in database. Enter a value to override or leave empty to use existing data.":"This will be applied to all selected contacts. Click Save to store in database for all contacts with valid IDs."})]}),a==="email"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("input",{type:"email",value:d.email,onChange:L=>$("email",L.target.value),disabled:g||N.email,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Add email address (e.g., contact@example.com)"})]}),e.jsx("button",{type:"button",onClick:()=>T("email",d.email,"email"),disabled:g||N.email,className:"px-3 py-2 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 whitespace-nowrap",title:"Save to database for all selected contacts",children:N.email?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:C?"Some selected contacts have emails in database. Enter a value to override or leave empty to use existing data.":"This will be applied to all selected contacts. Click Save to store in database for all contacts with valid IDs."})]}),a==="email"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Email Date ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("input",{type:"date",value:d.emailDate,onChange:L=>$("emailDate",L.target.value),disabled:g,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Select email date"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select the date when the email was sent"]})]}),a==="linkedin"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["LinkedIn Profile URL ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),e.jsx("input",{type:"url",value:d.linkedInUrl,onChange:L=>$("linkedInUrl",L.target.value),disabled:g||N.linkedin,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Add LinkedIn profile URL (e.g., https://linkedin.com/in/username)"})]}),e.jsx("button",{type:"button",onClick:()=>T("linkedin",d.linkedInUrl,"personLinkedinUrl"),disabled:g||N.linkedin,className:"px-3 py-2 text-xs font-semibold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 whitespace-nowrap",title:"Save to database for all selected contacts",children:N.linkedin?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:H?`Using LinkedIn URLs from ${ue().length} selected contact(s). Enter a value to override or leave empty to use existing URLs.`:"This will be applied to all selected contacts. Click Save to store in database for all contacts with valid IDs."}),a==="linkedin"&&ue().length>0&&e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsxs("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:["LinkedIn URLs from selected contacts (",ue().length,"):"]}),e.jsxs("div",{className:"max-h-20 overflow-y-auto space-y-1",children:[ue().slice(0,5).map((L,J)=>e.jsx("p",{className:"text-xs text-blue-700 break-all font-mono",children:L},J)),ue().length>5&&e.jsxs("p",{className:"text-xs text-blue-600 font-semibold",children:["+",ue().length-5," more URLs"]})]})]})]}),a==="linkedin"&&e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["LinkedIn Date ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("input",{type:"date",value:d.linkedinDate,onChange:L=>$("linkedinDate",L.target.value),disabled:g,className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Select LinkedIn date"})]}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Select the date when the LinkedIn activity occurred"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Conversation Notes ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(optional, but helpful)"})]}),e.jsx("textarea",{value:d.conversationNotes,onChange:L=>$("conversationNotes",L.target.value),disabled:g,rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-y font-sans hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Jot down what happened, any concerns they raised, or what to follow up on. This applies to all selected contacts..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Next Action ",e.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),e.jsxs("select",{value:d.nextAction,onChange:L=>$("nextAction",L.target.value),disabled:g,className:`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed ${m.nextAction?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select an option"}),e.jsx("option",{value:"follow-up-call",children:"Follow-up Call"}),e.jsx("option",{value:"send-proposal",children:"Send Proposal"}),e.jsx("option",{value:"schedule-meeting",children:"Schedule Meeting"}),e.jsx("option",{value:"send-email",children:"Send Email"}),e.jsx("option",{value:"connect-linkedin",children:"Connect on LinkedIn"})]}),m.nextAction&&e.jsxs("p",{className:"mt-2 text-xs text-red-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.nextAction]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("label",{className:"block text-xs font-semibold text-gray-700 mb-2",children:["Next Action Date ",e.jsx("span",{className:d.nextAction?"text-red-500":"text-gray-400 text-xs font-normal",children:d.nextAction?"*":"(Optional)"})]}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"date",value:d.nextActionDate,onChange:L=>$("nextActionDate",L.target.value),disabled:g,className:`w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white hover:border-gray-400 disabled:opacity-50 disabled:cursor-not-allowed ${m.nextActionDate?"border-red-300 bg-red-50":"border-gray-300"}`})}),m.nextActionDate&&e.jsxs("p",{className:"mt-2 text-xs text-red-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.nextActionDate]})]})]}),m.submit&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-3 animate-shake",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-red-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-xs font-medium text-red-700",children:m.submit})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:X,disabled:g,className:"px-4 py-2 text-xs font-semibold text-gray-700 bg-white border-2 border-gray-300 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 text-xs font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105 disabled:hover:scale-100",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Log Activity for ",W.length," ",W.length===1?"Contact":"Contacts"]})})]})]})})]})})}const tn=n=>n.type==="call"&&n.callDate?new Date(n.callDate):n.type==="email"&&n.emailDate?new Date(n.emailDate):n.type==="linkedin"&&n.linkedinDate?new Date(n.linkedinDate):new Date(n.createdAt),D6=n=>{if(!n._id)return null;try{const t=n._id.toString?n._id.toString():String(n._id);if(t.length>=8){const a=parseInt(t.substring(0,8),16)*1e3;return new Date(a)}}catch(t){console.error("Error extracting import date from contact ID:",t)}return n.createdAt?new Date(n.createdAt):null};function _6(){const{id:n}=Xs(),t=mt(),[a,r]=wi(),[l,c]=k.useState(null),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState(null),[w,y]=k.useState(a.get("search")||""),[v,j]=k.useState(""),N=k.useRef(null),[M,B]=k.useState(a.get("quickFilter")||""),[A,Y]=k.useState(a.get("filterStatus")||""),[V,D]=k.useState(a.get("filterActionDate")||""),[z,E]=k.useState(a.get("filterActionDateFrom")||""),[F,se]=k.useState(a.get("filterActionDateTo")||""),[O,U]=k.useState(a.get("filterLastInteraction")||""),[I,$]=k.useState(a.get("filterLastInteractionFrom")||""),[G,P]=k.useState(a.get("filterLastInteractionTo")||""),[X,T]=k.useState(a.get("filterImportDate")||""),[W,je]=k.useState(a.get("filterImportDateFrom")||""),[C,H]=k.useState(a.get("filterImportDateTo")||""),[ue,ge]=k.useState(a.get("filterNoActivity")==="true"),[L,J]=k.useState(a.get("filterMatchType")||""),[ie,De]=k.useState(null),[oe,te]=k.useState("linkedin"),[Ne,Z]=k.useState({isOpen:!1,filter:null}),[Se,Me]=k.useState(null),[Nt,is]=k.useState(new Set),[os,Vt]=k.useState({}),[cs,rn]=k.useState({}),[Gt,Ia]=k.useState({isOpen:!1,type:null,contactName:"",companyName:"",projectId:null,contactId:null,phoneNumber:null,email:null,linkedInProfileUrl:null,lastActivity:null}),[Cr,zt]=k.useState(!1),[K,ke]=k.useState([]),[Ce,et]=k.useState(new Set),[zs,Ha]=k.useState(!1),[to,ki]=k.useState({isOpen:!1,type:null}),[Si,ds]=k.useState({}),[jn,us]=k.useState({}),[gd,Mr]=k.useState(!1),[Lr,Qn]=k.useState(!1),[wn,Ci]=k.useState(new Set),[Xe,Mi]=k.useState(null),[Li,so]=k.useState(!1),[Ua,Ar]=k.useState(null),[ln,no]=k.useState("asc"),[Fa,Va]=k.useState(!1),Ai=k.useRef(null),Dt=k.useMemo(()=>{if(!l?.channels)return["call","email","linkedin"];const R=[];return l.channels.coldCalling&&R.push("call"),l.channels.coldEmail&&R.push("email"),l.channels.linkedInOutreach&&R.push("linkedin"),R.length>0?R:["call","email","linkedin"]},[l?.channels]);k.useEffect(()=>{Dt.length>0&&!Dt.includes(oe)&&te(Dt[0])},[Dt,oe]),k.useEffect(()=>{const R=be=>{Ai.current&&!Ai.current.contains(be.target)&&Va(!1)};return Fa&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[Fa]),k.useEffect(()=>{const R=a.get("search")||"";R&&j(R)},[]),k.useEffect(()=>(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{j(w)},300),()=>{N.current&&clearTimeout(N.current)}),[w]),k.useEffect(()=>{n&&Dr().then(()=>{Promise.all([Jn().catch(R=>{console.error("Error fetching activities:",R)}),cn(1).catch(R=>{console.error("Error fetching imported contacts:",R)}),_r().catch(R=>{console.error("Error fetching KPI metrics:",R)})])})},[n]);const Dr=async()=>{try{f(!0);const R=await Ae.get(`/projects/${n}`);R.data.success&&c(R.data.data)}catch(R){console.error("Error fetching project:",R),b("Having trouble loading the project. Refresh the page and try again.")}finally{f(!1)}},_r=async()=>{try{so(!0);const R=await Ae.get(`/projects/${n}/kpi-metrics`);R.data.success&&Mi(R.data.data)}catch(R){console.error("Error fetching KPI metrics:",R)}finally{so(!1)}},[Ss,on]=k.useState(1),[Ct,Kt]=k.useState(0),[hs,Er]=k.useState(1),Rr=50,cn=async(R=1)=>{try{f(!0);const be=await Ae.get(`/projects/${n}/project-contacts?page=${R}&limit=${Rr}`);if(be.data.success){const ye=be.data.data||[],he=be.data.pagination||{};Kt(he.total||ye.length),Er(he.totalPages||1),on(R);const xe=new Map;ye.forEach(de=>{const re=de._id?.toString?de._id.toString():String(de._id);if(!re)return;const Le=xe.get(re);if(!Le)xe.set(re,de);else{const Ue=Le.projectContactId!==null&&Le.projectContactId!==void 0;de.projectContactId!==null&&de.projectContactId!==void 0&&!Ue&&xe.set(re,de)}});let ne=Array.from(xe.values());wn.size>0&&(ne=ne.filter(de=>{if(!de._id)return!0;const re=de._id.toString?de._id.toString():String(de._id);return!wn.has(re)})),h(ne)}}catch(be){console.error("Error fetching imported contacts:",be)}finally{f(!1)}},Xn=k.useCallback(R=>{R>=1&&R!==Ss&&cn(R)},[Ss,n]),Gs=async()=>{try{const R=await Ae.get(`/projects/${n}/similar-contacts`);if(R.data.success){let be=R.data.data||[];if(wn.size>0){const ye=be.length;be=be.filter(he=>{if(!he._id)return!0;const xe=he._id.toString?he._id.toString():String(he._id);return!wn.has(xe)}),ye!==be.length&&console.log(`Filtered out ${ye-be.length} previously deleted contact(s) from similar contacts`)}return h(be),R.data.matchStats&&Me(R.data.matchStats),R.data.hasICP===!1?(Ha(!1),zs&&alert(R.data.message||"No ICP defined for this project. Please add an ICP definition to get suggestions."),!1):!0}}catch(R){return console.error("Error fetching similar contacts:",R),!1}},Tr=l?.icpDefinition?.companySizeMin!==void 0&&l?.icpDefinition?.companySizeMax!==void 0&&!(l.icpDefinition.companySizeMin===0&&l.icpDefinition.companySizeMax===1e3),Gn=l?.icpDefinition?.targetIndustries&&Array.isArray(l.icpDefinition.targetIndustries)&&l.icpDefinition.targetIndustries.length>0,Kn=l?.icpDefinition?.targetJobTitles&&Array.isArray(l.icpDefinition.targetJobTitles)&&l.icpDefinition.targetJobTitles.length>0,Wa=l?.icpDefinition?.geographies&&Array.isArray(l.icpDefinition.geographies)&&l.icpDefinition.geographies.length>0,Zn=l?.icpDefinition?.keywords&&Array.isArray(l.icpDefinition.keywords)&&l.icpDefinition.keywords.length>0,at=Gn||Kn||Wa||Zn||Tr;k.useEffect(()=>{const R=new URLSearchParams;w&&R.set("search",w),M&&R.set("quickFilter",M),A&&R.set("filterStatus",A),V&&R.set("filterActionDate",V),z&&R.set("filterActionDateFrom",z),F&&R.set("filterActionDateTo",F),O&&R.set("filterLastInteraction",O),I&&R.set("filterLastInteractionFrom",I),G&&R.set("filterLastInteractionTo",G),X&&R.set("filterImportDate",X),W&&R.set("filterImportDateFrom",W),C&&R.set("filterImportDateTo",C),ue&&R.set("filterNoActivity","true"),L&&R.set("filterMatchType",L),r(R,{replace:!0})},[w,M,A,V,z,F,O,I,G,X,W,C,ue,L,r]),k.useEffect(()=>{zs&&!at&&(Ha(!1),cn().catch(R=>{console.error("Error fetching imported contacts:",R)}))},[at,zs]);const ao=async()=>{if(!at){alert("No ICP (Ideal Customer Profile) is defined for this project. Please add an ICP definition in project settings to get suggestions.");return}const R=!zs;Ha(R),R?(!await Gs()||!at)&&(Ha(!1),at||alert("No ICP (Ideal Customer Profile) is defined for this project. Please add an ICP definition in project settings to get suggestions.")):await cn()},Jn=async()=>{try{const R=await Ae.get(`/activities/project/${n}?limit=1000&summary=true`);if(R.data.success){const be=R.data.data||[];ke(be),_r()}}catch(R){console.error("Error fetching project activities:",R)}},pt=k.useMemo(()=>{const R={byContactId:new Map,lastActivityByContactId:new Map,nextActionByContactId:new Map,latestActivityStatusByContactId:new Map},be=new Date;return K.forEach(ye=>{if(ye.contactId){const he=ye.contactId.toString();R.byContactId.has(he)||R.byContactId.set(he,[]),R.byContactId.get(he).push(ye);const xe=R.lastActivityByContactId.get(he),ne=tn(ye);if(!xe)R.lastActivityByContactId.set(he,ye);else{const re=tn(xe);ne>re&&R.lastActivityByContactId.set(he,ye)}if(ye.nextActionDate&&new Date(ye.nextActionDate)>=be){const re=R.nextActionByContactId.get(he);(!re||new Date(ye.nextActionDate)<new Date(re.nextActionDate))&&R.nextActionByContactId.set(he,ye)}let de=null;if(ye.type==="call"&&ye.callStatus&&ye.callStatus.trim()!==""?de=ye.callStatus:ye.status&&ye.status.trim()!==""&&(de=ye.status),de){const re=R.latestActivityStatusByContactId.get(he),Le=tn(ye);if(!re)R.latestActivityStatusByContactId.set(he,{status:de,createdAt:Le,activityDate:Le});else{const Ue=re.activityDate?new Date(re.activityDate):new Date(re.createdAt);Le>Ue&&R.latestActivityStatusByContactId.set(he,{status:de,createdAt:Le,activityDate:Le})}}}}),R},[K]),Ks=k.useCallback(async(R,be,ye)=>{if(cs[R])return;const he=R?.toString?R.toString():R;if(he)try{rn(de=>({...de,[R]:!0}));const ne=(pt.byContactId.get(he)||[]).filter(de=>de.projectId&&de.projectId.toString()===n);if(ne.length>0){Vt(de=>({...de,[R]:ne.sort((re,Le)=>new Date(Le.createdAt)-new Date(re.createdAt))})),rn(de=>({...de,[R]:!1}));return}try{const de=await Ae.get(`/activities/contact/${he}?projectId=${n}`);if(de.data.success){const re=de.data.data||[];Vt(Le=>({...Le,[R]:re.sort((Ue,Ge)=>new Date(Ge.createdAt)-new Date(Ue.createdAt))}))}}catch(de){console.warn(`API call failed for contact ${he}, using cached activities:`,de.message);const re=K.filter(Le=>{if((Le.projectId?.toString?Le.projectId.toString():Le.projectId)!==n)return!1;if(Le.contactId&&(Le.contactId.toString?Le.contactId.toString():Le.contactId)===he)return!0;if(be||ye){const Ge=be?.toLowerCase()||"",fs=ye?.toLowerCase()||"",Wt=Le.conversationNotes?.toLowerCase()||"";return Wt.includes(Ge)||Wt.includes(fs)}return!1});Vt(Le=>({...Le,[R]:re.sort((Ue,Ge)=>new Date(Ge.createdAt)-new Date(Ue.createdAt))}))}}catch(xe){console.error("Error fetching activities:",xe)}finally{rn(xe=>({...xe,[R]:!1}))}},[cs,pt,K]),pd=k.useCallback(async(R,be,ye)=>{Nt.has(R)?k.startTransition(()=>{is(xe=>{const ne=new Set(xe);return ne.delete(R),ne})}):(k.startTransition(()=>{is(xe=>new Set(xe).add(R))}),Ks(R,be,ye).catch(xe=>{console.error("Error fetching activities:",xe)}))},[Nt,Ks]),$a=(R,be)=>{const ye=be._id?be._id.toString?be._id.toString():String(be._id):null;let he=null,xe=R;ye&&(he=pt.lastActivityByContactId.get(ye)||null,he&&he.type&&(xe=he.type)),Ia({isOpen:!0,type:xe,contactName:be.name||"N/A",companyName:be.company||"",projectId:n,contactId:ye||null,phoneNumber:be.firstPhone||null,email:be.email||null,linkedInProfileUrl:be.personLinkedinUrl||be.companyLinkedinUrl||null,lastActivity:he||null})},io=async()=>{Ia({isOpen:!1,type:null,contactName:"",companyName:"",projectId:null,contactId:null,phoneNumber:null,email:null,linkedInProfileUrl:null,lastActivity:null}),await Jn(),await new Promise(R=>setTimeout(R,100)),zs?await Gs():await cn(),Nt.forEach(R=>{const be=d.find(ye=>(ye._id||ye.name)===R);be&&Ks(R,be.email,be.name)})},bd=async()=>{ki({isOpen:!1,type:null}),et(new Set),await Jn(),await new Promise(R=>setTimeout(R,100)),zs?await Gs():await cn(),Nt.forEach(R=>{const be=d.find(ye=>(ye._id||ye.name)===R);be&&Ks(R,be.email,be.name)})},Di=R=>R?R.split(" ").map(be=>be[0]).join("").toUpperCase().slice(0,2):"?",_i=R=>{const ye={Ring:{bg:"bg-yellow-100",text:"text-yellow-800"},Busy:{bg:"bg-orange-100",text:"text-orange-800"},"Call Back":{bg:"bg-amber-100",text:"text-amber-800"},"Hang Up":{bg:"bg-red-100",text:"text-red-800"},"Switch Off":{bg:"bg-gray-100",text:"text-gray-800"},Invalid:{bg:"bg-red-100",text:"text-red-800"},Future:{bg:"bg-blue-100",text:"text-blue-800"},Existing:{bg:"bg-indigo-100",text:"text-indigo-800"},Interested:{bg:"bg-green-100",text:"text-green-800"},"Not Interested":{bg:"bg-red-100",text:"text-red-800"},"Details Shared":{bg:"bg-cyan-100",text:"text-cyan-800"},"Demo Booked":{bg:"bg-purple-100",text:"text-purple-800"},"Demo Completed":{bg:"bg-emerald-100",text:"text-emerald-800"},CIP:{bg:"bg-blue-100",text:"text-blue-800"},"No Reply":{bg:"bg-gray-100",text:"text-gray-800"},"Out of Office":{bg:"bg-gray-100",text:"text-gray-800"},"Meeting Proposed":{bg:"bg-yellow-100",text:"text-yellow-800"},"Meeting Scheduled":{bg:"bg-cyan-100",text:"text-cyan-800"},"In-Person Meeting":{bg:"bg-indigo-100",text:"text-indigo-800"},"Meeting Completed":{bg:"bg-green-100",text:"text-green-800"},SQL:{bg:"bg-emerald-100",text:"text-emerald-800"},"Tech Discussion":{bg:"bg-purple-100",text:"text-purple-800"},WON:{bg:"bg-green-200",text:"text-green-900",border:"border-2 border-green-400"},Lost:{bg:"bg-red-200",text:"text-red-900",border:"border-2 border-red-400"},"Low Potential - Open":{bg:"bg-orange-100",text:"text-orange-800"},"Potential Future":{bg:"bg-teal-100",text:"text-teal-800"},"Wrong Person":{bg:"bg-red-100",text:"text-red-800"},Bounce:{bg:"bg-red-100",text:"text-red-800"},"Opt-Out":{bg:"bg-red-100",text:"text-red-800"},New:{bg:"bg-blue-100",text:"text-blue-800"},Contacted:{bg:"bg-purple-100",text:"text-purple-800"},Qualified:{bg:"bg-green-100",text:"text-green-800"},Proposal:{bg:"bg-yellow-100",text:"text-yellow-800"},Negotiation:{bg:"bg-orange-100",text:"text-orange-800"}}[R]||{bg:"bg-gray-100",text:"text-gray-800"};return e.jsx("span",{className:`inline-flex items-center justify-center px-2.5 py-1 text-xs font-medium rounded-full whitespace-nowrap ${ye.bg} ${ye.text} ${ye.border||""}`,children:R})},It=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ms=R=>R?new Date(R).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"N/A",ro=({contact:R,activities:be})=>{const ye=()=>{const re=be.filter(Wt=>Wt.type==="call").length,Le=be.filter(Wt=>Wt.type==="email").length,Ue=be.filter(Wt=>Wt.type==="linkedin").length,Ge=be.length,fs=Math.min(100,Math.max(0,Ge*10+(Ge>0?30:0)));return{totalInteractions:Ge,callsMade:re,emailsSent:Le,linkedInMessages:Ue,engagementScore:fs}},he=re=>{switch(re){case"call":return e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})});case"email":return e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})});case"linkedin":return e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})});default:return null}},xe=re=>{switch(re){case"call":return"Call";case"email":return"Email";case"linkedin":return"LinkedIn";default:return"Activity"}},ne=re=>({"connected-had-conversation":"Connected","left-voicemail":"Left Voicemail","no-answer":"No Answer","wrong-number":"Wrong Number","not-interested":"Not Interested","email-sent-successfully":"Sent","email-bounced":"Bounced","received-reply":"Received Reply","out-of-office-response":"Out of Office","connection-request-sent":"Connection Request Sent","message-sent":"Message Sent","connection-accepted":"Connection Accepted"})[re]||re,de=ye();return e.jsxs("div",{className:"py-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Activity Summary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Calls Made"}),e.jsx("span",{className:"text-xs font-semibold text-gray-900",children:de.callsMade})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Emails Sent"}),e.jsx("span",{className:"text-xs font-semibold text-gray-900",children:de.emailsSent})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"LinkedIn Messages"}),e.jsx("span",{className:"text-xs font-semibold text-gray-900",children:de.linkedInMessages})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Engagement Score"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:de.engagementScore}),e.jsx("div",{className:"text-xs text-gray-500",children:"out of 100"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Interaction Timeline"}),e.jsxs("button",{onClick:()=>$a("call",R),className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Log Activity"]})]}),be.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500 text-sm transition-opacity duration-300",children:'No activities logged yet. Click "Log Activity" to get started.'}):e.jsx("div",{className:"space-y-4 animate-fade-in",children:be.sort((re,Le)=>new Date(Le.createdAt)-new Date(re.createdAt)).map((re,Le)=>e.jsxs("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-100 last:border-0 transition-all duration-300 hover:bg-gray-50 rounded-lg px-2 -mx-2 py-1",style:{animationDelay:`${Le*50}ms`},children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:he(re.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:xe(re.type)})}),re.conversationNotes&&(()=>{const Ge=re.conversationNotes.replace(/\[Contact:.*?\|.*?Email:.*?\|.*?Phone:.*?\|.*?LinkedIn:.*?\]/g,"").trim().replace(/\[Contact:.*?\]/g,"").trim();return Ge?e.jsx("p",{className:"text-sm text-gray-700 mb-2 whitespace-pre-wrap leading-relaxed",children:Ge}):null})(),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{className:`px-2 py-0.5 rounded font-medium ${re.type==="call"?"bg-blue-100 text-blue-700":re.type==="email"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:ne(re.outcome)}),e.jsxs("span",{children:["by ",l?.assignedTo||"User"]})]})]}),e.jsx("div",{className:"flex-shrink-0 text-xs text-gray-500 text-right whitespace-nowrap",children:ms(re.createdAt)})]},re._id))})]})]})},Nn=k.useMemo(()=>d.filter(R=>{if(v){const be=v.toLowerCase();if(!(R.name&&R.name.toLowerCase().includes(be)||R.company&&R.company.toLowerCase().includes(be)||R.email&&R.email.toLowerCase().includes(be)||R.firstPhone&&R.firstPhone.toLowerCase().includes(be)))return!1}if(A){const be=(R._id?.toString?R._id.toString():R._id)||"";if(((be?pt.latestActivityStatusByContactId.get(be):null)?.status||null||R.stage||"New")!==A)return!1}if(V||z||F){R._id||R.name;const be=R._id?.toString?R._id.toString():R._id,ye=be?pt.nextActionByContactId.get(be):null;if(V==="custom"&&(z||F)){if(!ye||!ye.nextActionDate)return!1;const he=new Date(ye.nextActionDate);if(he.setHours(0,0,0,0),z){const xe=new Date(z);if(xe.setHours(0,0,0,0),he<xe)return!1}if(F){const xe=new Date(F);if(xe.setHours(23,59,59,999),he>xe)return!1}}else if(V&&V!=="custom"){if(!ye||!ye.nextActionDate)return!1;const he=new Date(ye.nextActionDate);he.setHours(0,0,0,0);const xe=new Date,ne=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()),de=new Date(ne);switch(de.setDate(de.getDate()+1),V){case"today":if(he<ne||he>=de)return!1;break;case"this-week":const re=new Date(ne);re.setDate(ne.getDate()-ne.getDay());const Le=new Date(re);if(Le.setDate(re.getDate()+7),he<re||he>=Le)return!1;break;case"this-month":const Ue=new Date(xe.getFullYear(),xe.getMonth(),1),Ge=new Date(xe.getFullYear(),xe.getMonth()+1,1);if(he<Ue||he>=Ge)return!1;break}}}if(O||I||G){const be=(R._id?.toString?R._id.toString():R._id)||"",ye=be?pt.lastActivityByContactId.get(be):null;if(O==="custom"&&(I||G)){if(!ye)return!1;const he=tn(ye);if(he.setHours(0,0,0,0),I){const xe=new Date(I);if(xe.setHours(0,0,0,0),he<xe)return!1}if(G){const xe=new Date(G);if(xe.setHours(23,59,59,999),he>xe)return!1}}else if(O&&O!=="custom"){if(!ye)return!1;const he=tn(ye);he.setHours(0,0,0,0);const xe=new Date,ne=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()),de=new Date(ne);switch(de.setDate(de.getDate()+1),O){case"today":if(he<ne||he>=de)return!1;break;case"this-week":const re=new Date(ne);re.setDate(ne.getDate()-ne.getDay());const Le=new Date(re);if(Le.setDate(re.getDate()+7),he<re||he>=Le)return!1;break;case"this-month":const Ue=new Date(xe.getFullYear(),xe.getMonth(),1),Ge=new Date(xe.getFullYear(),xe.getMonth()+1,1);if(he<Ue||he>=Ge)return!1;break}}}if(X||W||C){const be=D6(R);if(!be)return!1;if(X==="custom"&&(W||C)){const ye=new Date(be);if(ye.setHours(0,0,0,0),W){const he=new Date(W);if(he.setHours(0,0,0,0),ye<he)return!1}if(C){const he=new Date(C);if(he.setHours(23,59,59,999),ye>he)return!1}}else if(X&&X!=="custom"){const ye=new Date(be);ye.setHours(0,0,0,0);const he=new Date,xe=new Date(he.getFullYear(),he.getMonth(),he.getDate()),ne=new Date(xe);ne.setDate(ne.getDate()-1);const de=new Date(xe);switch(de.setDate(de.getDate()+1),X){case"today":if(ye<xe||ye>=de)return!1;break;case"yesterday":if(ye<ne||ye>=xe)return!1;break}}}if(ue){const be=(R._id?.toString?R._id.toString():R._id)||"";if((be?pt.lastActivityByContactId.get(be):null)||K.some(xe=>{if(!xe.contactId)return!1;if((xe.contactId.toString?xe.contactId.toString():xe.contactId)===be)return!0;if(!be){const de=R.email?.toLowerCase()||"",re=R.name?.toLowerCase()||"",Le=xe.conversationNotes?.toLowerCase()||"",Ue=xe.email?.toLowerCase()||"";return de&&(Le.includes(de)||Ue===de)||re&&Le.includes(re)}return!1}))return!1}if(ie){const be=(R._id?.toString?R._id.toString():R._id)||"",ye=K.filter(xe=>{if((xe.projectId?.toString?xe.projectId.toString():xe.projectId)!==n)return!1;if(be&&xe.contactId&&(xe.contactId.toString?xe.contactId.toString():xe.contactId)===be)return!0;if(!be||!xe.contactId){const de=xe.conversationNotes?.toLowerCase()||"",re=R.name?.toLowerCase()||"",Le=R.email?.toLowerCase()||"";return de.includes(re)||de.includes(Le)}return!1});let he=!1;if(ie.channel==="linkedin"){const xe=ye.filter(ne=>ne.type==="linkedin");ie.metric==="connectionRequestsSent"?he=xe.some(ne=>ne.lnRequestSent===!0):ie.metric==="connectionAcceptanceRate"?he=xe.some(ne=>ne.connected===!0):ie.metric==="messagesSent"?he=xe.some(ne=>ne.status&&ne.status!==""):ie.metric==="messageReplyRate"?he=xe.some(ne=>ne.status&&["Meeting Proposed","Meeting Scheduled","Meeting Completed","SQL","Tech Discussion"].includes(ne.status)):ie.metric==="meetingsBooked"&&(he=xe.some(ne=>ne.status&&["Meeting Scheduled","Meeting Completed","In-Person Meeting"].includes(ne.status)))}else if(ie.channel==="call"){const xe=ye.filter(ne=>ne.type==="call");ie.metric==="allProspects"?he=!0:ie.metric==="callsAttempted"?he=xe.length>0:ie.metric==="callsConnected"?he=xe.some(ne=>ne.callStatus&&!["Ring","Busy","Switch Off","Invalid","Hang Up"].includes(ne.callStatus)):ie.metric==="decisionMakerReached"?he=xe.some(ne=>ne.callStatus&&!["Ring","Busy","Switch Off","Invalid","Hang Up","Not Interested"].includes(ne.callStatus)):ie.metric==="interested"?he=xe.some(ne=>ne.callStatus==="Interested"):ie.metric==="detailsShared"?he=xe.some(ne=>ne.callStatus==="Details Shared"):ie.metric==="demoBooked"?he=xe.some(ne=>ne.callStatus==="Demo Booked"):ie.metric==="demoCompleted"?he=xe.some(ne=>ne.callStatus==="Demo Completed"):ie.metric==="sql"?he=R.stage==="SQL":ie.metric==="won"?he=R.stage==="WON":ie.metric==="callsMade"?he=xe.length>0:ie.metric==="callAnswerRate"?he=xe.some(ne=>ne.callStatus&&!["Ring","Busy","Switch Off","Invalid","Hang Up"].includes(ne.callStatus)):ie.metric==="callInterestedRate"?he=xe.some(ne=>ne.callStatus&&["Interested","Details Shared","Demo Booked","Demo Completed"].includes(ne.callStatus)):ie.metric==="meetingsBooked"&&(he=xe.some(ne=>ne.callStatus&&["Demo Booked","Demo Completed"].includes(ne.callStatus)))}else if(ie.channel==="email"){const xe=ye.filter(ne=>ne.type==="email");ie.metric==="emailsSent"?he=xe.length>0:ie.metric==="emailOpenRate"?he=xe.some(ne=>ne.status&&ne.status!=="Bounce"&&ne.status!=="Opt-Out"&&ne.status!=="No Reply"):ie.metric==="emailReplyRate"?he=xe.some(ne=>ne.status&&["Meeting Proposed","Meeting Scheduled","Meeting Completed","SQL","Tech Discussion"].includes(ne.status)):ie.metric==="meetingsBooked"&&(he=xe.some(ne=>ne.status&&["Meeting Scheduled","Meeting Completed","In-Person Meeting"].includes(ne.status)))}if(!he)return!1}if(M==="due-today"){const be=new Date;be.setHours(0,0,0,0);const ye=new Date(be);ye.setDate(ye.getDate()+1),R._id||R.name;const he=R._id?.toString?R._id.toString():R._id;if(!K.filter(de=>{if((de.projectId?.toString?de.projectId.toString():de.projectId)!==n)return!1;if(he&&de.contactId&&(de.contactId.toString?de.contactId.toString():de.contactId)===he)return!0;if(!he||!de.contactId){const Le=de.conversationNotes?.toLowerCase()||"",Ue=R.name?.toLowerCase()||"",Ge=R.email?.toLowerCase()||"";return Le.includes(Ue)||Le.includes(Ge)}return!1}).some(de=>{if(!de.nextActionDate)return!1;const re=new Date(de.nextActionDate);return re.setHours(0,0,0,0),re>=be&&re<ye}))return!1}else if(M==="new-prospects"){const be=(R._id?.toString?R._id.toString():R._id)||"";if(((be?pt.latestActivityStatusByContactId.get(be):null)?.status||null||R.stage||"New")!=="New")return!1}return!0}).sort((R,be)=>{if(Ua==="name"){const ye=(R.name||"").toLowerCase(),he=(be.name||"").toLowerCase();return ln==="asc"?ye.localeCompare(he):he.localeCompare(ye)}return 0}),[d,v,M,A,V,z,F,O,I,G,X,W,C,ue,L,ie,K,l,pt,n,Ua,ln]),[qa,Ei]=k.useState([]),[Ri,lo]=k.useState(!1),rs=k.useCallback(async()=>{try{lo(!0);const R=await Ae.get(`/projects/${n}/project-contacts?page=1&limit=10000`);if(R.data.success){const be=R.data.data||[],ye=new Map;be.forEach(xe=>{const ne=xe._id?.toString?xe._id.toString():String(xe._id);if(!ne)return;const de=ye.get(ne);if(!de)ye.set(ne,xe);else{const re=de.projectContactId!==null&&de.projectContactId!==void 0;xe.projectContactId!==null&&xe.projectContactId!==void 0&&!re&&ye.set(ne,xe)}});const he=Array.from(ye.values());Ei(he)}}catch(R){console.error("Error fetching all contacts for KPI:",R),Ei([])}finally{lo(!1)}},[n]),Or=k.useCallback(R=>R?(qa.length>0?qa:d).filter(ye=>{const he=(ye._id?.toString?ye._id.toString():ye._id)||"",xe=K.filter(de=>{if((de.projectId?.toString?de.projectId.toString():de.projectId)!==n)return!1;if(he&&de.contactId&&(de.contactId.toString?de.contactId.toString():de.contactId)===he)return!0;if(!he||!de.contactId){const Le=de.conversationNotes?.toLowerCase()||"",Ue=ye.name?.toLowerCase()||"",Ge=ye.email?.toLowerCase()||"";return Le.includes(Ue)||Le.includes(Ge)}return!1});let ne=!1;if(R.channel==="linkedin"){const de=xe.filter(re=>re.type==="linkedin");R.metric==="connectionRequestsSent"?ne=de.some(re=>re.lnRequestSent===!0):R.metric==="connectionAcceptanceRate"?ne=de.some(re=>re.connected===!0):R.metric==="messagesSent"?ne=de.some(re=>re.status&&re.status!==""):R.metric==="messageReplyRate"?ne=de.some(re=>re.status&&["Meeting Proposed","Meeting Scheduled","Meeting Completed","SQL","Tech Discussion"].includes(re.status)):R.metric==="meetingsBooked"&&(ne=de.some(re=>re.status&&["Meeting Scheduled","Meeting Completed","In-Person Meeting"].includes(re.status)))}else if(R.channel==="call"){const de=xe.filter(re=>re.type==="call");R.metric==="allProspects"?ne=!0:R.metric==="callsAttempted"?ne=de.length>0:R.metric==="callsConnected"?ne=de.some(re=>re.callStatus&&!["Ring","Busy","Switch Off","Invalid","Hang Up"].includes(re.callStatus)):R.metric==="decisionMakerReached"?ne=de.some(re=>re.callStatus&&!["Ring","Busy","Switch Off","Invalid","Hang Up","Not Interested"].includes(re.callStatus)):R.metric==="interested"?ne=de.some(re=>re.callStatus==="Interested"):R.metric==="detailsShared"?ne=de.some(re=>re.callStatus==="Details Shared"):R.metric==="demoBooked"?ne=de.some(re=>re.callStatus==="Demo Booked"):R.metric==="demoCompleted"?ne=de.some(re=>re.callStatus==="Demo Completed"):R.metric==="sql"?ne=ye.stage==="SQL":R.metric==="won"?ne=ye.stage==="WON":R.metric==="callsMade"?ne=de.length>0:R.metric==="callAnswerRate"?ne=de.some(re=>re.callStatus&&!["Ring","Busy","Switch Off","Invalid","Hang Up"].includes(re.callStatus)):R.metric==="callInterestedRate"?ne=de.some(re=>re.callStatus&&["Interested","Details Shared","Demo Booked","Demo Completed"].includes(re.callStatus)):R.metric==="meetingsBooked"&&(ne=de.some(re=>re.callStatus&&["Demo Booked","Demo Completed"].includes(re.callStatus)))}else if(R.channel==="email"){const de=xe.filter(re=>re.type==="email");R.metric==="emailsSent"?ne=de.length>0:R.metric==="emailOpenRate"?ne=de.some(re=>re.status&&re.status!=="Bounce"&&re.status!=="Opt-Out"&&re.status!=="No Reply"):R.metric==="emailReplyRate"?ne=de.some(re=>re.status&&["Meeting Proposed","Meeting Scheduled","Meeting Completed","SQL","Tech Discussion"].includes(re.status)):R.metric==="meetingsBooked"&&(ne=de.some(re=>re.status&&["Meeting Scheduled","Meeting Completed","In-Person Meeting"].includes(re.status)))}return ne}):[],[qa,d,K,n]);k.useEffect(()=>{Ne.isOpen&&Ne.filter?rs():Ne.isOpen||Ei([])},[Ne.isOpen,Ne.filter,rs]);const oo=k.useMemo(()=>Nn.length===0?!1:Nn.every(R=>Ce.has((R._id||R.name).toString())),[Nn,Ce]),zr=k.useCallback(R=>{const be=R.target.checked;k.startTransition(()=>{et(ye=>{const he=new Set(ye);return Nn.forEach(xe=>{const ne=(xe._id||xe.name).toString();be?he.add(ne):he.delete(ne)}),he})})},[Nn]),ea=k.useCallback((R,be)=>{k.startTransition(()=>{et(ye=>{const he=new Set(ye);return be?he.add(R.toString()):he.delete(R.toString()),he})})},[]),co=k.useCallback(()=>{k.startTransition(()=>{et(new Set)})},[]),uo=async()=>{if(Ce.size!==0){Qn(!0);try{const R=Array.from(Ce),be=await Ae.delete(`/projects/${n}/project-contacts`,{data:{contactIds:R}});if(be.data.success){const ye=be.data.data?.deletedCount||0;if(ye===0){alert("No prospects were removed. They may have already been deleted."),Qn(!1);return}et(new Set),Mr(!1);const he=new Set;R.forEach(ne=>{const de=String(ne);he.add(de),ne&&typeof ne=="object"&&ne.toString&&he.add(ne.toString())});const xe=new Set(he);Ci(ne=>{const de=new Set(ne);return he.forEach(re=>de.add(re)),de}),h(ne=>{const de=ne.filter(re=>{if(!re._id)return!0;const Le=re._id.toString?re._id.toString():String(re._id),Ue=re._id;return!(he.has(Le)||Ue&&he.has(String(Ue)))});return console.log(`Removed ${ne.length-de.length} contact(s) from UI`),de}),is(ne=>{const de=new Set(ne);return he.forEach(re=>{de.delete(re)}),de}),Vt(ne=>{const de={...ne};return he.forEach(re=>{delete de[re]}),de}),ke(ne=>ne.filter(de=>{if(!de.contactId)return!0;const re=de.contactId.toString?de.contactId.toString():String(de.contactId);return!he.has(re)})),setTimeout(async()=>{try{zs?await Gs():await cn(),h(ne=>{const de=ne.filter(re=>{if(!re._id)return!0;const Le=re._id.toString?re._id.toString():String(re._id);return!xe.has(Le)});return ne.length!==de.length&&console.log(`Removed ${ne.length-de.length} contact(s) that reappeared after refresh`),de}),await Jn()}catch(ne){console.error("Background refresh after deletion:",ne)}},1e3),console.log(`Successfully removed ${ye} prospect(s)`)}}catch(R){console.error("Error removing prospects:",R),alert(R.response?.data?.error||"Couldn't remove those prospects. Try again in a moment.")}finally{Qn(!1)}}};return k.useMemo(()=>{const R=new Date;R.setHours(0,0,0,0);const be=new Date(R);be.setDate(be.getDate()+7);let ye=0,he=0;return d.forEach(xe=>{const ne=xe._id?.toString?xe._id.toString():xe._id,de=ne?pt.byContactId.get(ne)||[]:[];de.some(Ue=>Ue.nextActionDate?new Date(Ue.nextActionDate)<R:!1)&&ye++,de.some(Ue=>{if(!Ue.nextActionDate)return!1;const Ge=new Date(Ue.nextActionDate);return Ge>=R&&Ge<be})&&he++}),{total:d.length,active:d.filter(xe=>{const ne=xe.stage||"New";return ne==="Qualified"||ne==="Proposal"||ne==="Negotiation"}).length,overdue:ye,thisWeek:he}},[d,pt]),m?e.jsx("div",{className:"p-6 flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):g||!l?e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:g||"Project not found"})}):e.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("button",{onClick:()=>t("/projects"),className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 transition-colors mt-1",title:"Back to Projects",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Prospect Management"}),l&&e.jsx("p",{className:"text-sm font-medium text-indigo-600",children:l.companyName})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap justify-end",children:[e.jsxs("button",{onClick:()=>t(`/prospects/dashboard?projectId=${n}`),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors font-medium text-sm shadow-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Prospect Analytics"]}),e.jsxs("button",{onClick:ao,disabled:!at,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors font-medium text-sm ${at?zs?"bg-blue-600 text-white hover:bg-blue-700":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50":"bg-gray-100 border border-gray-300 text-gray-400 cursor-not-allowed"}`,title:at?"Show prospect suggestions based on ICP":"No ICP defined. Add an ICP definition to get suggestions.",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Prospect Suggestion",!at&&e.jsx("svg",{className:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})]}),e.jsxs("button",{onClick:()=>zt(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"Bulk Import"]})]})]}),Xe&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"mb-3 overflow-x-auto -mx-1 px-1 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:[e.jsx("style",{children:`
              .scrollbar-thin::-webkit-scrollbar {
                height: 6px;
              }
              .scrollbar-thin::-webkit-scrollbar-track {
                background: transparent;
              }
              .scrollbar-thin::-webkit-scrollbar-thumb {
                background-color: #cbd5e1;
                border-radius: 3px;
              }
              .scrollbar-thin::-webkit-scrollbar-thumb:hover {
                background-color: #94a3b8;
              }
            `}),e.jsxs("div",{className:"flex gap-2 min-w-max pb-2",children:[Dt.includes("linkedin")&&e.jsxs("div",{onClick:()=>te("linkedin"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg font-medium text-xs whitespace-nowrap transition-all cursor-pointer min-w-[150px] justify-center ${oe==="linkedin"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),e.jsx("span",{children:"LinkedIn Pipeline"})]}),Dt.includes("call")&&e.jsxs("div",{onClick:()=>te("call"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg font-medium text-xs whitespace-nowrap transition-all cursor-pointer min-w-[150px] justify-center ${oe==="call"?"bg-green-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{children:"Cold Calling Pipeline"})]}),Dt.includes("email")&&e.jsxs("div",{onClick:()=>te("email"),className:`flex items-center gap-1.5 px-4 py-2 rounded-lg font-medium text-xs whitespace-nowrap transition-all cursor-pointer min-w-[150px] justify-center ${oe==="email"?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{children:"Email Pipeline"})]})]})]}),Dt.includes("linkedin")&&oe==="linkedin"&&e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:[e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"linkedin",metric:"connectionRequestsSent"}}),className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="linkedin"&&ie?.metric==="connectionRequestsSent"?"border-blue-400 ring-2 ring-blue-200":"border-blue-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full",children:"LinkedIn"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.linkedin.connectionRequestsSent}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Connection Requests Sent"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"linkedin",metric:"connectionAcceptanceRate"}}),className:`bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="linkedin"&&ie?.metric==="connectionAcceptanceRate"?"border-green-400 ring-2 ring-green-200":"border-green-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-green-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-green-700 bg-white/70 border border-green-100 px-2 py-1 rounded-full",children:"Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Xe.linkedin.connectionAcceptanceRate,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[Xe.linkedin.connectionsAccepted," accepted"]})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"linkedin",metric:"messagesSent"}}),className:`bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="linkedin"&&ie?.metric==="messagesSent"?"border-purple-400 ring-2 ring-purple-200":"border-purple-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full",children:"Messages"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.linkedin.messagesSent}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Messages Sent"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"linkedin",metric:"messageReplyRate"}}),className:`bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="linkedin"&&ie?.metric==="messageReplyRate"?"border-blue-400 ring-2 ring-blue-200":"border-blue-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full",children:"Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Xe.linkedin.messageReplyRate,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[Xe.linkedin.messageReplies," replies"]})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"linkedin",metric:"meetingsBooked"}}),className:`bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="linkedin"&&ie?.metric==="meetingsBooked"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-yellow-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-orange-700 bg-white/70 border border-orange-100 px-2 py-1 rounded-full",children:"Meetings"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.linkedin.meetingsBooked}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Meetings Booked"})]})]})}),Dt.includes("call")&&oe==="call"&&Xe&&e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-2",children:[e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"callsAttempted"}}),className:`bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="callsAttempted"?"border-green-400 ring-2 ring-green-200":"border-green-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-green-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("span",{className:"text-xs font-semibold text-green-700 bg-white/70 border border-green-100 px-2 py-1 rounded-full",children:"Calls"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.callsAttempted||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Calls Attempted"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"callsConnected"}}),className:`bg-gradient-to-br from-blue-50 to-cyan-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="callsConnected"?"border-blue-400 ring-2 ring-blue-200":"border-blue-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full",children:"Connected"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.callsConnected||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Calls Connected"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"decisionMakerReached"}}),className:`bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="decisionMakerReached"?"border-purple-400 ring-2 ring-purple-200":"border-purple-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full",children:"DM"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.decisionMakerReached||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Decision Maker Reached"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"interested"}}),className:`bg-gradient-to-br from-yellow-50 to-amber-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="interested"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-yellow-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-yellow-700 bg-white/70 border border-yellow-100 px-2 py-1 rounded-full",children:"Interest"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.interested||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Interested"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"detailsShared"}}),className:`bg-gradient-to-br from-indigo-50 to-blue-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="detailsShared"?"border-indigo-400 ring-2 ring-indigo-200":"border-indigo-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-indigo-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-indigo-700 bg-white/70 border border-indigo-100 px-2 py-1 rounded-full",children:"Details"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.detailsShared||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Details Shared"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"demoBooked"}}),className:`bg-gradient-to-br from-teal-50 to-cyan-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="demoBooked"?"border-teal-400 ring-2 ring-teal-200":"border-teal-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-teal-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-teal-700 bg-white/70 border border-teal-100 px-2 py-1 rounded-full",children:"Demo"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.demoBooked||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Demo Booked"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"demoCompleted"}}),className:`bg-gradient-to-br from-emerald-50 to-green-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="demoCompleted"?"border-emerald-400 ring-2 ring-emerald-200":"border-emerald-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full",children:"Done"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.demoCompleted||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Demo Completed"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"sql"}}),className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="sql"?"border-blue-400 ring-2 ring-blue-200":"border-blue-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full",children:"SQL"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.sql||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"SQL"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"call",metric:"won"}}),className:`bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="call"&&ie?.metric==="won"?"border-green-400 ring-2 ring-green-200":"border-green-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-green-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"text-xs font-semibold text-green-700 bg-white/70 border border-green-100 px-2 py-1 rounded-full",children:"WON"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.call?.won||0}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"WON"})]})]})}),Dt.includes("email")&&oe==="email"&&e.jsx("div",{children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:[e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"email",metric:"emailsSent"}}),className:`bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="email"&&ie?.metric==="emailsSent"?"border-blue-400 ring-2 ring-blue-200":"border-blue-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full",children:"Emails"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.email.emailsSent}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Emails Sent"})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"email",metric:"emailOpenRate"}}),className:`bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="email"&&ie?.metric==="emailOpenRate"?"border-green-400 ring-2 ring-green-200":"border-green-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-green-100 flex items-center justify-center",children:e.jsxs("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("span",{className:"text-xs font-semibold text-green-700 bg-white/70 border border-green-100 px-2 py-1 rounded-full",children:"Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Xe.email.emailOpenRate,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[Xe.email.emailOpens," opened"]})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"email",metric:"emailReplyRate"}}),className:`bg-gradient-to-br from-purple-50 to-indigo-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="email"&&ie?.metric==="emailReplyRate"?"border-purple-400 ring-2 ring-purple-200":"border-purple-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full",children:"Rate"})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Xe.email.emailReplyRate,"%"]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[Xe.email.emailReplies," replies"]})]}),e.jsxs("button",{onClick:()=>Z({isOpen:!0,filter:{channel:"email",metric:"meetingsBooked"}}),className:`bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg border shadow-sm p-2.5 transition-all hover:shadow-md cursor-pointer ${ie?.channel==="email"&&ie?.metric==="meetingsBooked"?"border-yellow-400 ring-2 ring-yellow-200":"border-yellow-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"w-7 h-7 rounded-lg bg-white/80 border border-yellow-100 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-orange-700 bg-white/70 border border-orange-100 px-2 py-1 rounded-full",children:"Meetings"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Xe.email.meetingsBooked}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Meetings Booked"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Filters"})]}),ie&&e.jsxs("button",{onClick:()=>De(null),className:"text-xs text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear KPI Filter"]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search by name, company, email...",value:w,onChange:R=>y(R.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Quick Filters:"}),e.jsx("button",{onClick:()=>{B(M==="due-today"?"":"due-today")},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${M==="due-today"?"bg-blue-600 text-white border border-blue-600 shadow-sm":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 hover:border-gray-400"}`,children:"Due Today"}),e.jsx("button",{onClick:()=>{const R=M==="new-prospects"?"":"new-prospects";B(R),R==="new-prospects"?Y("New"):M==="new-prospects"&&Y("")},className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-all duration-200 ${M==="new-prospects"?"bg-blue-600 text-white border border-blue-600 shadow-sm":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200 hover:border-gray-400"}`,children:"New Prospects"}),e.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[e.jsxs("select",{value:A,onChange:R=>{Y(R.target.value),R.target.value!=="New"&&M==="new-prospects"&&B("")},className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"Filter by status"}),e.jsxs("optgroup",{label:"Call Statuses",children:[e.jsx("option",{value:"Ring",children:"Ring"}),e.jsx("option",{value:"Busy",children:"Busy"}),e.jsx("option",{value:"Call Back",children:"Call Back"}),e.jsx("option",{value:"Hang Up",children:"Hang Up"}),e.jsx("option",{value:"Switch Off",children:"Switch Off"}),e.jsx("option",{value:"Invalid",children:"Invalid"}),e.jsx("option",{value:"Future",children:"Future"}),e.jsx("option",{value:"Existing",children:"Existing"}),e.jsx("option",{value:"Interested",children:"Interested"}),e.jsx("option",{value:"Not Interested",children:"Not Interested"}),e.jsx("option",{value:"Details Shared",children:"Details Shared"}),e.jsx("option",{value:"Demo Booked",children:"Demo Booked"}),e.jsx("option",{value:"Demo Completed",children:"Demo Completed"})]}),e.jsxs("optgroup",{label:"Email & LinkedIn Statuses",children:[e.jsx("option",{value:"CIP",children:"CIP"}),e.jsx("option",{value:"No Reply",children:"No Reply"}),e.jsx("option",{value:"Out of Office",children:"Out of Office"}),e.jsx("option",{value:"Meeting Proposed",children:"Meeting Proposed"}),e.jsx("option",{value:"Meeting Scheduled",children:"Meeting Scheduled"}),e.jsx("option",{value:"In-Person Meeting",children:"In-Person Meeting"}),e.jsx("option",{value:"Meeting Completed",children:"Meeting Completed"}),e.jsx("option",{value:"SQL",children:"SQL"}),e.jsx("option",{value:"Tech Discussion",children:"Tech Discussion"}),e.jsx("option",{value:"WON",children:"WON"}),e.jsx("option",{value:"Lost",children:"Lost"}),e.jsx("option",{value:"Low Potential - Open",children:"Low Potential - Open"}),e.jsx("option",{value:"Potential Future",children:"Potential Future"}),e.jsx("option",{value:"Wrong Person",children:"Wrong Person"}),e.jsx("option",{value:"Bounce",children:"Bounce"}),e.jsx("option",{value:"Opt-Out",children:"Opt-Out"})]})]}),e.jsxs("select",{value:V,onChange:R=>{D(R.target.value),R.target.value!=="custom"&&(E(""),se(""))},className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"Action Date"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"custom",children:"Custom Range"})]}),V==="custom"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"date",value:z,onChange:R=>{E(R.target.value),R.target.value&&F&&new Date(R.target.value)>new Date(F)&&se(R.target.value)},max:F||void 0,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors",placeholder:"From"}),e.jsx("span",{className:"text-xs text-gray-500",children:"to"}),e.jsx("input",{type:"date",value:F,onChange:R=>{se(R.target.value),R.target.value&&z&&new Date(R.target.value)<new Date(z)&&E(R.target.value)},min:z||void 0,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors",placeholder:"To"})]}),e.jsxs("select",{value:O,onChange:R=>{U(R.target.value),R.target.value!=="custom"&&($(""),P(""))},className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"Last Interaction"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"this-week",children:"This Week"}),e.jsx("option",{value:"this-month",children:"This Month"}),e.jsx("option",{value:"custom",children:"Custom Range"})]}),O==="custom"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"date",value:I,onChange:R=>{$(R.target.value),R.target.value&&G&&new Date(R.target.value)>new Date(G)&&P(R.target.value)},max:G||void 0,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors",placeholder:"From"}),e.jsx("span",{className:"text-xs text-gray-500",children:"to"}),e.jsx("input",{type:"date",value:G,onChange:R=>{P(R.target.value),R.target.value&&I&&new Date(R.target.value)<new Date(I)&&$(R.target.value)},min:I||void 0,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors",placeholder:"To"})]}),e.jsxs("select",{value:X,onChange:R=>{T(R.target.value),R.target.value!=="custom"&&(je(""),H(""))},className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors cursor-pointer",children:[e.jsx("option",{value:"",children:"Import Date"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"yesterday",children:"Yesterday"}),e.jsx("option",{value:"custom",children:"Custom Range"})]}),X==="custom"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"date",value:W,onChange:R=>{je(R.target.value),R.target.value&&C&&new Date(R.target.value)>new Date(C)&&H(R.target.value)},max:C||void 0,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors",placeholder:"From"}),e.jsx("span",{className:"text-xs text-gray-500",children:"to"}),e.jsx("input",{type:"date",value:C,onChange:R=>{H(R.target.value),R.target.value&&W&&new Date(R.target.value)<new Date(W)&&je(R.target.value)},min:W||void 0,className:"px-3 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white hover:border-gray-400 transition-colors",placeholder:"To"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-3 py-1.5 text-xs border border-gray-300 rounded-lg bg-white hover:border-gray-400 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ue,onChange:R=>ge(R.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"}),e.jsx("span",{className:"text-gray-700",children:"No Activity"})]})]})]}),(w||M||A||V||z||F||O||I||G||X||W||C||ue||L)&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Active filters:"}),w&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:['Search: "',w,'"',e.jsx("button",{onClick:()=>y(""),className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M==="due-today"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["Due Today",e.jsx("button",{onClick:()=>B(""),className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),M==="new-prospects"&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["New Prospects",e.jsx("button",{onClick:()=>{B(""),Y("")},className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["Status: ",A,e.jsx("button",{onClick:()=>Y(""),className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(V||z||F)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["Action Date: ",V==="custom"&&(z||F)?`${z?It(z):"..."} to ${F?It(F):"..."}`:V==="today"?"Today":V==="this-week"?"This Week":V==="this-month"?"This Month":V,e.jsx("button",{onClick:()=>{D(""),E(""),se("")},className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(O||I||G)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["Last Interaction: ",O==="custom"&&(I||G)?`${I?It(I):"..."} to ${G?It(G):"..."}`:O==="today"?"Today":O==="this-week"?"This Week":O==="this-month"?"This Month":O,e.jsx("button",{onClick:()=>{U(""),$(""),P("")},className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(X||W||C)&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["Import Date: ",X==="custom"&&(W||C)?`${W?It(W):"..."} to ${C?It(C):"..."}`:X==="today"?"Today":X==="yesterday"?"Yesterday":X,e.jsx("button",{onClick:()=>{T(""),je(""),H("")},className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),ue&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["No Activity",e.jsx("button",{onClick:()=>ge(!1),className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),L&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-200",children:["Match: ",L==="exact"?"Exact":L==="good"?"Good":L==="similar"?"Similar":L==="loose"?"Loose":"Imported",e.jsx("button",{onClick:()=>J(""),className:"hover:text-blue-900",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("button",{onClick:()=>{y(""),B(""),Y(""),D(""),E(""),se(""),U(""),$(""),P(""),T(""),je(""),H(""),ge(!1),J("")},className:"text-xs text-gray-600 hover:text-gray-900 font-medium ml-2",children:"Clear all"})]})]}),e.jsx("div",{className:"mb-3 flex items-center justify-between flex-wrap gap-3",children:e.jsx("div",{className:"flex items-center gap-4 flex-wrap",children:Se&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[Se.imported>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs font-semibold rounded-md border border-purple-200",children:[e.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),Se.imported," Imported"]}),Se.exact>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs font-semibold rounded-md border border-green-200",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),Se.exact," Exact"]}),Se.good>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-md border border-blue-200",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),Se.good," Good"]}),Se.similar>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded-md border border-yellow-200",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),Se.similar," Similar"]})]})})}),zs&&at&&l?.icpDefinition&&e.jsx("div",{className:"mb-4 bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 border-2 border-indigo-200 rounded-2xl p-5 shadow-lg",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"ICP-Based Recommendations"}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Showing prospects from databank that match your project's Ideal Customer Profile"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mt-4",children:[l.icpDefinition.targetIndustries&&l.icpDefinition.targetIndustries.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-indigo-100",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Target Industries"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[l.icpDefinition.targetIndustries.slice(0,2).join(", "),l.icpDefinition.targetIndustries.length>2&&` +${l.icpDefinition.targetIndustries.length-2} more`]})]}),l.icpDefinition.targetJobTitles&&l.icpDefinition.targetJobTitles.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-indigo-100",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Target Job Titles"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[l.icpDefinition.targetJobTitles.slice(0,2).join(", "),l.icpDefinition.targetJobTitles.length>2&&` +${l.icpDefinition.targetJobTitles.length-2} more`]})]}),l.icpDefinition.companySizeMin!==void 0&&l.icpDefinition.companySizeMax!==void 0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-indigo-100",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Company Size"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[l.icpDefinition.companySizeMin.toLocaleString()," - ",l.icpDefinition.companySizeMax.toLocaleString()," employees"]})]}),l.icpDefinition.geographies&&l.icpDefinition.geographies.length>0&&e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-indigo-100",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:"Geographies"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[l.icpDefinition.geographies.slice(0,2).join(", "),l.icpDefinition.geographies.length>2&&` +${l.icpDefinition.geographies.length-2} more`]})]})]}),Se&&e.jsx("div",{className:"mt-4 flex items-center gap-4 flex-wrap",children:e.jsxs("div",{className:"text-xs text-gray-600 font-medium",children:["Recommendations:",e.jsxs("span",{className:"ml-2 inline-flex items-center gap-2",children:[Se.exact>0&&e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full font-semibold",children:[Se.exact," Exact"]}),Se.good>0&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full font-semibold",children:[Se.good," Good"]}),Se.similar>0&&e.jsxs("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full font-semibold",children:[Se.similar," Similar"]}),Se.loose>0&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full font-semibold",children:[Se.loose," Loose"]})]})]})})]})})}),Ce.size>0&&e.jsxs("div",{className:"mb-4 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 border-2 border-blue-200 rounded-2xl p-5 shadow-xl animate-slide-down backdrop-blur-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 animate-pulse"})}),e.jsxs("div",{className:"relative flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-700 rounded-2xl flex items-center justify-center shadow-lg transform hover:scale-110 transition-transform duration-300 ring-4 ring-blue-200 ring-opacity-50 animate-bounce-subtle",children:e.jsx("span",{className:"text-white font-bold text-lg",children:Ce.size})}),e.jsx("div",{className:"absolute inset-0 bg-blue-600 rounded-2xl animate-ping opacity-20"})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("p",{className:"text-base font-bold text-gray-900 tracking-tight",children:[Ce.size," ",Ce.size===1?"prospect":"prospects"," selected"]}),e.jsx("p",{className:"text-xs text-gray-600 font-medium mt-0.5",children:"Choose an activity type to log for all selected prospects"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[Dt.includes("call")&&e.jsxs("button",{onClick:()=>ki({isOpen:!0,type:"call"}),className:"group relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 via-green-600 to-emerald-600 text-white text-sm font-bold rounded-xl hover:from-green-600 hover:via-green-700 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 group-hover:animate-shimmer"}),e.jsx("svg",{className:"w-5 h-5 relative z-10 transform group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("span",{className:"relative z-10",children:"Log Call"})]}),Dt.includes("email")&&e.jsxs("button",{onClick:()=>ki({isOpen:!0,type:"email"}),className:"group relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 via-blue-600 to-cyan-600 text-white text-sm font-bold rounded-xl hover:from-blue-600 hover:via-blue-700 hover:to-cyan-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 group-hover:animate-shimmer"}),e.jsx("svg",{className:"w-5 h-5 relative z-10 transform group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("span",{className:"relative z-10",children:"Log Email"})]}),Dt.includes("linkedin")&&e.jsxs("button",{onClick:()=>ki({isOpen:!0,type:"linkedin"}),className:"group relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-700 via-indigo-700 to-purple-700 text-white text-sm font-bold rounded-xl hover:from-blue-800 hover:via-indigo-800 hover:to-purple-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 group-hover:animate-shimmer"}),e.jsx("svg",{className:"w-5 h-5 relative z-10 transform group-hover:scale-110 transition-transform duration-300",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),e.jsx("span",{className:"relative z-10",children:"Log LinkedIn"})]}),e.jsxs("button",{onClick:()=>Mr(!0),className:"group relative inline-flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 via-red-600 to-rose-600 text-white text-sm font-bold rounded-xl hover:from-red-600 hover:via-red-700 hover:to-rose-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105 active:scale-95 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-0 group-hover:opacity-20 group-hover:animate-shimmer"}),e.jsx("svg",{className:"w-5 h-5 relative z-10 transform group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e.jsx("span",{className:"relative z-10",children:"Remove"})]}),e.jsxs("button",{onClick:co,className:"group relative inline-flex items-center justify-center gap-2 px-5 py-3 bg-white border-2 border-gray-300 text-gray-700 text-sm font-bold rounded-xl hover:bg-gray-50 hover:border-gray-400 hover:text-gray-900 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95",children:[e.jsx("svg",{className:"w-4 h-4 transform group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})}),e.jsx("span",{children:"Clear"})]})]})]})]}),gd&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full mx-4 transform animate-fade-in-up",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Remove Prospects?"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"This action cannot be undone."})]})]}),e.jsxs("p",{className:"text-sm text-gray-700 mb-6",children:["Are you sure you want to remove ",e.jsx("span",{className:"font-bold text-gray-900",children:Ce.size})," ",Ce.size===1?"prospect":"prospects"," from this project? They will be removed from the project but will remain in the databank."]}),e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>Mr(!1),disabled:Lr,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:uo,disabled:Lr,className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 rounded-lg hover:from-red-600 hover:to-red-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Lr?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Removing..."]}):"Remove"})]})]})}),Nn.length>0?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[Ct>0&&e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-white flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-semibold",children:(Ss-1)*Rr+1})," to"," ",e.jsx("span",{className:"font-semibold",children:Math.min(Ss*Rr,Ct)})," ","of ",e.jsx("span",{className:"font-semibold",children:Ct.toLocaleString()})," contacts"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>Xn(Ss-1),disabled:Ss===1||m,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white transition-colors",children:"Previous"}),(()=>{const R=[];let ye=Math.max(1,Ss-Math.floor(2.5)),he=Math.min(hs,ye+5-1);he-ye<4&&(ye=Math.max(1,he-5+1)),ye>1&&(R.push(e.jsx("button",{onClick:()=>Xn(1),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"1"},1)),ye>2&&R.push(e.jsx("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis1")));for(let xe=ye;xe<=he;xe++)R.push(e.jsx("button",{onClick:()=>Xn(xe),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${xe===Ss?"bg-blue-600 text-white border border-blue-600":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:xe},xe));return he<hs&&(he<hs-1&&R.push(e.jsx("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis2")),R.push(e.jsx("button",{onClick:()=>Xn(hs),className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:hs},hs))),R})(),e.jsx("button",{onClick:()=>Xn(Ss+1),disabled:Ss===hs||m,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white transition-colors",children:"Next"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2.5 text-left text-[10px] font-semibold text-gray-700 uppercase tracking-wider w-12",children:e.jsx("input",{type:"checkbox",checked:oo,onChange:zr,className:"h-3.5 w-3.5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer",title:"Select all"})}),e.jsx("th",{className:"px-3 py-2.5 text-left text-[10px] font-semibold text-gray-700 uppercase tracking-wider w-12"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-[20%] cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>{Ua==="name"?no(ln==="asc"?"desc":"asc"):(Ar("name"),no("asc"))},children:e.jsxs("div",{className:"flex items-center gap-1.5",children:["Contact",Ua==="name"?ln==="asc"?e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}):e.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})]})}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-[18%]",children:"Contact Info"}),e.jsxs("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-[12%] relative",ref:Ai,children:[e.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-gray-100 transition-colors rounded px-1 py-0.5 -mx-1 -my-0.5",onClick:()=>Va(!Fa),children:["Status",e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})})]}),Fa&&e.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[200px] max-h-96 overflow-y-auto",children:e.jsxs("div",{className:"p-2",children:[e.jsx("button",{onClick:()=>{Y(""),Va(!1)},className:`w-full text-left px-3 py-2 text-xs rounded hover:bg-gray-100 ${A?"text-gray-700":"bg-blue-50 text-blue-700 font-medium"}`,children:"All Statuses"}),["New","Interested","Not Interested","Details Shared","Demo Booked","Demo Completed","SQL","WON","Lost","CIP","No Reply","Meeting Proposed","Meeting Scheduled","Meeting Completed","Ring","Busy","Call Back","Hang Up","Switch Off","Invalid","Future","Existing","Bounce","Opt-Out"].map(R=>e.jsx("button",{onClick:()=>{Y(R),Va(!1)},className:`w-full text-left px-3 py-2 text-xs rounded hover:bg-gray-100 ${A===R?"bg-blue-50 text-blue-700 font-medium":"text-gray-700"}`,children:R},R))]})})]}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-[15%]",children:"Last Interaction"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-[18%]",children:"Next Action"}),e.jsx("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-[12%]",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Nn.map(R=>{const be=R._id||R.name,ye=Nt.has(be),he=os[be]||[],xe=cs[be],ne=R._id?.toString?R._id.toString():R._id;let de=null,re=null,Le=null;if(ne){const He=ne.toString?ne.toString():String(ne);de=pt.lastActivityByContactId.get(He)||null,re=pt.nextActionByContactId.get(He)||null,Le=pt.latestActivityStatusByContactId.get(He)||null}let Ue=Le?.status||null;if((!de||!re||!Le)&&!ne){const He=R.name?.toLowerCase()||"",Ke=R.email?.toLowerCase()||"";if(!de&&(He||Ke)&&(de=K.filter(Zt=>{if(Zt.contactId)return!1;const Qe=Zt.conversationNotes?.toLowerCase()||"";return Qe.includes(He)||Qe.includes(Ke)}).sort((Zt,Qe)=>tn(Qe)-tn(Zt))[0]),!re&&(He||Ke)){const Zt=new Date;re=K.filter(Qe=>{if(!Qe.nextActionDate||new Date(Qe.nextActionDate)<Zt||Qe.contactId)return!1;const $t=Qe.conversationNotes?.toLowerCase()||"";return $t.includes(He)||$t.includes(Ke)}).sort((Qe,$t)=>new Date(Qe.nextActionDate)-new Date($t.nextActionDate))[0]}if(!Le&&(He||Ke)){const Zt=K.filter(Qe=>{if(Qe.contactId||!(Qe.type==="call"&&Qe.callStatus&&Qe.callStatus.trim()!==""||Qe.status&&Qe.status.trim()!==""))return!1;const Ti=Qe.conversationNotes?.toLowerCase()||"";return Ti.includes(He)||Ti.includes(Ke)}).sort((Qe,$t)=>tn($t)-tn(Qe));if(Zt.length>0){const Qe=Zt[0];Ue=Qe.type==="call"&&Qe.callStatus?Qe.callStatus:Qe.status}}}const Ge=Ue||R.stage||"New";R.assignedTo||l?.assignedTo;const fs=ne&&(typeof ne=="string"&&ne.length===24||typeof R._id=="object"&&R._id!==null),Wt=He=>{if(!(He.target.closest("button")||He.target.closest("svg")||He.target.closest("a"))&&fs&&ne){const Ke=new URLSearchParams;w&&Ke.set("search",w),M&&Ke.set("quickFilter",M),A&&Ke.set("filterStatus",A),V&&Ke.set("filterActionDate",V),z&&Ke.set("filterActionDateFrom",z),F&&Ke.set("filterActionDateTo",F),O&&Ke.set("filterLastInteraction",O),I&&Ke.set("filterLastInteractionFrom",I),G&&Ke.set("filterLastInteractionTo",G),X&&Ke.set("filterImportDate",X),W&&Ke.set("filterImportDateFrom",W),C&&Ke.set("filterImportDateTo",C),ue&&Ke.set("filterNoActivity","true"),L&&Ke.set("filterMatchType",L);const Zt=`/projects/${n}${Ke.toString()?"?"+Ke.toString():""}`;t(`/contacts/${ne}/activities?projectId=${n}&returnTo=${encodeURIComponent(Zt)}`)}};return e.jsxs(td.Fragment,{children:[e.jsxs("tr",{onClick:Wt,className:`transition-all duration-150 ${fs?"hover:bg-blue-50 cursor-pointer":"hover:bg-gray-50"} ${ye?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-3 py-2.5",onClick:He=>He.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:Ce.has(be.toString()),onChange:He=>ea(be,He.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer"})}),e.jsx("td",{className:"px-3 py-2.5",children:e.jsx("button",{onClick:He=>{He.stopPropagation(),pd(be,R.email,R.name)},className:"text-gray-400 hover:text-gray-600 transition-all",title:ye?"Collapse details":"Expand details",children:e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${ye?"-rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center flex-shrink-0 shadow-md",children:e.jsx("span",{className:"text-sm font-semibold text-white",children:Di(R.name)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:`text-sm font-semibold ${fs?"text-gray-900 hover:text-blue-600":"text-gray-900"}`,children:R.name||"N/A"}),!R.isImported&&R.recommendationReasons&&R.recommendationReasons.length>0&&e.jsxs("div",{className:"group relative",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${R.matchType==="exact"?"bg-green-100 text-green-800":R.matchType==="good"?"bg-blue-100 text-blue-800":R.matchType==="similar"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),R.matchScore,"% Match"]}),e.jsxs("div",{className:"absolute left-0 top-full mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 pointer-events-none",children:[e.jsx("div",{className:"absolute -top-2 left-4 w-4 h-4 bg-white border-l border-t border-gray-200 transform rotate-45"}),e.jsxs("div",{className:"relative",children:[e.jsxs("h4",{className:"text-xs font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Recommended Based on ICP"]}),e.jsx("div",{className:"space-y-2",children:R.recommendationReasons.map((He,Ke)=>e.jsxs("div",{className:"text-xs text-gray-700 bg-gray-50 rounded p-2 border-l-2 border-blue-500",children:[e.jsxs("div",{className:"font-semibold text-gray-900 mb-1 capitalize",children:[He.type==="industry"&&" Industry Match",He.type==="jobTitle"&&" Job Title Match",He.type==="companySize"&&" Company Size Match",He.type==="geography"&&" Location Match",He.type==="keywords"&&" Keywords Match"]}),e.jsx("div",{className:"text-gray-600",children:He.message})]},Ke))}),e.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Match Score:"})," ",R.matchScore,"% (",R.matchType,")"]})})]})]})]})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:R.company||"N/A"})]})]})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsxs("div",{className:"space-y-0.5",children:[R.email?(()=>{const Ke=String(R.email).trim().split(/[,\s]+/).filter(Qe=>Qe.trim()),Zt=Ke.length>=2;return e.jsxs("div",{className:"text-sm text-gray-900 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),Zt?`${Ke[0]}....`:R.email]})})():e.jsx("div",{className:"text-xs text-gray-400",children:"No email"}),R.firstPhone?e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),R.firstPhone]}):e.jsx("div",{className:"text-xs text-gray-400",children:"No phone"}),R.personLinkedinUrl||R.companyLinkedinUrl?e.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),e.jsx("a",{href:R.personLinkedinUrl||R.companyLinkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"hover:underline truncate",onClick:He=>He.stopPropagation(),children:"LinkedIn"})]}):e.jsx("div",{className:"text-xs text-gray-400",children:"No LinkedIn"})]})}),e.jsx("td",{className:"px-4 py-2.5",children:_i(Ge)}),e.jsx("td",{className:"px-4 py-2.5",children:de?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:It(tn(de))}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:de.type==="call"?"Call":de.type==="email"?"Email":de.type==="linkedin"?"LinkedIn":"Activity"})]}):e.jsx("div",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-2.5",children:re?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:`w-4 h-4 flex-shrink-0 ${new Date(re.nextActionDate)<new Date?"text-red-600":new Date(re.nextActionDate)<=new Date(Date.now()+4320*60*1e3)?"text-orange-500":"text-gray-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:re.nextAction}),e.jsx("div",{className:`text-xs font-medium mt-0.5 ${new Date(re.nextActionDate)<new Date?"text-red-600":new Date(re.nextActionDate)<=new Date(Date.now()+4320*60*1e3)?"text-orange-600":"text-gray-500"}`,children:It(re.nextActionDate)})]})]}):e.jsx("div",{className:"text-sm text-gray-400",children:"-"})}),e.jsx("td",{className:"px-4 py-2.5",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[Dt.includes("call")&&e.jsx("button",{onClick:He=>{He.stopPropagation(),$a("call",R)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Log Call",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),Dt.includes("email")&&e.jsx("button",{onClick:He=>{He.stopPropagation(),$a("email",R)},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Log Email",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),Dt.includes("linkedin")&&e.jsx("button",{onClick:He=>{He.stopPropagation(),$a("linkedin",R)},className:"p-1.5 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Log LinkedIn",children:e.jsx("svg",{className:"w-3.5 h-3.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})})]}),ye&&e.jsx("tr",{className:"animate-fade-in",children:e.jsx("td",{colSpan:"7",className:"px-6 py-4 bg-blue-50 border-t-2 border-blue-200 transition-all duration-300",children:xe?e.jsx("div",{className:"flex items-center justify-center py-8 animate-fade-in",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Loading activities..."})]})}):e.jsx("div",{className:"animate-fade-in-up",children:e.jsx(ro,{contact:R,activities:he})})})})]},be)})})]})})]}):e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No prospects found"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No similar contacts found for this project"})]})}),e.jsx(ey,{isOpen:Gt.isOpen,onClose:io,type:Gt.type,contactName:Gt.contactName,companyName:Gt.companyName,projectId:Gt.projectId,contactId:Gt.contactId,phoneNumber:Gt.phoneNumber,email:Gt.email,linkedInProfileUrl:Gt.linkedInProfileUrl,lastActivity:Gt.lastActivity}),e.jsx(L6,{isOpen:Cr,onClose:()=>zt(!1),projectId:n,onImportSuccess:()=>{zs?Gs():cn(1),Jn()}}),e.jsx(A6,{isOpen:to.isOpen,onClose:bd,type:to.type,selectedContacts:Ce,projectId:n,contacts:d}),Ne.isOpen&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[Ne.filter?.channel==="linkedin"&&"LinkedIn Pipeline",Ne.filter?.channel==="call"&&"Cold Calling Pipeline",Ne.filter?.channel==="email"&&"Email Pipeline"]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[Ne.filter?.metric==="connectionRequestsSent"&&"Connection Requests Sent",Ne.filter?.metric==="connectionAcceptanceRate"&&"Connection Acceptance Rate",Ne.filter?.metric==="messagesSent"&&"Messages Sent",Ne.filter?.metric==="messageReplyRate"&&"Message Reply Rate",Ne.filter?.metric==="allProspects"&&"All Prospects",Ne.filter?.metric==="callsAttempted"&&"Calls Attempted",Ne.filter?.metric==="callsConnected"&&"Calls Connected",Ne.filter?.metric==="decisionMakerReached"&&"Decision Maker Reached",Ne.filter?.metric==="interested"&&"Interested",Ne.filter?.metric==="detailsShared"&&"Details Shared",Ne.filter?.metric==="demoBooked"&&"Demo Booked",Ne.filter?.metric==="demoCompleted"&&"Demo Completed",Ne.filter?.metric==="sql"&&"SQL",Ne.filter?.metric==="won"&&"WON",Ne.filter?.metric==="callsMade"&&"Calls Made",Ne.filter?.metric==="callAnswerRate"&&"Call Answer Rate",Ne.filter?.metric==="callInterestedRate"&&"Call Interested Rate",Ne.filter?.metric==="emailsSent"&&"Emails Sent",Ne.filter?.metric==="emailOpenRate"&&"Email Open Rate",Ne.filter?.metric==="emailReplyRate"&&"Email Reply Rate",Ne.filter?.metric==="meetingsBooked"&&"Meetings Booked"]})]}),e.jsx("button",{onClick:()=>Z({isOpen:!1,filter:null}),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:Ri?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsxs("svg",{className:"animate-spin h-8 w-8 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("p",{className:"text-sm font-medium",children:"Loading prospects..."})]}):(()=>{const R=Or(Ne.filter);return R.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-sm font-medium",children:"No prospects found for this metric"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"CONTACT"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"COMPANY"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"DATE"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"STATUS"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"NOTES"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(be=>{const ye=(be._id?.toString?be._id.toString():be._id)||"",he=ye?pt.lastActivityByContactId.get(ye):null,ne=(ye?pt.latestActivityStatusByContactId.get(ye):null)?.status||be.stage||"New",de=he?tn(he):null,re=de?de.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Le=he?.conversationNotes||"";return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:be.name||"Unknown"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:be.company||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:re}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full border border-green-200",children:ne})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs",children:e.jsx("div",{className:"truncate",title:Le,children:Le})})]},be._id||be.name)})})]})})})()})]})})]})}const E6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Line}))),hb=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Bar}))),R6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Doughnut}))),T6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Pie})));nn.register(za,Ba,_a,an,Ea,eo,Ta,Oa,Ra);function O6(){const n=mt(),[t,a]=k.useState(null),[r,l]=k.useState(!0),[c,d]=k.useState("overview"),[h,m]=k.useState("30d");k.useEffect(()=>{f()},[h]);const f=async()=>{try{l(!0);const y=await Ae.get("/projects/analytics");y.data.success&&a(y.data.data)}catch(y){console.error("Error fetching project analytics:",y)}finally{l(!1)}},g=[{id:"overview",label:"Overview",icon:"grid"},{id:"pipeline",label:"Pipeline",icon:"funnel"},{id:"channels",label:"Channels",icon:"megaphone"},{id:"team",label:"Team Performance",icon:"users"}],b=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]});if(r)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((y,v)=>e.jsx(b,{},v))}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[...Array(4)].map((y,v)=>e.jsx(b,{},v))})]})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Failed to load dashboard data"}),e.jsx("button",{onClick:f,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})});const w=({title:y,value:v,subtitle:j,icon:N,trend:M,trendDirection:B,color:A="blue"})=>{const Y={blue:{bg:"from-blue-50 to-indigo-50",border:"border-blue-100",icon:"text-indigo-600",badge:"text-blue-700 bg-white/70 border-blue-100"},green:{bg:"from-emerald-50 to-teal-50",border:"border-emerald-100",icon:"text-emerald-600",badge:"text-emerald-700 bg-white/70 border-emerald-100"},purple:{bg:"from-purple-50 to-indigo-50",border:"border-purple-100",icon:"text-purple-600",badge:"text-purple-700 bg-white/70 border-purple-100"},orange:{bg:"from-amber-50 to-orange-50",border:"border-amber-100",icon:"text-amber-600",badge:"text-amber-700 bg-white/70 border-amber-100"}},V=Y[A]||Y.blue;return e.jsxs("div",{className:`bg-gradient-to-br ${V.bg} rounded-xl border ${V.border} shadow-sm p-6 hover:shadow-md transition-shadow`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-lg bg-white/80 border ${V.border} flex items-center justify-center shadow-xs`,children:N}),M&&e.jsxs("span",{className:`text-xs font-semibold ${V.badge} px-2 py-1 rounded-full shadow-xs flex items-center gap-1`,children:[B==="up"?"":""," ",M]})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:v}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:y}),j&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:j})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("/projects"),className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 transition-colors",title:"Back to Projects",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Project Analytics Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Comprehensive insights into your lead generation campaigns"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("select",{value:h,onChange:y=>m(y.target.value),className:"px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"7d",children:"Last 7 days"}),e.jsx("option",{value:"30d",children:"Last 30 days"}),e.jsx("option",{value:"90d",children:"Last 90 days"})]})})]}),e.jsx("div",{className:"flex items-center gap-6 overflow-x-auto pb-2 border-b border-gray-200",children:g.map(y=>e.jsx("button",{onClick:()=>d(y.id),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium whitespace-nowrap transition-colors ${c===y.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:y.label},y.id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(w,{title:"Total Projects",value:t.overview.totalProjects,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),color:"blue"}),e.jsx(w,{title:"Win Rate",value:`${t.pipeline.conversion.winRate}%`,subtitle:`${t.pipeline.conversion.won} won / ${t.pipeline.conversion.total} total`,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"green"}),e.jsx(w,{title:"Meeting Rate",value:`${t.pipeline.conversion.meetingRate}%`,subtitle:`${t.pipeline.conversion.meetings} meetings scheduled`,icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),color:"blue"}),e.jsx(w,{title:"SQL Count",value:t.pipeline.conversion.sql||0,subtitle:"Sales Qualified Leads",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),color:"purple"}),e.jsx(w,{title:"Avg Activities/Prospect",value:t.overview.totalProspects>0?(t.overview.totalActivities/t.overview.totalProspects).toFixed(1):"0",subtitle:"Average engagement",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"orange"}),e.jsx(w,{title:"Total Prospects",value:t.overview.totalProspects.toLocaleString(),subtitle:"Across all projects",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"purple"}),e.jsx(w,{title:"Total Activities",value:t.overview.totalActivities.toLocaleString(),subtitle:"Calls, emails & LinkedIn",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Trends (Last 7 Days)"}),t.activities.trends.labels.length>0?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(E6,{data:{labels:t.activities.trends.labels,datasets:[{label:"Calls",data:t.activities.trends.call,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"Emails",data:t.activities.trends.email,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4},{label:"LinkedIn",data:t.activities.trends.linkedin,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No activity data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Distribution"}),t.activities.byType.length>0?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(R6,{data:{labels:t.activities.byType.map(y=>y.type.charAt(0).toUpperCase()+y.type.slice(1)),datasets:[{data:t.activities.byType.map(y=>y.count),backgroundColor:["rgb(34, 197, 94)","rgb(59, 130, 246)","rgb(168, 85, 247)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No activity data available"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Growth"}),t.growth.monthly.length>0?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(hb,{data:{labels:t.growth.monthly.map(y=>y.month),datasets:[{label:"Projects Created",data:t.growth.monthly.map(y=>y.count),backgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No growth data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Win Rate"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[t.pipeline.conversion.winRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-green-500 h-3 rounded-full",style:{width:`${t.pipeline.conversion.winRate}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.pipeline.conversion.won," won / ",t.pipeline.conversion.total," total"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Meeting Rate"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[t.pipeline.conversion.meetingRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-500 h-3 rounded-full",style:{width:`${t.pipeline.conversion.meetingRate}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[t.pipeline.conversion.meetings," meetings scheduled"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.pipeline.conversion.sql}),e.jsx("div",{className:"text-xs text-gray-500",children:"SQL"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.pipeline.conversion.cip}),e.jsx("div",{className:"text-xs text-gray-500",children:"CIP"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:t.pipeline.conversion.lost}),e.jsx("div",{className:"text-xs text-gray-500",children:"Lost"})]})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Projects"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Project"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prospects"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Activities"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Won"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Meetings"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.projects.topPerformers.slice(0,5).map(y=>e.jsxs("tr",{onClick:()=>n(`/projects/${y.id}`),className:"hover:bg-gray-50 cursor-pointer",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:y.companyName}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.contactCount}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.activityCount}),e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-green-600",children:y.wonCount}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.meetingCount})]},y.id))})]})})]})]}),c==="pipeline"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pipeline Stage Distribution"}),t.pipeline.stageDistribution.length>0?e.jsx("div",{className:"h-96",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(hb,{data:{labels:t.pipeline.stageDistribution.map(y=>y.stage),datasets:[{label:"Prospects",data:t.pipeline.stageDistribution.map(y=>y.count),backgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No pipeline data available"})})]})}),c==="channels"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Channel Usage"}),e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(T6,{data:{labels:["LinkedIn","Email","Cold Calling"],datasets:[{data:[t.channels.linkedIn,t.channels.email,t.channels.calling],backgroundColor:["rgb(168, 85, 247)","rgb(59, 130, 246)","rgb(34, 197, 94)"]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Channel Statistics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"LinkedIn Outreach"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.channels.linkedIn}),e.jsx("div",{className:"text-xs text-gray-500",children:"Projects using this channel"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Cold Email"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.channels.email}),e.jsx("div",{className:"text-xs text-gray-500",children:"Projects using this channel"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Cold Calling"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.channels.calling}),e.jsx("div",{className:"text-xs text-gray-500",children:"Projects using this channel"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})})]})]})]})]})}),c==="team"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),t.team.performance.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Team Member"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Activities"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Calls"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Emails"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"LinkedIn"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:t.team.performance.map(y=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:y.email})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:y.totalActivities}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.calls}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.emails}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:y.linkedin})]},y.id))})]})}):e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No team performance data available"})})]})})]})]})}const z6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Line}))),hr=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Bar}))),zc=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Doughnut}))),B6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Pie})));nn.register(za,Ba,_a,an,Ea,eo,Ta,Oa,Ra);const P6=n=>n.type==="call"&&n.callDate?new Date(n.callDate):n.type==="email"&&n.emailDate?new Date(n.emailDate):n.type==="linkedin"&&n.linkedinDate?new Date(n.linkedinDate):new Date(n.createdAt);function I6(){const n=mt(),[t,a]=wi(),[r,l]=k.useState(null),[c,d]=k.useState(!0),[h,m]=k.useState("overview"),[f,g]=k.useState([]),[b,w]=k.useState(t.get("projectId")||""),[y,v]=k.useState(null),[j,N]=k.useState([]),[M,B]=k.useState(!1),[A,Y]=k.useState(null),[V,D]=k.useState("today"),[z,E]=k.useState(null),[F,se]=k.useState(!1);k.useEffect(()=>(y?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[y]),k.useEffect(()=>{O()},[]),k.useEffect(()=>{U()},[b]),k.useEffect(()=>{I()},[b,V]);const O=async()=>{try{const C=await Ae.get("/projects");C.data.success&&g(C.data.data||[])}catch(C){console.error("Error fetching projects:",C)}},U=async()=>{try{d(!0);const C=b?{projectId:b}:{},H=await Ae.get("/projects/prospect-analytics",{params:C});H.data.success&&l(H.data.data)}catch(C){console.error("Error fetching prospect analytics:",C)}finally{d(!1)}},I=async()=>{try{se(!0);const C={timeFilter:V};b&&(C.projectId=b);const H=await Ae.get("/activities/team-performance",{params:C});H.data.success&&E(H.data.data)}catch(C){console.error("Error fetching team activity data:",C),E(null)}finally{se(!1)}},$=C=>{w(C),a(C?{projectId:C}:{})},G=async(C,H,ue)=>{try{if(B(!0),v({stage:C,funnelType:H,funnelData:ue}),C==="prospectData"){if(!b){Y({type:"info",message:"Please select a project to view prospects"}),B(!1);return}const[L,J]=await Promise.all([Ae.get(`/projects/${b}/project-contacts`),Ae.get(`/activities/project/${b}?limit=10000`)]);if(L.data.success){const ie=L.data.data||[],De=J.data.success?J.data.data||[]:[],oe=new Map;De.forEach(te=>{if(te.contactId&&te.status&&te.status.trim()!==""){const Ne=te.contactId.toString?te.contactId.toString():String(te.contactId),Z=P6(te),Se=oe.get(Ne);(!Se||Z>Se.activityDate)&&oe.set(Ne,{status:te.status,activityDate:Z})}}),N(ie.map(te=>{const Ne=te._id?.toString?te._id.toString():String(te._id),Se=oe.get(Ne)?.status||te.stage||"New";return{...te,isProspect:!0,displayStatus:Se}}))}B(!1);return}if(!b){Y({type:"info",message:"Please select a project to view stage details"}),B(!1);return}const ge=await Ae.get(`/activities/project/${b}`);if(ge.data.success){const L=ge.data.data||[];let J=[];if(H==="call")switch(C){case"callsAttempted":case"callSent":J=L.filter(Me=>Me.type==="call"&&Me.callDate);break;case"callsConnected":case"accepted":const te=["Interested","Not Interested","Call Back","Future","Details Shared","Demo Booked","Demo Completed","Existing"];J=L.filter(Me=>Me.type==="call"&&Me.callStatus&&te.includes(Me.callStatus));break;case"decisionMakerReached":const Ne=["Interested","Details Shared","Demo Booked","Demo Completed"];J=L.filter(Me=>Me.type==="call"&&Me.callStatus&&Ne.includes(Me.callStatus));break;case"interested":J=L.filter(Me=>Me.type==="call"&&Me.callStatus==="Interested");break;case"detailsShared":J=L.filter(Me=>Me.type==="call"&&Me.callStatus==="Details Shared");break;case"demoBooked":case"scheduled":J=L.filter(Me=>Me.type==="call"&&Me.callStatus==="Demo Booked");break;case"demoCompleted":case"completed":J=L.filter(Me=>Me.type==="call"&&Me.callStatus==="Demo Completed");break;case"sql":J=L.filter(Me=>Me.type==="call"&&(Me.callStatus==="Demo Completed"||Me.callStatus==="Interested"&&Me.conversationNotes&&Me.conversationNotes.length>50||Me.status==="SQL"));break;case"followups":const Z={};L.filter(Me=>Me.type==="call"&&Me.callDate).forEach(Me=>{const Nt=Me.contactId?.toString();Nt&&(Z[Nt]=(Z[Nt]||0)+1)});const Se=Object.keys(Z).filter(Me=>Z[Me]>1);J=L.filter(Me=>Me.type==="call"&&Se.includes(Me.contactId?.toString()));break;case"cip":J=L.filter(Me=>Me.type==="call"&&["Interested","Call Back","Future"].includes(Me.callStatus));break;case"meetingProposed":J=L.filter(Me=>Me.type==="call"&&Me.nextAction&&(Me.nextAction.toLowerCase().includes("meeting")||Me.nextAction.toLowerCase().includes("demo")||Me.nextAction.toLowerCase().includes("call")));break}else if(H==="email")switch(C){case"emailSent":J=L.filter(Z=>Z.type==="email"&&Z.emailDate);break;case"accepted":J=L.filter(Z=>Z.type==="email"&&["Interested","Meeting Proposed","Meeting Scheduled"].includes(Z.status));break;case"followups":const te={};L.filter(Z=>Z.type==="email"&&Z.emailDate).forEach(Z=>{const Se=Z.contactId?.toString();Se&&(te[Se]=(te[Se]||0)+1)});const Ne=Object.keys(te).filter(Z=>te[Z]>1);J=L.filter(Z=>Z.type==="email"&&Ne.includes(Z.contactId?.toString()));break;case"cip":J=L.filter(Z=>Z.type==="email"&&Z.status==="CIP");break;case"meetingProposed":J=L.filter(Z=>Z.type==="email"&&Z.status==="Meeting Proposed");break;case"scheduled":J=L.filter(Z=>Z.type==="email"&&Z.status==="Meeting Scheduled");break;case"completed":J=L.filter(Z=>Z.type==="email"&&Z.status==="Meeting Completed");break;case"sql":J=L.filter(Z=>Z.type==="email"&&["SQL","Meeting Completed"].includes(Z.status));break}else if(H==="linkedin")switch(C){case"connectionSent":J=L.filter(Z=>Z.type==="linkedin"&&(Z.lnRequestSent==="Yes"||Z.lnRequestSent===!0));break;case"accepted":J=L.filter(Z=>Z.type==="linkedin"&&(Z.connected==="Yes"||Z.connected===!0));break;case"followups":const te={};L.filter(Z=>Z.type==="linkedin").forEach(Z=>{const Se=Z.contactId?.toString();Se&&(te[Se]=(te[Se]||0)+1)});const Ne=Object.keys(te).filter(Z=>te[Z]>1);J=L.filter(Z=>Z.type==="linkedin"&&Ne.includes(Z.contactId?.toString()));break;case"cip":J=L.filter(Z=>Z.type==="linkedin"&&Z.status==="CIP");break;case"meetingProposed":J=L.filter(Z=>Z.type==="linkedin"&&Z.status==="Meeting Proposed");break;case"scheduled":J=L.filter(Z=>Z.type==="linkedin"&&Z.status==="Meeting Scheduled");break;case"completed":J=L.filter(Z=>Z.type==="linkedin"&&Z.status==="Meeting Completed");break;case"sql":J=L.filter(Z=>Z.type==="linkedin"&&["SQL","Meeting Completed"].includes(Z.status));break}const ie=[...new Set(J.map(te=>te.contactId).filter(Boolean))],De=new Map;ie.length>0&&(await Promise.all(ie.slice(0,100).map(Ne=>Ae.get(`/contacts/${Ne}`).catch(()=>null)))).forEach((Ne,Z)=>{Ne?.data?.success&&De.set(ie[Z],Ne.data.data)});const oe=J.map(te=>({...te,contact:De.get(te.contactId?.toString())||null}));N(oe)}}catch(ge){console.error("Error fetching stage data:",ge),N([])}finally{B(!1)}},P=k.useMemo(()=>{if(!b)return["call","email","linkedin"];const C=f.find(ue=>ue._id===b);if(!C?.channels)return["call","email","linkedin"];const H=[];return C.channels.coldCalling&&H.push("call"),C.channels.coldEmail&&H.push("email"),C.channels.linkedInOutreach&&H.push("linkedin"),H.length>0?H:["call","email","linkedin"]},[b,f]),X=k.useMemo(()=>[{id:"overview",label:"Overview"},{id:"pipeline",label:"Pipeline"},{id:"linkedin",label:"LinkedIn"},{id:"calls",label:"Cold Calls"},{id:"email",label:"Email"},{id:"team",label:"Team Performance"}].filter(H=>["overview","pipeline","team"].includes(H.id)?!0:H.id==="linkedin"?P.includes("linkedin"):H.id==="calls"?P.includes("call"):H.id==="email"?P.includes("email"):!0),[P]);k.useEffect(()=>{const C=X.map(H=>H.id);C.includes(h)||m(C[0]||"overview")},[X,h]);const T=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]});if(c)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(4)].map((C,H)=>e.jsx(T,{},H))})})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Having trouble loading the dashboard. Refresh the page."}),e.jsx("button",{onClick:U,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})});const W=({title:C,value:H,subtitle:ue,icon:ge,color:L="blue",compact:J=!1})=>{const ie={blue:{bg:"from-blue-50 to-indigo-50",border:"border-blue-100",icon:"text-indigo-600",badge:"text-blue-700 bg-white/70 border-blue-100"},green:{bg:"from-emerald-50 to-teal-50",border:"border-emerald-100",icon:"text-emerald-600",badge:"text-emerald-700 bg-white/70 border-emerald-100"},purple:{bg:"from-purple-50 to-indigo-50",border:"border-purple-100",icon:"text-purple-600",badge:"text-purple-700 bg-white/70 border-purple-100"},orange:{bg:"from-amber-50 to-orange-50",border:"border-amber-100",icon:"text-amber-600",badge:"text-amber-700 bg-white/70 border-amber-100"}},De=ie[L]||ie.blue;return J?e.jsxs("div",{className:`bg-gradient-to-br ${De.bg} rounded-lg border ${De.border} shadow-sm p-4 hover:shadow-md transition-shadow h-full`,children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:`w-8 h-8 rounded-lg bg-white/80 border ${De.border} flex items-center justify-center shadow-xs`,children:typeof ge=="object"&&ge.props?td.cloneElement(ge,{className:"w-4 h-4"}):ge})}),e.jsx("div",{className:"text-xl font-bold text-gray-900 leading-tight mb-1",children:H}),e.jsx("div",{className:"text-xs font-medium text-gray-700",children:C}),ue&&e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:ue})]}):e.jsxs("div",{className:`bg-gradient-to-br ${De.bg} rounded-xl border ${De.border} shadow-sm p-6 hover:shadow-md transition-shadow`,children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:`w-12 h-12 rounded-lg bg-white/80 border ${De.border} flex items-center justify-center shadow-xs`,children:ge})}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:H}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:C}),ue&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ue})]})},je=({title:C,data:H,color:ue="blue",funnelType:ge="call",totalProspects:L=null})=>{let J=[];H.prospectData===void 0&&L!==null&&(H={...H,prospectData:L}),H.callsAttempted!==void 0||H.callSent!==void 0?(J=[{key:"prospectData",label:"Prospect Data",clickable:!0},{key:"callsAttempted",label:"Calls Attempted",clickable:!0},{key:"callsConnected",label:"Calls Connected",clickable:!0},{key:"decisionMakerReached",label:"Decision Maker Reached",clickable:!0},{key:"interested",label:"Interested",clickable:!0},{key:"detailsShared",label:"Details Shared",clickable:!0},{key:"demoBooked",label:"Demo Booked",clickable:!0},{key:"demoCompleted",label:"Demo Completed",clickable:!0},{key:"sql",label:"SQL",clickable:!0}],H.callSent!==void 0&&H.callsAttempted===void 0&&(J=[{key:"prospectData",label:"Prospect Data",clickable:!0},{key:"callSent",label:"Call Sent",clickable:!0},{key:"accepted",label:"Accepted",clickable:!0},{key:"followups",label:"Followups",clickable:!0},{key:"cip",label:"CIP",clickable:!0},{key:"meetingProposed",label:"Meeting Proposed",clickable:!0},{key:"scheduled",label:"Scheduled",clickable:!0},{key:"completed",label:"Completed",clickable:!0},{key:"sql",label:"SQL",clickable:!0}])):H.emailSent!==void 0?J=[{key:"prospectData",label:"Prospect Data",clickable:!0},{key:"emailSent",label:"Email Sent",clickable:!0},{key:"accepted",label:"Accepted",clickable:!0},{key:"followups",label:"Followups",clickable:!0},{key:"cip",label:"CIP",clickable:!0},{key:"meetingProposed",label:"Meeting Proposed",clickable:!0},{key:"scheduled",label:"Scheduled",clickable:!0},{key:"completed",label:"Completed",clickable:!0},{key:"sql",label:"SQL",clickable:!0}]:H.connectionSent!==void 0&&(J=[{key:"prospectData",label:"Prospect Data",clickable:!0},{key:"connectionSent",label:"Connection Sent",clickable:!0},{key:"accepted",label:"Accepted",clickable:!0},{key:"followups",label:"Followups",clickable:!0},{key:"cip",label:"CIP",clickable:!0},{key:"meetingProposed",label:"Meeting Proposed",clickable:!0},{key:"scheduled",label:"Scheduled",clickable:!0},{key:"completed",label:"Completed",clickable:!0},{key:"sql",label:"SQL",clickable:!0}]),J=J.filter(Z=>Z.key);const ie=H.prospectData||(H.prospectData===0?0:1),De={blue:{primary:"rgb(59, 130, 246)",light:"rgba(59, 130, 246, 0.1)",border:"rgba(59, 130, 246, 0.3)",hover:"rgba(59, 130, 246, 0.2)"},green:{primary:"rgb(34, 197, 94)",light:"rgba(34, 197, 94, 0.1)",border:"rgba(34, 197, 94, 0.3)",hover:"rgba(34, 197, 94, 0.2)"},purple:{primary:"rgb(168, 85, 247)",light:"rgba(168, 85, 247, 0.1)",border:"rgba(168, 85, 247, 0.3)",hover:"rgba(168, 85, 247, 0.2)"}},oe=De[ue]||De.blue,te=(Z,Se)=>Z===0?100:Math.max(15,100-Z*10),Ne=Z=>{if(Z.key==="prospectData"){G(Z.key,ge,H);return}Z.clickable&&(H[Z.key]||0)>0?G(Z.key,ge,H):Z.clickable&&(Y({type:"info",message:`No records found for ${Z.label} stage`}),setTimeout(()=>Y(null),3e3))};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow h-full",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4 text-center",children:C}),e.jsx("div",{className:"flex flex-col items-center space-y-0",children:J.map((Z,Se)=>{const Me=Z.key==="prospectData"?H[Z.key]!==void 0?H[Z.key]:ie:H[Z.key]||0,Nt=ie>0?(Me/ie*100).toFixed(1):0,is=te(Se,J.length),os=ie>0?Me/ie*is:0,Vt=Z.clickable;return e.jsxs("div",{className:"relative w-full flex flex-col items-center",children:[e.jsxs("div",{onClick:()=>Ne(Z),className:`relative transition-all duration-300 ${Vt?"cursor-pointer hover:scale-[1.03] group":"cursor-default"}`,style:{width:`${is}%`,minHeight:"28px",display:"flex",alignItems:"center",justifyContent:"center"},title:Vt?Me>0?`Click to view ${Me} ${Z.label.toLowerCase()} records`:`Click to view ${Z.label.toLowerCase()}`:"",children:[e.jsx("div",{className:`absolute inset-0 transition-all duration-300 ${Vt?"group-hover:brightness-110 group-hover:shadow-md":""}`,style:{clipPath:Se===0?"polygon(0 0, 100% 0, 95% 100%, 5% 100%)":Se===J.length-1?"polygon(15% 0, 85% 0, 100% 100%, 0 100%)":"polygon(8% 0, 92% 0, 96% 100%, 4% 100%)",backgroundColor:oe.light,border:`2px solid ${oe.border}`,borderBottom:Se<J.length-1?"none":`2px solid ${oe.border}`}}),os>0&&e.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 transition-all duration-500",style:{width:`${Math.max(20,os/is*100)}%`,height:"100%",backgroundColor:oe.primary,clipPath:Se===0?"polygon(0 0, 100% 0, 95% 100%, 5% 100%)":Se===J.length-1?"polygon(15% 0, 85% 0, 100% 100%, 0 100%)":"polygon(8% 0, 92% 0, 96% 100%, 4% 100%)",opacity:.85}}),e.jsxs("div",{className:"relative z-10 w-full px-2 py-1 text-center",children:[e.jsxs("div",{className:`text-xs font-bold mb-0.5 ${Vt?"text-gray-800":"text-gray-600"}`,children:[Z.label,Vt&&e.jsxs("svg",{className:"w-2.5 h-2.5 inline-block ml-1 opacity-70",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900",children:Me.toLocaleString()}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",Nt,"%)"]})]})]})]}),Se<J.length-1&&e.jsx("div",{className:"w-0.5",style:{height:"4px",backgroundColor:oe.primary,opacity:.3}})]},Z.key)})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-600 mb-1 text-xs font-medium",children:"Conversion"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[ie>0?(H.sql/ie*100).toFixed(1):0,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-gray-600 mb-1 text-xs font-medium",children:"Meetings"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[ie>0?(H.scheduled/ie*100).toFixed(1):0,"%"]})]})]})})]})};return e.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-20 shadow-sm backdrop-blur-sm bg-white/95",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>{if(b||r?.project?.id){const C=b||r.project.id;n(`/projects/${C}`)}else n("/projects")},className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 transition-colors",title:b||r?.project?.id?"Back to Prospect Management":"Back to Projects",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Prospect Analytics Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.project?`Analytics for ${r.project.companyName}`:"Comprehensive insights across all projects"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:b,onChange:C=>$(C.target.value),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white min-w-[200px]",children:[e.jsx("option",{value:"",children:"All Projects"}),f.map(C=>e.jsx("option",{value:C._id,children:C.companyName},C._id))]}),r.project&&e.jsx("button",{onClick:()=>n(`/projects/${r.project.id}`),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"View Project"})]})]}),e.jsx("div",{className:"flex items-center gap-6 overflow-x-auto pb-2 border-b border-gray-200",children:X.map(C=>e.jsx("button",{onClick:()=>m(C.id),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium whitespace-nowrap transition-colors ${h===C.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:C.label},C.id))})]})}),A&&e.jsx("div",{className:"fixed top-20 right-4 z-50",style:{animation:"slideInRight 0.3s ease-out"},children:e.jsx("div",{className:`px-4 py-3 rounded-lg shadow-xl border-2 ${A.type==="info"?"bg-blue-50 border-blue-200 text-blue-800":A.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[A.type==="info"&&e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium",children:A.message}),e.jsx("button",{onClick:()=>Y(null),className:"ml-2 text-current opacity-70 hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}),e.jsx("style",{children:`
        @keyframes slideInRight {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-0",children:[h==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[e.jsx(W,{title:"Total Prospects",value:r.overview.totalProspects.toLocaleString(),icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),color:"blue",compact:!0}),e.jsx(W,{title:"Total Activities",value:r.overview.totalActivities.toLocaleString(),subtitle:"Calls, emails & LinkedIn",icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"green",compact:!0}),e.jsx(W,{title:"Win Rate",value:`${r.pipeline.conversion.winRate}%`,subtitle:`${r.pipeline.conversion.won} won`,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),color:"purple",compact:!0}),e.jsx(W,{title:"Meeting Rate",value:`${r.pipeline.conversion.meetingRate}%`,subtitle:`${r.pipeline.conversion.meetings} meetings`,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),color:"orange",compact:!0}),e.jsx(W,{title:"SQL Rate",value:r.overview.totalProspects>0?`${(r.pipeline.conversion.sql/r.overview.totalProspects*100).toFixed(1)}%`:"0%",subtitle:`${r.pipeline.conversion.sql} SQL leads`,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),color:"blue",compact:!0}),e.jsx(W,{title:"CIP Rate",value:r.overview.totalProspects>0?`${(r.pipeline.conversion.cip/r.overview.totalProspects*100).toFixed(1)}%`:"0%",subtitle:`${r.pipeline.conversion.cip} CIP prospects`,icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),color:"green",compact:!0}),e.jsx(W,{title:"Avg Activities/Prospect",value:r.overview.totalProspects>0?(r.overview.totalActivities/r.overview.totalProspects).toFixed(1):"0",subtitle:"Average engagement",icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"purple",compact:!0}),e.jsx(W,{title:"Lost Deals",value:r.pipeline.conversion.lost||0,subtitle:"Deals lost",icon:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),color:"orange",compact:!0})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Funnel Analytics"}),e.jsx("div",{className:`${P.length===1?"flex justify-center":P.length===2?"flex justify-center gap-6":"overflow-x-auto"}`,children:e.jsxs("div",{className:`${P.length===1?"w-80":P.length===2?"flex gap-6":"flex gap-6 min-w-max pb-2"}`,children:[P.includes("call")&&e.jsx("div",{className:`${P.length===1||P.length===2?"w-80":"flex-shrink-0 w-80"}`,children:e.jsx(je,{title:"Cold Calling Funnel",data:r.funnels.coldCalling,color:"green",funnelType:"call",totalProspects:r.overview?.totalProspects})}),P.includes("email")&&e.jsx("div",{className:`${P.length===1||P.length===2?"w-80":"flex-shrink-0 w-80"}`,children:e.jsx(je,{title:"Email Funnel",data:r.funnels.email,color:"blue",funnelType:"email",totalProspects:r.overview?.totalProspects})}),P.includes("linkedin")&&e.jsx("div",{className:`${P.length===1||P.length===2?"w-80":"flex-shrink-0 w-80"}`,children:e.jsx(je,{title:"LinkedIn Funnel",data:r.funnels.linkedin,color:"purple",funnelType:"linkedin",totalProspects:r.overview?.totalProspects})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Trends (Last 7 Days)"}),r.activities.trends.labels.length>0?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(z6,{data:{labels:r.activities.trends.labels,datasets:[...P.includes("call")?[{label:"Calls",data:r.activities.trends.call,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4}]:[],...P.includes("email")?[{label:"Emails",data:r.activities.trends.email,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]:[],...P.includes("linkedin")?[{label:"LinkedIn",data:r.activities.trends.linkedin,borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4}]:[]]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No activity data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Distribution"}),r.activities.byType.length>0?e.jsx("div",{className:"h-64",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(zc,{data:{labels:r.activities.byType.filter(C=>{const H=C.type.toLowerCase();return H==="call"&&P.includes("call")||H==="email"&&P.includes("email")||H==="linkedin"&&P.includes("linkedin")}).map(C=>C.type.charAt(0).toUpperCase()+C.type.slice(1)),datasets:[{data:r.activities.byType.filter(C=>{const H=C.type.toLowerCase();return H==="call"&&P.includes("call")||H==="email"&&P.includes("email")||H==="linkedin"&&P.includes("linkedin")}).map(C=>C.count),backgroundColor:[...P.includes("call")?["rgb(34, 197, 94)"]:[],...P.includes("email")?["rgb(59, 130, 246)"]:[],...P.includes("linkedin")?["rgb(168, 85, 247)"]:[]]}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No activity data available"})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Prospect Stage Distribution"}),r.prospects.stageDistribution.length>0?e.jsx("div",{className:"h-80",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(hr,{data:{labels:r.prospects.stageDistribution.map(C=>C.stage),datasets:[{label:"Prospects",data:r.prospects.stageDistribution.map(C=>C.count),backgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No stage data available"})})]}),r.topPerformers&&r.topPerformers.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performing Prospects"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Prospect"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Company"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Activities"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Activity"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.topPerformers.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:C.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.company}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:C.activityCount}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.lastActivity?new Date(C.lastActivity).toLocaleDateString():"N/A"})]},C.id))})]})})]})]}),h==="funnels"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`${P.length===1?"flex justify-center":P.length===2?"grid grid-cols-1 lg:grid-cols-2 gap-3 justify-center":"grid grid-cols-1 lg:grid-cols-3 gap-3"}`,children:[P.includes("call")&&e.jsx(je,{title:"Cold Calling Funnel",data:r.funnels.coldCalling,color:"green",funnelType:"call",totalProspects:r.overview?.totalProspects}),P.includes("email")&&e.jsx(je,{title:"Email Funnel",data:r.funnels.email,color:"blue",funnelType:"email",totalProspects:r.overview?.totalProspects}),P.includes("linkedin")&&e.jsx(je,{title:"LinkedIn Funnel",data:r.funnels.linkedin,color:"purple",funnelType:"linkedin",totalProspects:r.overview?.totalProspects})]}),y&&e.jsx("div",{className:"text-xs text-gray-500 text-center mt-2",children:"Click on any stage above to view detailed records"})]}),h==="pipeline"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Pipeline Analysis"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Monitor your sales pipeline and conversion metrics"})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Conversion Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600 mb-2",children:[r.pipeline.conversion.winRate,"%"]}),e.jsx("div",{className:"text-base font-semibold text-gray-700 mb-1",children:"Win Rate"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.pipeline.conversion.won," won / ",r.pipeline.conversion.total," total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-2",children:[r.pipeline.conversion.meetingRate,"%"]}),e.jsx("div",{className:"text-base font-semibold text-gray-700 mb-1",children:"Meeting Rate"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[r.pipeline.conversion.meetings," meetings scheduled"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-xl p-6 shadow-sm",children:[e.jsx("div",{className:"text-4xl font-bold text-orange-600 mb-2",children:r.pipeline.conversion.sql}),e.jsx("div",{className:"text-base font-semibold text-gray-700 mb-1",children:"SQL Count"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Sales Qualified Leads"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Pipeline Stage Distribution"}),r.prospects.byStage&&r.prospects.byStage.length>0?e.jsx("div",{className:"h-96",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}),children:e.jsx(hr,{data:{labels:r.prospects.byStage.map(C=>C.stage||C._id),datasets:[{label:"Prospects",data:r.prospects.byStage.map(C=>C.count),backgroundColor:"rgb(59, 130, 246)"}]},options:{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0,ticks:{stepSize:50}},y:{ticks:{font:{size:12}}}}}})})}):e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No pipeline data available"})})]})]}),P.includes("linkedin")&&h==="linkedin"&&(()=>{const C=r.funnels.linkedin||{},H=C.connectionSent||0,ue=C.accepted||0,ge=C.followups||0,L=C.scheduled||0,J=C.completed||0,ie=H>0?ue/H*100:0,De=ge>0?ge/H*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"LinkedIn"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:H.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Connection Requests Sent"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[ie.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[ue.toLocaleString()," accepted"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Messages"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:ge.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Messages Sent"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-cyan-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("span",{className:"text-xs font-semibold text-cyan-700 bg-white/70 border border-cyan-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[De.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[ge.toLocaleString()," replies"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border border-amber-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-amber-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-amber-700 bg-white/70 border border-amber-100 px-2 py-1 rounded-full shadow-xs",children:"Meetings"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:(L+J).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Meetings Booked"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"LinkedIn Funnel Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(hr,{data:{labels:["Requests Sent","Accepted","Messages Sent","Replies","Meetings"],datasets:[{label:"LinkedIn Funnel",data:[H,ue,ge,ge,L+J],backgroundColor:"#3B82F6",borderColor:"#2563EB",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:oe=>`${oe.label}: ${oe.parsed.y.toLocaleString()}`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:12}},x:{ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Connection Acceptance Rate"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(zc,{data:{labels:["Accepted","Not Accepted"],datasets:[{label:"Connection Requests",data:[ue,Math.max(0,H-ue)],backgroundColor:["#10B981","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{callbacks:{label:oe=>{const te=oe.label||"",Ne=oe.parsed||0,Z=H>0?Ne/H*100:0;return`${te}: ${Ne.toLocaleString()} (${Z.toFixed(1)}%)`}}}}}})})})]})]})]})})(),P.includes("call")&&h==="calls"&&(()=>{const C=r.funnels.coldCalling||{},H=C.callsAttempted||0,ue=C.callsConnected||0,ge=C.decisionMakerReached||0,L=C.interested||0,J=(C.demoBooked||0)+(C.demoCompleted||0),ie=H>0?ue/H*100:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full shadow-xs",children:"Calls"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:H.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Calls Made"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[ie.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[ue.toLocaleString()," connected"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Decision"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:ge.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Decision Maker Connects"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-cyan-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-cyan-700 bg-white/70 border border-cyan-100 px-2 py-1 rounded-full shadow-xs",children:"Interested"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:L.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Interested"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border border-amber-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-amber-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-amber-700 bg-white/70 border border-amber-100 px-2 py-1 rounded-full shadow-xs",children:"Meetings"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:J.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Meetings Booked"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Cold Call Funnel Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(hr,{data:{labels:["Calls Made","Connected","Decision Maker","Interested","Meetings"],datasets:[{label:"Cold Call Funnel",data:[H,ue,ge,L,J],backgroundColor:"#3B82F6",borderColor:"#2563EB",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:De=>`${De.label}: ${De.parsed.y.toLocaleString()}`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:25}},x:{ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Call Connection Rate"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(zc,{data:{labels:["Connected","Not Connected"],datasets:[{label:"Call Connections",data:[ue,Math.max(0,H-ue)],backgroundColor:["#10B981","#EF4444"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{callbacks:{label:De=>{const oe=De.label||"",te=De.parsed||0,Ne=H>0?te/H*100:0;return`${oe}: ${te.toLocaleString()} (${Ne.toFixed(1)}%)`}}}}}})})})]})]})]})})(),P.includes("email")&&h==="email"&&(()=>{const C=r.funnels.email||{},H=C.emailSent||0,ue=C.accepted||0,ge=C.scheduled||0,L=C.completed||0,J=C.sql||0,ie=H>0?ue/H*100:0,De=H>0?J/H*100:0,oe=ge+L;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full shadow-xs",children:"Email"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:H.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Emails Sent"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsxs("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[ie.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[ue.toLocaleString()," opened"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[De.toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[J.toLocaleString()," replies"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border border-amber-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-amber-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-amber-700 bg-white/70 border border-amber-100 px-2 py-1 rounded-full shadow-xs",children:"Meetings"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:oe.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Meetings Booked"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 rounded-xl border border-red-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-red-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"text-xs font-semibold text-red-700 bg-white/70 border border-red-100 px-2 py-1 rounded-full shadow-xs",children:"Bounce"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"0.0%"}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Bounce Rate"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Email Funnel Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(hr,{data:{labels:["Emails Sent","Opened","Replied","Meetings"],datasets:[{label:"Email Funnel",data:[H,ue,J,oe],backgroundColor:"#3B82F6",borderColor:"#2563EB",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:te=>`${te.label}: ${te.parsed.y.toLocaleString()}`}}},scales:{y:{beginAtZero:!0,ticks:{stepSize:10}},x:{ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Email Status Distribution"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(zc,{data:{labels:["Replied","Opened","No Reply"],datasets:[{label:"Email Status",data:[J,Math.max(0,ue-J),Math.max(0,H-ue)],backgroundColor:["#10B981","#3B82F6","#9CA3AF"],borderWidth:2,borderColor:"#ffffff"}]},options:{responsive:!0,maintainAspectRatio:!1,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{callbacks:{label:te=>{const Ne=te.label||"",Z=te.parsed||0,Se=H>0?Z/H*100:0;return`${Ne}: ${Z.toLocaleString()} (${Se.toFixed(1)}%)`}}}}}})})})]})]})]})})(),h==="team"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Period:"}),e.jsx("button",{onClick:()=>D("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${V==="today"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today"}),e.jsx("button",{onClick:()=>D("last7days"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${V==="last7days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Last 7 Days"}),e.jsx("button",{onClick:()=>D("lastMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${V==="lastMonth"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Last Month"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Trends"}),F?e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):z?.chartData?e.jsx("div",{className:"h-96",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading chart..."}),children:e.jsx(hr,{data:z.chartData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Activities by Type and Status"}},scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0}}}})})}):e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No activity data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity Distribution by Channel"}),F?e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):z?.pieData?e.jsx("div",{className:"h-96",children:e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading chart..."}),children:e.jsx(B6,{data:z.pieData,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"},title:{display:!0,text:"Activities by Channel"}}}})})}):e.jsx("div",{className:"h-96 flex items-center justify-center text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No activity data available"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),r?.team?.performance?.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Team Member"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Activities"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Calls"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Emails"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"LinkedIn"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.team.performance.map(C=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500",children:C.email})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-semibold",children:C.totalActivities}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.calls}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.emails}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.linkedin})]},C.id))})]})}):e.jsx("div",{className:"text-center py-12 text-gray-500",children:e.jsx("p",{className:"text-sm",children:"No team performance data available"})})]})]})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[100] flex items-center justify-center p-4",onClick:()=>{v(null),N([])},style:{position:"fixed",top:0,left:0,right:0,bottom:0},children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col relative z-[101]",onClick:C=>C.stopPropagation(),style:{position:"relative",zIndex:101},children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-gray-50 to-white",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.stage==="prospectData"?"All Prospects":y.stage.charAt(0).toUpperCase()+y.stage.slice(1)+" - "+(y.funnelType==="call"?"Cold Calling":y.funnelType==="email"?"Email":"LinkedIn")+" Funnel"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[j.length," ",y.stage==="prospectData"?"prospect":"record",j.length!==1?"s":""," found"]})]}),e.jsx("button",{onClick:()=>{v(null),N([])},className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-100 rounded-lg",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:M?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-200 border-t-blue-600"})}):j.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-b-2 border-gray-200 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:y.stage==="prospectData"?"Prospect":"Contact"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Company"}),y.stage==="prospectData"?e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Phone"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Stage"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Priority"})]}):e.jsxs(e.Fragment,{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Notes"})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map((C,H)=>C.isProspect||y.stage==="prospectData"?e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:C.name||"Unknown"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:C.company||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.email||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.firstPhone||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:(C.displayStatus||C.stage)&&e.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-800 rounded-full border border-purple-200",children:C.displayStatus||C.stage})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:C.priority&&e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full border ${C.priority==="High"?"bg-red-100 text-red-800 border-red-200":C.priority==="Medium"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:C.priority})})]},H):e.jsxs("tr",{className:"hover:bg-blue-50/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-semibold text-gray-900",children:C.contact?.name||"Unknown"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 font-medium",children:C.contact?.company||"N/A"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.callDate||C.emailDate||C.linkedinDate?new Date(C.callDate||C.emailDate||C.linkedinDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):C.createdAt?new Date(C.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[C.status&&e.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:C.status}),C.callStatus&&e.jsx("span",{className:"px-2 py-1 text-xs font-semibold bg-green-100 text-green-800 rounded-full border border-green-200",children:C.callStatus}),!C.status&&!C.callStatus&&e.jsx("span",{className:"text-xs text-gray-400",children:"-"})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 max-w-xs",children:e.jsx("div",{className:"truncate",title:C.conversationNotes||"No notes",children:C.conversationNotes||"No notes"})})]},H))})]})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"text-sm font-medium",children:"No records found for this stage"})]})})]})})]})}const H6=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Line}))),Hn=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Bar}))),mr=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Doughnut})));nn.register(za,Ba,_a,an,Ea,eo,Ta,Oa,Ra);function U6(){const[n,t]=k.useState(null),[a,r]=k.useState(!0),[l,c]=k.useState("executive");k.useEffect(()=>{d()},[]);const d=async()=>{try{r(!0);const T=await Ae.get("/master-dashboard");T.data.success&&t(T.data.data)}catch(T){console.error("Error fetching master dashboard data:",T)}finally{r(!1)}},h=()=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]});if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[...Array(8)].map((T,W)=>e.jsx(h,{},W))})})});if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Couldn't load the dashboard right now. Try refreshing."}),e.jsx("button",{onClick:d,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})});const m=n?.executive||{},f=n?.rankings||{bestPerformingProjects:[],channelEfficiency:{linkedin:{acceptanceRate:0},call:{connectRate:0},email:{replyRate:0}},teamLeaderboard:[]},g=n?.alerts||{lowActivityProjects:[],highBounceProjects:[],missingFollowUps:[]},b=n?.dataQuality||{leadsAddedDaily:0,leadsAddedWeekly:0,validEmailPercent:0,validPhonePercent:0,duplicatePercent:0,dataQualityScore:0,totalProspects:0,validEmailCount:0,validPhoneCount:0,duplicateCount:0},w=n?.linkedin||{connectionRequestsSent:0,acceptanceRate:0,accepted:0,messagesSent:0,replies:0,replyRate:0,meetingsBooked:0},y=n?.coldCall||{callsMade:0,connectRate:0,connected:0,decisionMakerConnects:0,interested:0,meetingsBooked:0},v=n?.email||{emailsSent:0,bounceRate:0,bounced:0,replyRate:0,replied:0,positiveReplies:0,meetingsBooked:0},j=n?.followUp||{totalDue:0,completed:0,overdueCount:0,completionRate:0,slaCompliance:0,chartData:null,projectData:null},N=T=>{const W=typeof T=="string"?parseFloat(T):T;return typeof W!="number"||isNaN(W)||!isFinite(W)||W<0?0:Math.max(0,Math.min(100,W))},M=T=>T.map(W=>{const je=typeof W=="string"?parseFloat(W):W;return typeof je!="number"||isNaN(je)||!isFinite(je)?0:je}),B=[f?.channelEfficiency?.linkedin?.acceptanceRate,f?.channelEfficiency?.call?.connectRate,f?.channelEfficiency?.email?.replyRate].map(T=>N(T||0)),A={labels:["LinkedIn","Call","Email"],datasets:[{label:"Efficiency Rate (%)",data:M(B),backgroundColor:["#3B82F6","#10B981","#F59E0B"],borderColor:["#2563EB","#059669","#D97706"],borderWidth:2}]},Y={labels:(f?.teamLeaderboard||[]).slice(0,10).map(T=>T?.name||"Unknown"),datasets:[{label:"Total Activities",data:(f?.teamLeaderboard||[]).slice(0,10).map(T=>{const W=T?.totalActivities||0;return typeof W=="number"&&isFinite(W)?W:0}),backgroundColor:"#3B82F6",borderColor:"#2563EB",borderWidth:1}]},V=[b?.validEmailPercent||0,b?.validPhonePercent||0,b?.duplicatePercent||0].map(T=>N(T)),D={labels:["Valid Email","Valid Phone","Duplicates"],datasets:[{data:M(V),backgroundColor:["#10B981","#3B82F6","#EF4444"],borderWidth:2,borderColor:"#ffffff",hoverOffset:4}]},z={labels:["Requests Sent","Accepted","Messages Sent","Replies","Meetings"],datasets:[{label:"LinkedIn Funnel",data:[w?.connectionRequestsSent||0,w?.accepted||0,w?.messagesSent||0,w?.replies||0,w?.meetingsBooked||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#0077B5","#00A0DC","#008CC9","#006699","#004D73"],borderColor:["#005885","#0077B5","#006699","#004D73","#003D5C"],borderWidth:2}]},E={labels:["Accepted","Not Accepted"],datasets:[{label:"Connection Requests",data:[w?.accepted||0,Math.max(0,(w?.connectionRequestsSent||0)-(w?.accepted||0))].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#10B981","#EF4444"],borderWidth:2}]},F={labels:["Calls Made","Connected","Decision Maker","Interested","Meetings"],datasets:[{label:"Cold Call Funnel",data:[y?.callsMade||0,y?.connected||0,y?.decisionMakerConnects||0,y?.interested||0,y?.meetingsBooked||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#3B82F6","#2563EB","#1D4ED8","#1E40AF","#1E3A8A"],borderColor:["#2563EB","#1D4ED8","#1E40AF","#1E3A8A","#1E3A8A"],borderWidth:2}]},se={labels:["Connected","Not Connected"],datasets:[{label:"Call Connections",data:[y?.connected||0,Math.max(0,(y?.callsMade||0)-(y?.connected||0))].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#10B981","#EF4444"],borderWidth:2}]},O={labels:["Emails Sent","Replied","Positive Replies","Meetings"],datasets:[{label:"Email Funnel",data:[v?.emailsSent||0,v?.replied||0,v?.positiveReplies||0,v?.meetingsBooked||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#8B5CF6","#7C3AED","#6D28D9","#5B21B6"],borderColor:["#7C3AED","#6D28D9","#5B21B6","#4C1D95"],borderWidth:2}]},U={labels:["Replied","Bounced","No Reply"],datasets:[{label:"Email Status",data:[v?.replied||0,v?.bounced||0,Math.max(0,(v?.emailsSent||0)-(v?.replied||0)-(v?.bounced||0))].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#10B981","#EF4444","#9CA3AF"],borderWidth:2,borderColor:"#ffffff"}]},I={labels:["Touches","Meetings"],datasets:[{label:"This Week",data:[m?.totalTouchesThisWeek||0,m?.totalMeetingsBookedThisWeek||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:"#3B82F6",borderColor:"#2563EB",borderWidth:2},{label:"This Month",data:[m?.totalTouchesThisMonth||0,m?.totalMeetingsBookedThisMonth||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:"#10B981",borderColor:"#059669",borderWidth:2}]},$={labels:["LinkedIn","Cold Call","Email"],datasets:[{label:"Activities by Channel",data:[w?.connectionRequestsSent||0,y?.callsMade||0,v?.emailsSent||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#0077B5","#3B82F6","#8B5CF6"],borderWidth:2,borderColor:"#ffffff",hoverOffset:4}]},G={labels:["Conversion Rate","SLA Compliance"],datasets:[{label:"Performance Metrics (%)",data:[N(m?.weightedConversionRate||0),N(m?.slaCompliance||0)],backgroundColor:["#10B981","#3B82F6"],borderColor:["#059669","#2563EB"],borderWidth:2}]},P={labels:["Leads in Play","Total Touches","Meetings Booked"],datasets:[{label:"Overall Funnel",data:[m?.totalLeadsInPlay||0,m?.totalTouchesThisMonth||0,m?.totalMeetingsBookedThisMonth||0].map(T=>typeof T=="number"&&isFinite(T)?T:0),backgroundColor:["#3B82F6","#8B5CF6","#10B981"],borderColor:["#2563EB","#7C3AED","#059669"],borderWidth:2}]},X=[{id:"executive",label:"Executive Summary"},{id:"rankings",label:"Rankings"},{id:"alerts",label:"Alerts"},{id:"data",label:"Data Quality"},{id:"linkedin",label:"LinkedIn"},{id:"calls",label:"Cold Calls"},{id:"email",label:"Email"},{id:"followup",label:"Follow-ups"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-20 shadow-sm backdrop-blur-sm bg-white/95",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"flex items-center justify-center w-10 h-10 rounded-lg border border-gray-300 bg-white hover:bg-gray-50 transition-colors",title:"Go Back",children:e.jsx("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Master Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"All Projects Summary & Analytics"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-sm text-gray-700",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})})]}),e.jsx("div",{className:"flex items-center gap-6 overflow-x-auto pb-2 border-b border-gray-200",children:X.map(T=>e.jsx("button",{onClick:()=>c(T.id),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium whitespace-nowrap transition-colors ${l===T.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:T.label},T.id))})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-0",children:[l==="executive"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full shadow-xs",children:"Projects"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:m?.activeProjects||0}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Active Projects"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Leads"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:(m?.totalLeadsInPlay||0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Total Leads in Play"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl border border-green-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-green-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("span",{className:"text-xs font-semibold text-green-700 bg-white/70 border border-green-100 px-2 py-1 rounded-full shadow-xs",children:"Activity"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:(m?.totalTouchesThisWeek||0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Touches This Week"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Meetings"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:m?.totalMeetingsBookedThisWeek||0}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Meetings This Week"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-indigo-50 to-blue-50 rounded-xl border border-indigo-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-indigo-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-indigo-700 bg-white/70 border border-indigo-100 px-2 py-1 rounded-full shadow-xs",children:"Activity"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:(m?.totalTouchesThisMonth||0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Touches This Month"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-pink-50 rounded-xl border border-rose-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-rose-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-rose-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-rose-700 bg-white/70 border border-rose-100 px-2 py-1 rounded-full shadow-xs",children:"Meetings"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:m?.totalMeetingsBookedThisMonth||0}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Meetings This Month"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl border border-teal-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-teal-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),e.jsx("span",{className:"text-xs font-semibold text-teal-700 bg-white/70 border border-teal-100 px-2 py-1 rounded-full shadow-xs",children:"Conversion"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(m?.weightedConversionRate||0).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Weighted Conversion Rate"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl border border-orange-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-orange-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-orange-700 bg-white/70 border border-orange-100 px-2 py-1 rounded-full shadow-xs",children:"Compliance"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(m?.slaCompliance||0).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"SLA Compliance"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Week vs Month Performance"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:I,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{position:"top",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0}},tooltip:{callbacks:{label:T=>{const W=typeof T.parsed.y=="number"&&isFinite(T.parsed.y)?T.parsed.y:0;return`${T.dataset.label}: ${W.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:T=>{const W=typeof T=="number"?T:parseFloat(T);return typeof W=="number"&&isFinite(W)?Math.round(W):0},stepSize:1}},x:{grid:{display:!1}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Activity by Channel"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(mr,{data:$,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.5,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{callbacks:{label:T=>{const W=T.label||"",je=T.parsed||0,C=(w?.connectionRequestsSent||0)+(y?.callsMade||0)+(v?.emailsSent||0),H=C>0?je/C*100:0;return`${W}: ${je.toLocaleString()} (${H.toFixed(1)}%)`}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Overall Sales Funnel"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:P,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>{const W=typeof T.parsed.y=="number"&&isFinite(T.parsed.y)?T.parsed.y:0;return`${T.label}: ${W.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:T=>{const W=typeof T=="number"?T:parseFloat(T);return typeof W=="number"&&isFinite(W)?Math.round(W):0},stepSize:1}},x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Key Performance Metrics"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:G,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>{const W=N(T.parsed.y);return`${T.label}: ${W.toFixed(2)}%`}}}},scales:{y:{beginAtZero:!0,max:100,min:0,ticks:{callback:T=>`${N(T)}%`,stepSize:20,maxTicksLimit:6},afterDataLimits:T=>{T.max=100,T.min=0}},x:{grid:{display:!1}}}}})})})]})]})]}),l==="rankings"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Best Performing Projects"}),e.jsx("div",{className:"space-y-3",children:(f?.bestPerformingProjects||[]).slice(0,10).map((T,W)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${W===0?"bg-yellow-100 text-yellow-800":W===1?"bg-gray-100 text-gray-800":W===2?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:W+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.projectName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[T.totalProspects," prospects"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:T.meetingsPer100Leads.toFixed(1)}),e.jsx("p",{className:"text-xs text-gray-500",children:"meetings/100 leads"})]})]},W))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Channel Efficiency Leaderboard"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:A,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>`Efficiency: ${N(T.parsed.y).toFixed(2)}%`}}},scales:{y:{beginAtZero:!0,max:100,min:0,grace:0,ticks:{callback:T=>`${N(T)}%`,stepSize:20,maxTicksLimit:6,precision:0},afterDataLimits:T=>{T.max=100,T.min=0},afterBuildTicks:T=>{T.ticks=T.ticks.filter(W=>{const je=typeof W.value=="number"?W.value:parseFloat(W.value);return isFinite(je)&&je>=0&&je<=100})}},x:{grid:{display:!1}}}}})})}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border border-blue-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"LinkedIn Acceptance"}),e.jsxs("span",{className:"font-bold text-lg text-blue-700",children:[N(f?.channelEfficiency?.linkedin?.acceptanceRate||0).toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Call Connect Rate"}),e.jsxs("span",{className:"font-bold text-lg text-green-700",children:[N(f?.channelEfficiency?.call?.connectRate||0).toFixed(2),"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg border border-amber-200",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email Reply Rate"}),e.jsxs("span",{className:"font-bold text-lg text-amber-700",children:[N(f?.channelEfficiency?.email?.replyRate||0).toFixed(2),"%"]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Team Leaderboard"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:Y,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2.5,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>`Activities: ${typeof T.parsed.y=="number"&&isFinite(T.parsed.y)?T.parsed.y:0}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:T=>{const W=typeof T=="number"?T:parseFloat(T);return typeof W=="number"&&isFinite(W)?Math.round(W):0},stepSize:1},afterBuildTicks:T=>{T.ticks=T.ticks.filter(W=>{const je=typeof W.value=="number"?W.value:parseFloat(W.value);return isFinite(je)&&je>=0})}},x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})}),e.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:(f?.teamLeaderboard||[]).slice(0,10).map((T,W)=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:T.name||"Unknown"}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[T.totalActivities," activities"]}),e.jsxs("div",{className:"mt-2 flex gap-2 text-xs",children:[e.jsxs("span",{className:"text-blue-600",children:[T.calls," calls"]}),e.jsxs("span",{className:"text-green-600",children:[T.emails," emails"]}),e.jsxs("span",{className:"text-purple-600",children:[T.linkedin," LI"]})]})]},W))})]})]})}),l==="alerts"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Low Activity (Last 3 Days)"}),e.jsx("div",{className:"space-y-2",children:(g?.lowActivityProjects||[]).length>0?(g?.lowActivityProjects||[]).map((T,W)=>e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.projectName}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[T.activityCount," activities / ",T.totalContacts," contacts"]})]},W)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No low activity projects"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"High Bounce/Wrong Data"})]}),e.jsx("div",{className:"space-y-2",children:(g?.highBounceProjects||[]).length>0?(g?.highBounceProjects||[]).map((T,W)=>e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.projectName}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[T.errorRate.toFixed(1),"% error rate (",T.bounceCount," bounces, ",T.wrongPersonCount," wrong)"]})]},W)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No high bounce projects"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Missing Follow-ups"}),e.jsx("div",{className:"space-y-2",children:(g?.missingFollowUps||[]).length>0?(g?.missingFollowUps||[]).map((T,W)=>e.jsxs("div",{className:"p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:T.projectName}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[T.overdueCount," overdue follow-ups"]})]},W)):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No missing follow-ups"})})]})]})}),l==="data"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full shadow-xs",children:"Daily"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:b?.leadsAddedDaily||0}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Leads Added (Daily)"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Weekly"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:b?.leadsAddedWeekly||0}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Leads Added (Weekly)"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Quality"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(b?.validEmailPercent||0).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[(b?.validEmailCount||0).toLocaleString()," of ",(b?.totalProspects||0).toLocaleString()]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-cyan-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),e.jsx("span",{className:"text-xs font-semibold text-cyan-700 bg-white/70 border border-cyan-100 px-2 py-1 rounded-full shadow-xs",children:"Quality"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(b?.validPhonePercent||0).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[(b?.validPhoneCount||0).toLocaleString()," of ",(b?.totalProspects||0).toLocaleString()]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 rounded-xl border border-red-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-red-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx("span",{className:"text-xs font-semibold text-red-700 bg-white/70 border border-red-100 px-2 py-1 rounded-full shadow-xs",children:"Duplicates"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(b?.duplicatePercent||0).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[(b?.duplicateCount||0).toLocaleString()," duplicates"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border border-amber-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-amber-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-amber-700 bg-white/70 border border-amber-100 px-2 py-1 rounded-full shadow-xs",children:"Score"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(b?.dataQualityScore||0).toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Data Quality Score"})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Data Quality Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsx(mr,{data:D,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.5,cutout:"60%",layout:{padding:{top:20,bottom:20}},plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{callbacks:{label:T=>{const W=T.label||"",je=N(T.parsed||0),C=V.reduce((ue,ge)=>ue+N(ge),0),H=C>0?N(T.parsed||0)/C*100:0;return`${W}: ${je.toFixed(2)}% (${H.toFixed(1)}% of total)`}}}}}})})})]})]}),l==="linkedin"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-blue-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),e.jsx("span",{className:"text-xs font-semibold text-blue-700 bg-white/70 border border-blue-100 px-2 py-1 rounded-full shadow-xs",children:"LinkedIn"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:(w?.connectionRequestsSent||0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Connection Requests Sent"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-emerald-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"text-xs font-semibold text-emerald-700 bg-white/70 border border-emerald-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(w?.acceptanceRate||0).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[(w?.accepted||0).toLocaleString()," accepted"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 rounded-xl border border-purple-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-purple-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),e.jsx("span",{className:"text-xs font-semibold text-purple-700 bg-white/70 border border-purple-100 px-2 py-1 rounded-full shadow-xs",children:"Messages"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:(w?.messagesSent||0).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Messages Sent"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 rounded-xl border border-cyan-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-cyan-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-cyan-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})}),e.jsx("span",{className:"text-xs font-semibold text-cyan-700 bg-white/70 border border-cyan-100 px-2 py-1 rounded-full shadow-xs",children:"Rate"})]}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:[N(w?.replyRate||0).toFixed(1),"%"]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[(w?.replies||0).toLocaleString()," replies"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-xl border border-amber-100 shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/80 border border-amber-100 flex items-center justify-center shadow-xs",children:e.jsx("svg",{className:"w-6 h-6 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-xs font-semibold text-amber-700 bg-white/70 border border-amber-100 px-2 py-1 rounded-full shadow-xs",children:"Meetings"})]}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 leading-tight",children:w?.meetingsBooked||0}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"Meetings Booked"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"LinkedIn Funnel Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:z,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>{const W=typeof T.parsed.y=="number"&&isFinite(T.parsed.y)?T.parsed.y:0;return`${T.label}: ${W.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:T=>{const W=typeof T=="number"?T:parseFloat(T);return typeof W=="number"&&isFinite(W)?Math.round(W):0},stepSize:1}},x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Connection Acceptance Rate"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(mr,{data:E,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.5,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0}},tooltip:{callbacks:{label:T=>{const W=T.label||"",je=T.parsed||0,C=w?.connectionRequestsSent||0,H=C>0?je/C*100:0;return`${W}: ${je.toLocaleString()} (${H.toFixed(1)}%)`}}}}}})})})]})]})]}),l==="calls"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Calls Made"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:(y?.callsMade||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-2 border-emerald-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Connect Rate"}),e.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:[N(y?.connectRate||0).toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2 font-medium",children:[(y?.connected||0).toLocaleString()," connected"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Decision Maker Connects"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:(y?.decisionMakerConnects||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Interested"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-600 to-blue-600 bg-clip-text text-transparent",children:(y?.interested||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-2 border-amber-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Meetings Booked"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",children:y?.meetingsBooked||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Cold Call Funnel Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:F,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>{const W=typeof T.parsed.y=="number"&&isFinite(T.parsed.y)?T.parsed.y:0;return`${T.label}: ${W.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:T=>{const W=typeof T=="number"?T:parseFloat(T);return typeof W=="number"&&isFinite(W)?Math.round(W):0},stepSize:1}},x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Call Connection Rate"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(mr,{data:se,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.5,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0}},tooltip:{callbacks:{label:T=>{const W=T.label||"",je=T.parsed||0,C=y?.callsMade||0,H=C>0?je/C*100:0;return`${W}: ${je.toLocaleString()} (${H.toFixed(1)}%)`}}}}}})})})]})]})]}),l==="email"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Emails Sent"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:(v?.emailsSent||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Bounce Rate"}),e.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:[N(v?.bounceRate||0).toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2 font-medium",children:[(v?.bounced||0).toLocaleString()," bounced"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 border-2 border-emerald-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Reply Rate"}),e.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:[N(v?.replyRate||0).toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2 font-medium",children:[(v?.replied||0).toLocaleString()," replied"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Positive Replies"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:(v?.positiveReplies||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 border-2 border-amber-200 rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Meetings Booked"}),e.jsx("p",{className:"text-4xl font-bold bg-gradient-to-r from-amber-600 to-yellow-600 bg-clip-text text-transparent",children:v?.meetingsBooked||0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Email Funnel Overview"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:O,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:2,layout:{padding:{top:10,bottom:10}},plugins:{legend:{display:!1},tooltip:{callbacks:{label:T=>{const W=typeof T.parsed.y=="number"&&isFinite(T.parsed.y)?T.parsed.y:0;return`${T.label}: ${W.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:T=>{const W=typeof T=="number"?T:parseFloat(T);return typeof W=="number"&&isFinite(W)?Math.round(W):0},stepSize:1}},x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Email Status Breakdown"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx(mr,{data:U,options:{responsive:!0,maintainAspectRatio:!0,aspectRatio:1.5,cutout:"60%",plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12,weight:"500"},usePointStyle:!0}},tooltip:{callbacks:{label:T=>{const W=T.label||"",je=T.parsed||0,C=v?.emailsSent||0,H=C>0?je/C*100:0;return`${W}: ${je.toLocaleString()} (${H.toFixed(1)}%)`}}}}}})})})]})]})]}),l==="followup"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Due"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(j?.totalDue||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(j?.completed||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Overdue Count"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:(j?.overdueCount||0).toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completion Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(j?.completionRate||0).toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"SLA Compliance"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[(j?.slaCompliance||0).toFixed(2),"%"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow-up Status Distribution"}),j?.totalDue>0?e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(mr,{data:{labels:["Completed","Overdue","Pending"],datasets:[{label:"Follow-ups",data:[j.completed||0,j.overdueCount||0,(j.totalDue||0)-(j.completed||0)-(j.overdueCount||0)],backgroundColor:["#10B981","#EF4444","#F59E0B"],borderColor:["#059669","#DC2626","#D97706"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{callbacks:{label:function(T){const W=T.label||"",je=T.parsed||0,C=T.dataset.data.reduce((ue,ge)=>ue+ge,0),H=C>0?(je/C*100).toFixed(1):0;return`${W}: ${je} (${H}%)`}}}}}})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No follow-up data available"})]}),j?.projectData&&j.projectData.labels.length>0?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow-ups by Project (Top 10)"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Hn,{data:{labels:j.projectData.labels,datasets:[{label:"Completed",data:j.projectData.completed,backgroundColor:"#10B981",borderColor:"#059669",borderWidth:1},{label:"Overdue",data:j.projectData.overdue,backgroundColor:"#EF4444",borderColor:"#DC2626",borderWidth:1},{label:"Pending",data:j.projectData.total.map((T,W)=>T-j.projectData.completed[W]-j.projectData.overdue[W]),backgroundColor:"#F59E0B",borderColor:"#D97706",borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:10,font:{size:12}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{stacked:!0,ticks:{maxRotation:45,minRotation:45,font:{size:10}}},y:{stacked:!0,beginAtZero:!0,ticks:{stepSize:1}}}}})})})]}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow-ups by Project"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No project data available"})]}),j?.chartData&&j.chartData.labels.length>0?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow-up Trends Over Time"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(H6,{data:{labels:j.chartData.labels,datasets:[{label:"Total Due",data:j.chartData.total,borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Completed",data:j.chartData.completed,borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:2,fill:!0,tension:.4},{label:"Overdue",data:j.chartData.overdue,borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:2,fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{mode:"index",intersect:!1}},scales:{x:{ticks:{maxRotation:45,minRotation:45,font:{size:10}}},y:{beginAtZero:!0,ticks:{stepSize:1}}}}})})})]}):e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Follow-up Trends Over Time"}),e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No trend data available"})]})]})]})]})]})}const qh=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Bar}))),Bc=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Doughnut}))),mb=k.lazy(()=>Ut(()=>Promise.resolve().then(()=>Ft),void 0).then(n=>({default:n.Pie})));nn.register(za,Ba,_a,an,Ea,eo,Ta,Oa,Ra);function F6(){const n=mt(),[t,a]=k.useState(!0),[r,l]=k.useState(null),[c,d]=k.useState(null),[h,m]=k.useState("overview"),[f,g]=k.useState("overview"),[b,w]=k.useState("today");k.useEffect(()=>{y()},[b]);const y=async()=>{try{a(!0);const D=await Ae.get("/projects/employee-performance",{params:{timeFilter:b}});D.data.success&&(l(D.data.data),D.data.data.employees.length>0&&d(D.data.data.employees[0].userId))}catch(D){console.error("Error fetching employee performance:",D)}finally{a(!1)}};if(t)return e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-gray-200 border-t-blue-600"})});if(!r||!r.employees||r.employees.length===0)return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Employee Performance"}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-gray-600",children:"No employee data available"})})]});const v=r.employees.find(D=>D.userId===c)||r.employees[0],j={labels:["Email","Call","LinkedIn"],datasets:[{label:"Activities by Channel",data:[r.summary.byChannel.email,r.summary.byChannel.call,r.summary.byChannel.linkedin],backgroundColor:["#3B82F6","#10B981","#8B5CF6"],borderWidth:2,borderColor:"#ffffff"}]},N={labels:r.employees.map(D=>D.name),datasets:[{label:"Email",data:r.employees.map(D=>D.byChannel.email.total),backgroundColor:"#3B82F6"},{label:"Call",data:r.employees.map(D=>D.byChannel.call.total),backgroundColor:"#10B981"},{label:"LinkedIn",data:r.employees.map(D=>D.byChannel.linkedin.total),backgroundColor:"#8B5CF6"}]},M={labels:["Email","Call","LinkedIn"],datasets:[{label:"Activities",data:[v.byChannel.email.total,v.byChannel.call.total,v.byChannel.linkedin.total],backgroundColor:["#3B82F6","#10B981","#8B5CF6"],borderWidth:2,borderColor:"#ffffff"}]},B={labels:Object.keys(v.byChannel.email.byStatus).length>0?Object.keys(v.byChannel.email.byStatus):["No Status"],datasets:[{label:"Email Status",data:Object.keys(v.byChannel.email.byStatus).length>0?Object.values(v.byChannel.email.byStatus):[0],backgroundColor:["#3B82F6","#60A5FA","#93C5FD","#DBEAFE"],borderWidth:2,borderColor:"#ffffff"}]},A={labels:Object.keys(v.byChannel.call.byStatus).length>0?Object.keys(v.byChannel.call.byStatus):["No Status"],datasets:[{label:"Call Status",data:Object.keys(v.byChannel.call.byStatus).length>0?Object.values(v.byChannel.call.byStatus):[0],backgroundColor:["#10B981","#34D399","#6EE7B7","#A7F3D0"],borderWidth:2,borderColor:"#ffffff"}]},Y={labels:Object.keys(v.byChannel.linkedin.byStatus).length>0?Object.keys(v.byChannel.linkedin.byStatus):["No Status"],datasets:[{label:"LinkedIn Status",data:Object.keys(v.byChannel.linkedin.byStatus).length>0?Object.values(v.byChannel.linkedin.byStatus):[0],backgroundColor:["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE"],borderWidth:2,borderColor:"#ffffff"}]},V={labels:v.byProject.map(D=>D.projectName),datasets:[{label:"Email",data:v.byProject.map(D=>D.email),backgroundColor:"#3B82F6"},{label:"Call",data:v.byProject.map(D=>D.call),backgroundColor:"#10B981"},{label:"LinkedIn",data:v.byProject.map(D=>D.linkedin),backgroundColor:"#8B5CF6"}]};return e.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Employee Performance"}),e.jsx("p",{className:"text-gray-600",children:"Track employee performance across projects and channels"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Employees"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.summary.totalEmployees})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Activities"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.summary.totalActivities.toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Projects"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.summary.totalProjects})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Avg Activities/Employee"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.summary.totalEmployees>0?Math.round(r.summary.totalActivities/r.summary.totalEmployees):0})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Time Period:"}),e.jsx("button",{onClick:()=>w("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="today"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Today"}),e.jsx("button",{onClick:()=>w("last7days"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="last7days"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Last 7 Days"}),e.jsx("button",{onClick:()=>w("lastMonth"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${b==="lastMonth"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Last Month"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6 shadow-sm",children:[e.jsxs("div",{className:"flex space-x-2 border-b border-gray-200 mb-4",children:[e.jsx("button",{onClick:()=>m("overview"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${h==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Overview"}),e.jsx("button",{onClick:()=>m("employee"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${h==="employee"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Employee"})]}),h==="employee"&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Employee"}),e.jsx("select",{value:c,onChange:D=>d(D.target.value),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:r.employees.map(D=>e.jsx("option",{value:D.userId,children:D.name},D.userId))})]}),h==="employee"&&e.jsxs("div",{className:"flex space-x-2 border-b border-gray-200",children:[e.jsx("button",{onClick:()=>g("overview"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${f==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Overview"}),e.jsx("button",{onClick:()=>g("channels"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${f==="channels"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Channel Breakdown"}),e.jsx("button",{onClick:()=>g("projects"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${f==="projects"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Projects"})]})]}),h==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Activities"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:r.summary.totalActivities.toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email Activities"}),e.jsx("div",{className:"text-3xl font-bold text-blue-600",children:r.summary.byChannel.email.toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Call Activities"}),e.jsx("div",{className:"text-3xl font-bold text-green-600",children:r.summary.byChannel.call.toLocaleString()})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"LinkedIn Activities"}),e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:r.summary.byChannel.linkedin.toLocaleString()})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Channel Distribution"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(Bc,{data:j,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Employee Activity Comparison"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(qh,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})})})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Performers"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Activities"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Call"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"LinkedIn"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Projects"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.employees.sort((D,z)=>z.totalActivities-D.totalActivities).map((D,z)=>e.jsxs("tr",{className:z<3?"bg-yellow-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[z<3&&e.jsxs("span",{className:"mr-2 text-yellow-600 font-bold",children:["#",z+1]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name}),e.jsx("div",{className:"text-sm text-gray-500",children:D.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.totalActivities}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-blue-600",children:D.byChannel.email.total}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:D.byChannel.call.total}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-purple-600",children:D.byChannel.linkedin.total}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.projects.length})]},D.userId))})]})})]})]}),h==="employee"&&e.jsxs(e.Fragment,{children:[f==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Activities"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:v.totalActivities})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Email Activities"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.byChannel.email.total})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Call Activities"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.byChannel.call.total})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"LinkedIn Activities"}),e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:v.byChannel.linkedin.total})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[v.name,"'s Channel Distribution"]}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(mb,{data:M,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Employee Activity Comparison"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(qh,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0}}}})})})]})]})]}),f==="channels"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[v.name,"'s Channel Distribution"]}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(mb,{data:M,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"}}}})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Status Breakdown"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-48 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-48",children:e.jsx(Bc,{data:B,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Call Status Breakdown"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-48 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-48",children:e.jsx(Bc,{data:A,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,font:{size:10}}}}}})})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"LinkedIn Status Breakdown"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-48 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-48",children:e.jsx(Bc,{data:Y,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,font:{size:10}}}}}})})})]})]})]}),f==="projects"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[v.name,"'s Projects"]}),v.projects.length>0?e.jsx("div",{className:"space-y-3",children:v.projects.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",onClick:()=>n(`/projects/${D.id}`),children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:D.companyName}),e.jsxs("div",{className:"text-sm text-gray-500",children:[D.isCreator&&e.jsx("span",{className:"mr-2",children:"Creator"}),D.isTeamMember&&e.jsx("span",{children:"Team Member"})]})]}),e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},D.id))}):e.jsx("p",{className:"text-gray-600",children:"No projects assigned"})]}),v.byProject.length>0&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Activity by Project"}),e.jsx(k.Suspense,{fallback:e.jsx("div",{className:"h-64 flex items-center justify-center",children:"Loading chart..."}),children:e.jsx("div",{className:"h-64",children:e.jsx(qh,{data:V,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,stacked:!1},x:{stacked:!1}}}})})})]})]})]})]})})}function V6(){const{id:n}=Xs(),t=mt(),a=c=>{t(c==="linkedin"?`/projects/${n}/linkedin-funnel`:c==="cold-calling"?`/projects/${n}/cold-calling-funnel`:c==="email"?`/projects/${n}/email-funnel`:`/projects/${n}?funnel=${c}`)},r=[{id:"cold-calling",title:"Cold Calling",description:"Manage phone outreach and call activities",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),color:"green",accentColor:"emerald"},{id:"email",title:"Email",description:"Track email campaigns and responses",icon:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"blue",accentColor:"blue"},{id:"linkedin",title:"LinkedIn",description:"Manage LinkedIn connections and messages",icon:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),color:"indigo",accentColor:"indigo"}],l=(c,d)=>{const h={green:{bg:"bg-emerald-50",border:"border-emerald-200",hoverBorder:"hover:border-emerald-300",iconBg:"bg-emerald-100",iconColor:"text-emerald-600",title:"text-gray-900",description:"text-gray-600",hoverBg:"hover:bg-emerald-50",hoverShadow:"hover:shadow-lg"},blue:{bg:"bg-blue-50",border:"border-blue-200",hoverBorder:"hover:border-blue-300",iconBg:"bg-blue-100",iconColor:"text-blue-600",title:"text-gray-900",description:"text-gray-600",hoverBg:"hover:bg-blue-50",hoverShadow:"hover:shadow-lg"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",hoverBorder:"hover:border-indigo-300",iconBg:"bg-indigo-100",iconColor:"text-indigo-600",title:"text-gray-900",description:"text-gray-600",hoverBg:"hover:bg-indigo-50",hoverShadow:"hover:shadow-lg"}};return h[c]||h.blue};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"mb-12",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 mb-8 transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Prospect Management"]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-900 tracking-tight mb-3",children:"Sales Report"}),e.jsx("div",{className:"w-16 h-0.5 bg-gradient-to-r from-emerald-500 via-blue-500 to-indigo-500 rounded-full"})]}),e.jsx("p",{className:"text-base text-gray-600 mt-4",children:"Select a channel to view and manage prospects"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl",children:r.map(c=>{const d=l(c.color,c.accentColor);return e.jsxs("button",{onClick:()=>a(c.id),className:`group relative bg-white border-2 ${d.border} ${d.hoverBorder} rounded-xl p-8 text-left transition-all duration-200 ${d.hoverBg} ${d.hoverShadow} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-${c.accentColor}-500`,children:[e.jsx("div",{className:`w-14 h-14 ${d.iconBg} rounded-lg flex items-center justify-center mb-5 ${d.iconColor} transition-colors duration-200`,children:c.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-semibold ${d.title} mb-2`,children:c.title}),e.jsx("p",{className:`text-sm ${d.description} leading-relaxed`,children:c.description})]}),e.jsx("div",{className:"absolute bottom-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx("svg",{className:`w-5 h-5 ${d.iconColor}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]},c.id)})})]})})}const ty="label";function fb(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function W6(n,t){const a=n.options;a&&t&&Object.assign(a,t)}function sy(n,t){n.labels=t}function ny(n,t,a=ty){const r=[];n.datasets=t.map(l=>{const c=n.datasets.find(d=>d[a]===l[a]);return!c||!l.data||r.includes(c)?{...l}:(r.push(c),Object.assign(c,l),c)})}function $6(n,t=ty){const a={labels:[],datasets:[]};return sy(a,n.labels),ny(a,n.datasets,t),a}function q6(n,t){return n.getElementsAtEventForMode(t.nativeEvent,"dataset",{intersect:!0},!1)}function Y6(n,t){return n.getElementsAtEventForMode(t.nativeEvent,"nearest",{intersect:!0},!1)}function Q6(n,t){return n.getElementsAtEventForMode(t.nativeEvent,"index",{intersect:!0},!1)}function X6(n,t){const{height:a=150,width:r=300,redraw:l=!1,datasetIdKey:c,type:d,data:h,options:m,plugins:f=[],fallbackContent:g,updateMode:b,...w}=n,y=k.useRef(null),v=k.useRef(null),j=()=>{y.current&&(v.current=new nn(y.current,{type:d,data:$6(h,c),options:m&&{...m},plugins:f}),fb(t,v.current))},N=()=>{fb(t,null),v.current&&(v.current.destroy(),v.current=null)};return k.useEffect(()=>{!l&&v.current&&m&&W6(v.current,m)},[l,m]),k.useEffect(()=>{!l&&v.current&&sy(v.current.config.data,h.labels)},[l,h.labels]),k.useEffect(()=>{!l&&v.current&&h.datasets&&ny(v.current.config.data,h.datasets,c)},[l,h.datasets]),k.useEffect(()=>{v.current&&(l?(N(),setTimeout(j)):v.current.update(b))},[l,m,h.labels,h.datasets,b]),k.useEffect(()=>{v.current&&(N(),setTimeout(j))},[d]),k.useEffect(()=>(j(),()=>N()),[]),e.jsx("canvas",{ref:y,role:"img",height:a,width:r,...w,children:g})}const ay=k.forwardRef(X6);function Pa(n,t){return nn.register(t),k.forwardRef((a,r)=>e.jsx(ay,{...a,ref:r,type:n}))}const vi=Pa("line",G5),ji=Pa("bar",Y5),G6=Pa("radar",J5),K6=Pa("doughnut",z2),Z6=Pa("polarArea",K5),J6=Pa("bubble",Q5),eS=Pa("pie",Z5),tS=Pa("scatter",ek),Ft=Object.freeze(Object.defineProperty({__proto__:null,Bar:ji,Bubble:J6,Chart:ay,Doughnut:K6,Line:vi,Pie:eS,PolarArea:Z6,Radar:G6,Scatter:tS,getDatasetAtEvent:q6,getElementAtEvent:Y6,getElementsAtEvent:Q6},Symbol.toStringTag,{value:"Module"}));nn.register(za,Ba,_a,an,Ea,Ta,Oa,Ra,T0);function sS(){const{id:n}=Xs(),t=mt(),[a,r]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState({}),[w,y]=k.useState(null),[v,j]=k.useState("month");k.useEffect(()=>{n&&N()},[n]),k.useEffect(()=>{const O=()=>{n&&!m&&N()};return window.addEventListener("focus",O),()=>window.removeEventListener("focus",O)},[n,m]);const N=async()=>{try{f(!0);const O=await Ae.get(`/projects/${n}`);O.data.success&&r(O.data.data);const U=await Ae.get(`/activities/project/${n}?limit=10000`);if(U.data.success){const G=(U.data.data||[]).filter(P=>P.type==="linkedin");c(G)}const I=await Ae.get(`/projects/${n}/project-contacts`);I.data.success&&h(I.data.data||[]),y(new Date)}catch(O){console.error("Error fetching data:",O)}finally{f(!1)}};k.useEffect(()=>{(l.length>0||d.length>0)&&V()},[l,d,v]);const M=O=>{const U=new Date(O),I=U.toLocaleString("default",{month:"short"}),$=U.getFullYear().toString().slice(-2);return`${I} '${$}`},B=O=>new Date(O).getFullYear().toString(),A=()=>{const O=new Set;return l.forEach(I=>{I.createdAt&&O.add(M(I.createdAt))}),d.forEach(I=>{I.createdAt&&O.add(M(I.createdAt))}),Array.from(O).sort((I,$)=>{const[G,P]=I.split(" '"),[X,T]=$.split(" '"),W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],je=W.indexOf(G),C=W.indexOf(X);return P!==T?parseInt(P)-parseInt(T):je-C})},Y=()=>{const O=new Set;return l.forEach(U=>{U.createdAt&&O.add(B(U.createdAt))}),d.forEach(U=>{U.createdAt&&O.add(B(U.createdAt))}),Array.from(O).sort((U,I)=>parseInt(U)-parseInt(I))},V=()=>{const O=v==="month"?A():Y(),U={};O.forEach($=>{U[$]={dataResearch:0,connectionRequestSent:0,connectionAccepted:0,firstMessageSent:0,followupMessagesSent:0,existingConnection:0,conversationsInProgress:0,meetingProposed:0,meetingScheduled:0,meetingCompleted:0}}),d.forEach($=>{if($.createdAt){const G=v==="month"?M($.createdAt):B($.createdAt);U[G]&&U[G].dataResearch++}});const I={};l.forEach($=>{if(!$.createdAt)return;const G=$.contactId?.toString()||"unknown";I[G]||(I[G]=[]),I[G].push($)}),l.forEach($=>{if(!$.createdAt)return;const G=v==="month"?M($.createdAt):B($.createdAt);U[G]&&($.lnRequestSent==="Yes"&&U[G].connectionRequestSent++,$.lnRequestSent==="Existing Connect"&&U[G].existingConnection++,$.connected==="Yes"&&U[G].connectionAccepted++,$.status==="CIP"?U[G].conversationsInProgress++:$.status==="Meeting Proposed"?U[G].meetingProposed++:$.status==="Meeting Scheduled"?U[G].meetingScheduled++:$.status==="Meeting Completed"&&U[G].meetingCompleted++)}),Object.keys(I).forEach($=>{I[$].sort((P,X)=>new Date(P.createdAt)-new Date(X.createdAt)).forEach((P,X)=>{if(!P.createdAt||!P.conversationNotes)return;const T=v==="month"?M(P.createdAt):B(P.createdAt);U[T]&&(X===0?U[T].firstMessageSent++:U[T].followupMessagesSent++)})}),b(U)},D=[{key:"dataResearch",label:"Data Research manually",section:"DRA"},{key:"connectionRequestSent",label:"Connection Request Sent",section:"DRA"},{key:"connectionAccepted",label:"Connection Accepted",section:"DRA"},{key:"firstMessageSent",label:"First Message Sent",section:"DRA"},{key:"followupMessagesSent",label:"Followup Messages sent",section:"DRA"},{key:"existingConnection",label:"Existing Connection",section:"Linked IN"},{key:"conversationsInProgress",label:"Conversations in Progress",section:"Linked IN",highlight:!0},{key:"meetingProposed",label:"Meeting Proposed",section:"Linked IN",highlight:!0},{key:"meetingScheduled",label:"Meeting Scheduled",section:"Linked IN",highlight:!0},{key:"meetingCompleted",label:"Meeting Completed",section:"Linked IN",highlight:!0}],z=v==="month"?A():Y(),E=k.useMemo(()=>{const O=z;return{connectionFunnel:{labels:O,datasets:[{label:"Connection Request Sent",data:O.map(U=>g[U]?.connectionRequestSent||0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0},{label:"Connection Accepted",data:O.map(U=>g[U]?.connectionAccepted||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,fill:!0}]},messageActivity:{labels:O,datasets:[{label:"First Message Sent",data:O.map(U=>g[U]?.firstMessageSent||0),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4,fill:!0},{label:"Followup Messages",data:O.map(U=>g[U]?.followupMessagesSent||0),borderColor:"rgb(236, 72, 153)",backgroundColor:"rgba(236, 72, 153, 0.1)",tension:.4,fill:!0}]},meetingPipeline:{labels:O,datasets:[{label:"Meeting Proposed",data:O.map(U=>g[U]?.meetingProposed||0),backgroundColor:"rgba(251, 191, 36, 0.8)"},{label:"Meeting Scheduled",data:O.map(U=>g[U]?.meetingScheduled||0),backgroundColor:"rgba(59, 130, 246, 0.8)"},{label:"Meeting Completed",data:O.map(U=>g[U]?.meetingCompleted||0),backgroundColor:"rgba(34, 197, 94, 0.8)"}]},conversationsStatus:{labels:O,datasets:[{label:"Conversations in Progress",data:O.map(U=>g[U]?.conversationsInProgress||0),backgroundColor:"rgba(34, 197, 94, 0.8)"}]}}},[z,g]),F={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"500"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"600"},bodyFont:{size:13},cornerRadius:8,displayColors:!0}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}},se={...F,scales:{...F.scales,x:{...F.scales.x,stacked:!0},y:{...F.scales.y,stacked:!0}}};return m?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading report..."})]})}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}/funnel`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Sales Report"]}),e.jsxs("button",{onClick:N,disabled:m,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[e.jsx("svg",{className:`w-4 h-4 ${m?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:[v==="month"?"Monthly":"Yearly"," Report - ",a?.companyName||"Project"]}),a?.website&&e.jsx("a",{href:a.website.startsWith("http")?a.website:`http://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:a.website})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[w&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",w.toLocaleTimeString()]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>j("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${v==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Monthly"}),e.jsx("button",{onClick:()=>j("year"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${v==="year"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Yearly"})]})]})]})})]}),z.length>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Connection Funnel"}),e.jsx("div",{className:"h-64",children:e.jsx(vi,{data:E.connectionFunnel,options:F})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Message Activity"}),e.jsx("div",{className:"h-64",children:e.jsx(vi,{data:E.messageActivity,options:F})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Meeting Pipeline"}),e.jsx("div",{className:"h-64",children:e.jsx(ji,{data:E.meetingPipeline,options:se})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversations in Progress"}),e.jsx("div",{className:"h-64",children:e.jsx(ji,{data:E.conversationsStatus,options:F})})]})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200",children:"Key Results"}),z.map(O=>e.jsxs("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0",children:[e.jsx("div",{children:O}),e.jsx("div",{className:"text-xs font-normal text-gray-500 mt-1",children:"Progress"})]},O))]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:["DRA","Linked IN"].map(O=>e.jsx(td.Fragment,{children:D.filter(U=>U.section===O).map((U,I)=>e.jsxs("tr",{className:U.highlight?"bg-green-50":"hover:bg-gray-50",children:[e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 border-r border-gray-200 ${U.highlight?"font-semibold":""}`,children:U.label}),z.map($=>e.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm text-center border-r border-gray-200 last:border-r-0 ${U.highlight?"font-semibold text-gray-900":"text-gray-700"}`,children:g[$]?.[U.key]||0},$))]},U.key))},O))})]})})})]})})}nn.register(za,Ba,_a,an,Ea,Ta,Oa,Ra,T0);function nS(){const{id:n}=Xs(),t=mt(),[a,r]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState({}),[w,y]=k.useState(null),[v,j]=k.useState("day");k.useEffect(()=>{n&&N()},[n]),k.useEffect(()=>{const I=()=>{n&&!m&&N()};return window.addEventListener("focus",I),()=>window.removeEventListener("focus",I)},[n,m]);const N=async()=>{try{f(!0);const I=await Ae.get(`/projects/${n}`);I.data.success&&r(I.data.data);const $=await Ae.get(`/activities/project/${n}?limit=10000`);if($.data.success){const X=($.data.data||[]).filter(T=>T.type==="call");c(X)}const G=await Ae.get(`/projects/${n}/project-contacts`);G.data.success&&h(G.data.data||[]),y(new Date)}catch(I){console.error("Error fetching data:",I)}finally{f(!1)}};k.useEffect(()=>{(l.length>0||d.length>0)&&V()},[l,d,v]);const M=I=>{const $=new Date(I),G=$.getDate(),P=$.toLocaleString("default",{month:"short"}),X=$.getFullYear().toString().slice(-2);return`${G} ${P} '${X}`},B=I=>{const $=new Date(I),G=$.toLocaleString("default",{month:"short"}),P=$.getFullYear().toString().slice(-2);return`${G} '${P}`},A=()=>{const I=new Set;return l.forEach(G=>{const P=G.callDate?new Date(G.callDate):new Date(G.createdAt);P&&I.add(M(P))}),d.forEach(G=>{G.createdAt&&I.add(M(new Date(G.createdAt)))}),Array.from(I).sort((G,P)=>{const X=new Date(G.replace(/(\d+) (\w+) '(\d+)/,"$2 $1, 20$3")),T=new Date(P.replace(/(\d+) (\w+) '(\d+)/,"$2 $1, 20$3"));return X-T})},Y=()=>{const I=new Set;return l.forEach(G=>{const P=G.callDate?new Date(G.callDate):new Date(G.createdAt);P&&I.add(B(P))}),d.forEach(G=>{G.createdAt&&I.add(B(new Date(G.createdAt)))}),Array.from(I).sort((G,P)=>{const[X,T]=G.split(" '"),[W,je]=P.split(" '"),C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H=C.indexOf(X),ue=C.indexOf(W);return T!==je?parseInt(T)-parseInt(je):H-ue})},V=()=>{const I=v==="day"?A():Y(),$={};I.forEach(X=>{$[X]={dataAllocated:0,interested:0,notInterested:0,ring:0,busy:0,hangUp:0,callBack:0,switchOff:0,detailsShared:0,future:0,invalid:0,demoBooked:0,followUps:0,totalCalls:0,freshCalls:0}}),d.forEach(X=>{if(X.createdAt){const T=v==="day"?M(new Date(X.createdAt)):B(new Date(X.createdAt));$[T]&&$[T].dataAllocated++}});const G=new Map,P={};l.forEach(X=>{const T=X.callDate?new Date(X.callDate):new Date(X.createdAt);if(!T)return;const W=v==="day"?M(T):B(T);if(!$[W])return;const je=X.contactId?.toString()||"unknown";X.callNumber==="1st call"&&!G.has(je)&&G.set(je,W),P[W]||(P[W]={}),P[W][je]||(P[W][je]=[]),P[W][je].push(X)}),l.forEach(X=>{const T=X.callDate?new Date(X.callDate):new Date(X.createdAt);if(!T)return;const W=v==="day"?M(T):B(T);if($[W]){if(X.callStatus)switch(X.callStatus){case"Interested":$[W].interested++;break;case"Not Interested":$[W].notInterested++;break;case"Ring":$[W].ring++;break;case"Busy":$[W].busy++;break;case"Hang Up":$[W].hangUp++;break;case"Call Back":$[W].callBack++;break;case"Switch Off":$[W].switchOff++;break;case"Details Shared":$[W].detailsShared++;break;case"Future":$[W].future++;break;case"Invalid":$[W].invalid++;break;case"Demo Booked":$[W].demoBooked++;break}$[W].totalCalls++}}),Object.keys(P).forEach(X=>{const T=P[X];let W=0,je=0;Object.keys(T).forEach(C=>{const H=T[C],ue=G.get(C);H.forEach(ge=>{ge.callNumber==="1st call"||ue===X&&!ge.callNumber?W++:je++})}),$[X]&&($[X].freshCalls=W,$[X].followUps=je)}),b($)},D=[{key:"dataAllocated",label:"Data Allocated",section:"DRA",bold:!1},{key:"interested",label:"Interested",section:"DRA",bold:!0},{key:"notInterested",label:"Not Interested",section:"DRA",bold:!0},{key:"ring",label:"Ring",section:"DRA",bold:!1},{key:"busy",label:"Busy",section:"DRA",bold:!1,highlight:!0},{key:"hangUp",label:"Hang Up",section:"DRA",bold:!1},{key:"callBack",label:"Call Back",section:"DRA",bold:!1},{key:"switchOff",label:"Switch Off",section:"DRA",bold:!1},{key:"detailsShared",label:"Detailed Shared",section:"Cold Calling",bold:!0,highlight:!0},{key:"future",label:"Future",section:"Cold Calling",bold:!1},{key:"invalid",label:"Invalid",section:"Cold Calling",bold:!1},{key:"demoBooked",label:"Demo Booked",section:"Cold Calling",bold:!0,highlight:!0,highlightDark:!0},{key:"followUps",label:"Follow Ups",section:"Cold Calling",bold:!0},{key:"totalCalls",label:"Total Calls",section:"Cold Calling",bold:!0},{key:"freshCalls",label:"(Fresh Calls + FollowUpS)",section:"Cold Calling",bold:!1,isFormula:!0}],z=v==="day"?A():Y(),E=k.useMemo(()=>{const I=z;return{draMetrics:{labels:I,datasets:[{label:"Interested",data:I.map($=>g[$]?.interested||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,fill:!0},{label:"Not Interested",data:I.map($=>g[$]?.notInterested||0),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0}]},callStatusBreakdown:{labels:I,datasets:[{label:"Ring",data:I.map($=>g[$]?.ring||0),backgroundColor:"rgba(156, 163, 175, 0.8)"},{label:"Busy",data:I.map($=>g[$]?.busy||0),backgroundColor:"rgba(59, 130, 246, 0.8)"},{label:"Call Back",data:I.map($=>g[$]?.callBack||0),backgroundColor:"rgba(168, 85, 247, 0.8)"}]},coldCallingMetrics:{labels:I,datasets:[{label:"Details Shared",data:I.map($=>g[$]?.detailsShared||0),borderColor:"rgb(251, 191, 36)",backgroundColor:"rgba(251, 191, 36, 0.1)",tension:.4,fill:!0},{label:"Demo Booked",data:I.map($=>g[$]?.demoBooked||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,fill:!0}]},callVolume:{labels:I,datasets:[{label:"Total Calls",data:I.map($=>g[$]?.totalCalls||0),backgroundColor:"rgba(34, 197, 94, 0.8)"},{label:"Fresh Calls",data:I.map($=>g[$]?.freshCalls||0),backgroundColor:"rgba(59, 130, 246, 0.8)"},{label:"Follow Ups",data:I.map($=>g[$]?.followUps||0),backgroundColor:"rgba(168, 85, 247, 0.8)"}]}}},[z,g]),F={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"500"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"600"},bodyFont:{size:13},cornerRadius:8,displayColors:!0}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}},se={...F,scales:{...F.scales,x:{...F.scales.x,stacked:!0},y:{...F.scales.y,stacked:!0}}};if(m)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading report..."})]})});const O=D.filter(I=>I.section==="DRA"),U=D.filter(I=>I.section==="Cold Calling");return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}/funnel`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Sales Report"]}),e.jsxs("button",{onClick:N,disabled:m,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[e.jsx("svg",{className:`w-4 h-4 ${m?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:[v==="day"?"Daily":"Monthly"," Report - ",a?.companyName||"Project"]}),a?.website&&e.jsx("a",{href:a.website.startsWith("http")?a.website:`http://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:a.website})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[w&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",w.toLocaleTimeString()]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>j("day"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${v==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Daily"}),e.jsx("button",{onClick:()=>j("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${v==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Monthly"})]})]})]})})]}),z.length>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"DRA Metrics"}),e.jsx("div",{className:"h-64",children:e.jsx(vi,{data:E.draMetrics,options:F})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Call Status Breakdown"}),e.jsx("div",{className:"h-64",children:e.jsx(ji,{data:E.callStatusBreakdown,options:se})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cold Calling Metrics"}),e.jsx("div",{className:"h-64",children:e.jsx(vi,{data:E.coldCallingMetrics,options:F})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Call Volume"}),e.jsx("div",{className:"h-64",children:e.jsx(ji,{data:E.callVolume,options:se})})]})]}),z.length>0&&e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200",children:"Key Results"}),z.map(I=>e.jsxs("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0 bg-blue-50",children:[e.jsx("div",{children:I}),e.jsx("div",{className:"text-xs font-normal text-gray-500 mt-1",children:"Progress"})]},I))]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:z.length+1,className:"px-6 py-3 bg-yellow-100 border-b-2 border-yellow-200",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"DRA"})})}),O.map(I=>e.jsxs("tr",{className:`${I.highlight?"bg-green-50":"hover:bg-gray-50"} transition-colors duration-150`,children:[e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm border-r border-gray-200 ${I.bold?"font-bold text-gray-900":"text-gray-700"} ${I.highlightDark?"bg-green-100":""}`,children:I.label}),z.map($=>e.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm text-center border-r border-gray-200 last:border-r-0 ${I.bold?"font-semibold text-gray-900":"text-gray-700"}`,children:I.isFormula?`(${g[$]?.freshCalls||0} + ${g[$]?.followUps||0})`:g[$]?.[I.key]||0},$))]},I.key)),e.jsx("tr",{children:e.jsx("td",{colSpan:z.length+1,className:"px-6 py-3 bg-yellow-100 border-b-2 border-yellow-200",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Cold Calling"})})}),U.map(I=>e.jsxs("tr",{className:`${I.highlight?I.highlightDark?"bg-green-200":"bg-green-50":"hover:bg-gray-50"} transition-colors duration-150`,children:[e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm border-r border-gray-200 ${I.bold?"font-bold text-gray-900":"text-gray-700"} ${I.highlightDark?"bg-green-200":""}`,children:I.label}),z.map($=>e.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm text-center border-r border-gray-200 last:border-r-0 ${I.bold?"font-semibold text-gray-900":"text-gray-700"}`,children:I.isFormula?`(${g[$]?.freshCalls||0} + ${g[$]?.followUps||0})`:g[$]?.[I.key]||0},$))]},I.key))]})]})})}),z.length===0&&!m&&e.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-500",children:"No call activities found for this project."})})]})})}nn.register(za,Ba,_a,an,Ea,Ta,Oa,Ra,T0);function aS(){const{id:n}=Xs(),t=mt(),[a,r]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState({}),[w,y]=k.useState(null),[v,j]=k.useState("month");k.useEffect(()=>{n&&N()},[n]),k.useEffect(()=>{const U=()=>{n&&!m&&N()};return window.addEventListener("focus",U),()=>window.removeEventListener("focus",U)},[n,m]);const N=async()=>{try{f(!0);const U=await Ae.get(`/projects/${n}`);U.data.success&&r(U.data.data);const I=await Ae.get(`/activities/project/${n}?limit=10000`);if(I.data.success){const P=(I.data.data||[]).filter(X=>X.type==="email");c(P)}const $=await Ae.get(`/projects/${n}/project-contacts`);$.data.success&&h($.data.data||[]),y(new Date)}catch(U){console.error("Error fetching data:",U)}finally{f(!1)}};k.useEffect(()=>{(l.length>0||d.length>0)&&V()},[l,d,v]);const M=U=>{const I=new Date(U),$=I.toLocaleString("default",{month:"short"}),G=I.getFullYear().toString().slice(-2);return`${$} '${G}`},B=U=>new Date(U).getFullYear().toString(),A=()=>{const U=new Set;return l.forEach($=>{$.createdAt&&U.add(M($.createdAt))}),d.forEach($=>{$.createdAt&&U.add(M(new Date($.createdAt)))}),Array.from(U).sort(($,G)=>{const[P,X]=$.split(" '"),[T,W]=G.split(" '"),je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=je.indexOf(P),H=je.indexOf(T);return X!==W?parseInt(X)-parseInt(W):C-H})},Y=()=>{const U=new Set;return l.forEach($=>{$.createdAt&&U.add(B($.createdAt))}),d.forEach($=>{$.createdAt&&U.add(B(new Date($.createdAt)))}),Array.from(U).sort(($,G)=>parseInt($)-parseInt(G))},V=()=>{const U=v==="month"?A():Y(),I={};U.forEach($=>{I[$]={emailsSent:0,noReply:0,notInterested:0,outOfOffice:0,meetingProposed:0,meetingScheduled:0,interested:0,wrongPerson:0,bounce:0,optOut:0,meetingCompleted:0,totalResponses:0,responseRate:0,openRate:0,clickRate:0}}),l.forEach($=>{if($.createdAt){const G=v==="month"?M($.createdAt):B($.createdAt);I[G]&&I[G].emailsSent++}}),l.forEach($=>{if($.createdAt&&$.status){const G=v==="month"?M($.createdAt):B($.createdAt);if(!I[G])return;switch($.status){case"No Reply":I[G].noReply++;break;case"Not Interested":I[G].notInterested++,I[G].totalResponses++;break;case"Out of Office":I[G].outOfOffice++,I[G].totalResponses++;break;case"Meeting Proposed":I[G].meetingProposed++,I[G].totalResponses++;break;case"Meeting Scheduled":I[G].meetingScheduled++,I[G].totalResponses++;break;case"Interested":I[G].interested++,I[G].totalResponses++;break;case"Wrong Person":I[G].wrongPerson++,I[G].totalResponses++;break;case"Bounce":I[G].bounce++;break;case"Opt-Out":I[G].optOut++,I[G].totalResponses++;break;case"Meeting Completed":I[G].meetingCompleted++,I[G].totalResponses++;break}}}),U.forEach($=>{I[$].emailsSent>0&&(I[$].responseRate=(I[$].totalResponses/I[$].emailsSent*100).toFixed(1))}),b(I)},D=[{key:"emailsSent",label:"Emails Sent",section:"Email Activity",bold:!0},{key:"noReply",label:"No Reply",section:"Email Activity",bold:!1},{key:"notInterested",label:"Not Interested",section:"Email Activity",bold:!1},{key:"outOfOffice",label:"Out of Office",section:"Email Activity",bold:!1},{key:"meetingProposed",label:"Meeting Proposed",section:"Email Activity",bold:!0,highlight:!0},{key:"meetingScheduled",label:"Meeting Scheduled",section:"Email Activity",bold:!0,highlight:!0},{key:"interested",label:"Interested",section:"Email Activity",bold:!0,highlight:!0},{key:"wrongPerson",label:"Wrong Person",section:"Email Activity",bold:!1},{key:"bounce",label:"Bounce",section:"Email Activity",bold:!1},{key:"optOut",label:"Opt-Out",section:"Email Activity",bold:!1},{key:"meetingCompleted",label:"Meeting Completed",section:"Email Activity",bold:!0,highlight:!0,highlightDark:!0},{key:"totalResponses",label:"Total Responses",section:"Email Activity",bold:!0},{key:"responseRate",label:"Response Rate (%)",section:"Email Activity",bold:!0,isPercentage:!0}],z=v==="month"?A():Y(),E=k.useMemo(()=>{const U=z;return{emailFunnel:{labels:U,datasets:[{label:"Emails Sent",data:U.map(I=>g[I]?.emailsSent||0),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0},{label:"Total Responses",data:U.map(I=>g[I]?.totalResponses||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4,fill:!0}]},responseBreakdown:{labels:U,datasets:[{label:"No Reply",data:U.map(I=>g[I]?.noReply||0),backgroundColor:"rgba(156, 163, 175, 0.8)"},{label:"Not Interested",data:U.map(I=>g[I]?.notInterested||0),backgroundColor:"rgba(239, 68, 68, 0.8)"},{label:"Interested",data:U.map(I=>g[I]?.interested||0),backgroundColor:"rgba(34, 197, 94, 0.8)"},{label:"Meeting Proposed",data:U.map(I=>g[I]?.meetingProposed||0),backgroundColor:"rgba(251, 191, 36, 0.8)"},{label:"Meeting Scheduled",data:U.map(I=>g[I]?.meetingScheduled||0),backgroundColor:"rgba(6, 182, 212, 0.8)"}]},meetingPipeline:{labels:U,datasets:[{label:"Meeting Proposed",data:U.map(I=>g[I]?.meetingProposed||0),backgroundColor:"rgba(251, 191, 36, 0.8)"},{label:"Meeting Scheduled",data:U.map(I=>g[I]?.meetingScheduled||0),backgroundColor:"rgba(6, 182, 212, 0.8)"},{label:"Meeting Completed",data:U.map(I=>g[I]?.meetingCompleted||0),backgroundColor:"rgba(34, 197, 94, 0.8)"}]},responseRate:{labels:U,datasets:[{label:"Response Rate (%)",data:U.map(I=>parseFloat(g[I]?.responseRate||0)),borderColor:"rgb(168, 85, 247)",backgroundColor:"rgba(168, 85, 247, 0.1)",tension:.4,fill:!0}]}}},[z,g]),F={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:15,font:{size:12,weight:"500"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14,weight:"600"},bodyFont:{size:13},cornerRadius:8,displayColors:!0}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:11}}},x:{grid:{display:!1},ticks:{font:{size:11}}}}},se={...F,scales:{...F.scales,x:{...F.scales.x,stacked:!0},y:{...F.scales.y,stacked:!0}}};if(m)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading report..."})]})});const O=D.filter(U=>U.section==="Email Activity");return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}/funnel`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Sales Report"]}),e.jsxs("button",{onClick:N,disabled:m,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh data",children:[e.jsx("svg",{className:`w-4 h-4 ${m?"animate-spin":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:[v==="month"?"Monthly":"Yearly"," Email Report - ",a?.companyName||"Project"]}),a?.website&&e.jsx("a",{href:a.website.startsWith("http")?a.website:`http://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:a.website})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[w&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",w.toLocaleTimeString()]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>j("month"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${v==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Monthly"}),e.jsx("button",{onClick:()=>j("year"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all duration-200 ${v==="year"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Yearly"})]})]})]})})]}),z.length>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Funnel"}),e.jsx("div",{className:"h-64",children:e.jsx(vi,{data:E.emailFunnel,options:F})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Response Breakdown"}),e.jsx("div",{className:"h-64",children:e.jsx(ji,{data:E.responseBreakdown,options:se})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Meeting Pipeline"}),e.jsx("div",{className:"h-64",children:e.jsx(ji,{data:E.meetingPipeline,options:se})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Response Rate"}),e.jsx("div",{className:"h-64",children:e.jsx(vi,{data:E.responseRate,options:F})})]})]}),z.length>0&&e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200",children:"Key Results"}),z.map(U=>e.jsxs("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider border-r border-gray-200 last:border-r-0 bg-blue-50",children:[e.jsx("div",{children:U}),e.jsx("div",{className:"text-xs font-normal text-gray-500 mt-1",children:"Progress"})]},U))]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.jsx("tr",{children:e.jsx("td",{colSpan:z.length+1,className:"px-6 py-3 bg-yellow-100 border-b-2 border-yellow-200",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Email Activity"})})}),O.map(U=>e.jsxs("tr",{className:`${U.highlight?U.highlightDark?"bg-green-200":"bg-green-50":"hover:bg-gray-50"} transition-colors duration-150`,children:[e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm border-r border-gray-200 ${U.bold?"font-bold text-gray-900":"text-gray-700"} ${U.highlightDark?"bg-green-200":""}`,children:U.label}),z.map(I=>e.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm text-center border-r border-gray-200 last:border-r-0 ${U.bold?"font-semibold text-gray-900":"text-gray-700"}`,children:U.isPercentage?`${g[I]?.[U.key]||0}%`:g[I]?.[U.key]||0},I))]},U.key))]})]})})}),z.length===0&&!m&&e.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-500",children:"No email activities found for this project."})})]})})}function iS(){const n=mt(),[t,a]=k.useState([]),[r,l]=k.useState(!0),[c,d]=k.useState(null),[h,m]=k.useState(""),[f,g]=k.useState(!1);k.useEffect(()=>{g(!0),b()},[h]);const b=async()=>{try{l(!0);const v={};h&&(v.search=h);const j=await Ae.get("/projects",{params:v});j.data.success&&a(j.data.data||[])}catch(v){console.error("Error fetching projects:",v),d("Failed to load projects")}finally{l(!1)}},w=v=>v?new Date(v).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",y=v=>{const j={active:{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200",label:"Active",dot:"bg-emerald-500"},draft:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",label:"Draft",dot:"bg-amber-500"},completed:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",label:"Completed",dot:"bg-blue-500"},archived:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200",label:"Archived",dot:"bg-slate-500"}},N=j[v]||j.draft;return e.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 text-xs font-medium rounded-md border ${N.bg} ${N.text} ${N.border} transition-colors`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${N.dot}`}),N.label]})};return e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[e.jsx("div",{className:`mb-10 transition-all duration-500 ${f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-1 h-8 bg-gradient-to-b from-blue-600 to-indigo-600 rounded-full"}),e.jsx("h1",{className:"text-2xl font-semibold text-slate-900 tracking-tight",children:"Funnel Management"})]}),e.jsx("p",{className:"text-sm text-slate-500 ml-4",children:"Select a project to view detailed funnel metrics and analytics"})]})}),e.jsx("div",{className:`mb-8 transition-all duration-500 delay-75 ${f?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:e.jsxs("div",{className:"relative max-w-md",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",placeholder:"Search projects by name, company, or email...",value:h,onChange:v=>m(v.target.value),className:"block w-full pl-10 pr-10 py-2.5 border border-slate-200 rounded-md bg-white text-sm text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-1 focus:ring-slate-900 focus:border-slate-900 transition-all shadow-sm"}),h&&e.jsx("button",{onClick:()=>m(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-600 transition-colors",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),c&&e.jsx("div",{className:"mb-6 rounded-lg bg-red-50 border border-red-200 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),r?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[...Array(6)].map((v,j)=>e.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsxs("div",{className:"flex-1 space-y-2.5",children:[e.jsx("div",{className:"h-5 bg-slate-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]}),e.jsx("div",{className:"h-6 bg-slate-200 rounded-md w-16"})]}),e.jsxs("div",{className:"space-y-3 mb-5",children:[e.jsx("div",{className:"h-4 bg-slate-200 rounded"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-4/6"})]}),e.jsx("div",{className:"h-px bg-slate-200 mb-4"}),e.jsx("div",{className:"h-4 bg-slate-200 rounded w-1/3"})]},j))}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:t.map((v,j)=>e.jsx("div",{onClick:()=>n(`/projects/${v._id}`),className:`group relative bg-white rounded-lg border border-slate-200 shadow-sm hover:shadow hover:border-slate-300 cursor-pointer transition-all duration-150 flex flex-col ${f?"opacity-100":"opacity-0"}`,style:{animationDelay:`${j*30}ms`,minHeight:"240px"},children:e.jsxs("div",{className:"p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5 min-h-[56px]",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-3",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-900 mb-1.5 truncate",children:v.companyName||"N/A"}),e.jsx("p",{className:"text-xs text-slate-500 min-h-[16px]",children:v.industry||""})]}),e.jsx("div",{className:"flex-shrink-0",children:y(v.status||"draft")})]}),e.jsxs("div",{className:"space-y-3 mb-5 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2.5 min-h-[20px]",children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0 text-slate-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("span",{className:`truncate text-sm ${v.contactPerson?.fullName?"text-slate-600":"text-slate-400"}`,children:v.contactPerson?.fullName||"No contact name"})]}),e.jsxs("div",{className:"flex items-center gap-2.5 min-h-[20px]",children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0 text-slate-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("span",{className:`truncate text-sm ${v.contactPerson?.email?"text-slate-600":"text-slate-400"}`,children:v.contactPerson?.email||"No email"})]}),e.jsxs("div",{className:"flex items-center gap-2.5 min-h-[20px]",children:[e.jsx("div",{className:"w-5 h-5 flex items-center justify-center flex-shrink-0 text-slate-400",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("span",{className:"text-sm text-slate-600",children:w(v.createdAt)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[e.jsx("span",{className:"text-xs font-medium text-slate-700 group-hover:text-blue-600 transition-colors",children:"View Funnel"}),e.jsx("svg",{className:"w-4 h-4 text-slate-400 group-hover:text-blue-600 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})},v._id))}):e.jsx("div",{className:`bg-white rounded-lg border border-slate-200 shadow-sm p-12 transition-all duration-500 ${f?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),e.jsx("h3",{className:"text-sm font-semibold text-slate-900 mb-1",children:"No projects found"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Get started by creating your first project"}),e.jsxs("button",{onClick:()=>n("/projects/new"),className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-900 text-white text-sm font-medium rounded-lg hover:bg-slate-800 transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Project"]})]})})]})})}function rS(){const{id:n}=Xs(),t=mt(),[a,r]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState({prospectData:0,connectionSent:0,accepted:0,followups:0,cip:0,meetingProposed:0,scheduled:0,completed:0,sql:0});k.useEffect(()=>{n&&w()},[n]),k.useEffect(()=>{(l.length>0||d.length>0)&&y()},[l,d]);const w=async()=>{try{f(!0);const j=await Ae.get(`/projects/${n}`);j.data.success&&r(j.data.data);const N=await Ae.get(`/projects/${n}/project-contacts`);N.data.success&&c(N.data.data||[]);const M=await Ae.get(`/activities/project/${n}?limit=10000`);if(M.data.success){const A=(M.data.data||[]).filter(Y=>Y.type==="linkedin");h(A)}}catch(j){console.error("Error fetching data:",j)}finally{f(!1)}},y=()=>{const j={prospectData:l.length,connectionSent:0,accepted:0,followups:0,cip:0,meetingProposed:0,scheduled:0,completed:0,sql:0},N={};d.forEach(E=>{if(!E.contactId)return;const F=E.contactId.toString();N[F]||(N[F]=[]),N[F].push(E)});const M=new Set,B=new Set,A=new Set,Y=new Set,V=new Set,D=new Set,z=new Set;d.forEach(E=>{const F=E.contactId?.toString();F&&((E.lnRequestSent==="Yes"||E.lnRequestSent===!0)&&M.add(F),(E.connected==="Yes"||E.connected===!0)&&B.add(F),E.status==="CIP"&&A.add(F),E.status==="Meeting Proposed"&&Y.add(F),E.status==="Meeting Scheduled"&&V.add(F),E.status==="Meeting Completed"&&D.add(F),(E.status==="Meeting Completed"||E.status==="Interested")&&z.add(F))}),Object.keys(N).forEach(E=>{N[E].filter(O=>O.conversationNotes&&O.conversationNotes.trim()!=="").length>1&&j.followups++}),j.connectionSent=M.size,j.accepted=B.size,j.cip=A.size,j.meetingProposed=Y.size,j.scheduled=V.size,j.completed=D.size,j.sql=z.size,b(j)},v=[{key:"prospectData",label:"Prospect Data",description:"Total prospects from this project"},{key:"connectionSent",label:"Connection Sent",description:"Connection requests sent"},{key:"accepted",label:"Accepted",description:"Connections accepted"},{key:"followups",label:"Followups",description:"Contacts with multiple messages"},{key:"cip",label:"CIP",description:"Conversations in Progress"},{key:"meetingProposed",label:"Meeting Proposed",description:"Meetings proposed"},{key:"scheduled",label:"Scheduled",description:"Meetings scheduled"},{key:"completed",label:"Completed",description:"Meetings completed"},{key:"sql",label:"SQL",description:"Sales Qualified Leads"}];return m?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading funnel data..."})]})}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 lg:px-6 py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200 mb-6",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Prospect Management"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-indigo-500 to-indigo-700 rounded-full"}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["LinkedIn Funnel - ",a?.companyName||"Project"]})]}),a?.website&&e.jsx("a",{href:a.website.startsWith("http")?a.website:`http://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:a.website})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-gray-50 border border-gray-200 rounded-lg shadow-lg p-4 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-3 text-center",children:[e.jsx("h2",{className:"text-base font-bold text-gray-800 mb-0.5",children:"Sales Funnel Performance"}),e.jsx("p",{className:"text-[10px] text-gray-600",children:"Conversion metrics and pipeline health"})]}),e.jsx("div",{className:"flex flex-col items-center space-y-0.5",children:v.map((j,N)=>{const M=g[j.key]||0,B=g.prospectData||1,A=B>0?M/B*100:0,V=[96,88,78,68,58,48,38,28,20][N]||15;let D="",z="text-white",E="",F="",se="";N===0?(D="from-blue-600 via-blue-500 to-indigo-500",E="border-blue-400",F="shadow-blue-500/30",se="bg-blue-400/30"):N>=5?(D="from-indigo-600 via-indigo-500 to-purple-500",E="border-indigo-400",F="shadow-indigo-500/30",se="bg-indigo-400/30"):(D="from-slate-600 via-slate-500 to-gray-500",E="border-slate-400",F="shadow-slate-500/30",se="bg-slate-400/30");const O=["","","","","","","","",""];return e.jsxs("div",{className:"w-full flex flex-col items-center transition-all duration-700 ease-out",style:{animation:`fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) ${N*.08}s both`},children:[e.jsxs("div",{className:`relative bg-gradient-to-r ${D} ${E} border rounded-md shadow-md ${F} hover:shadow-lg transition-all duration-500 transform hover:scale-[1.01] hover:-translate-y-0.5 group overflow-hidden`,style:{width:`${V}%`,minWidth:"150px",backdropFilter:"blur(10px)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"})]}),e.jsxs("div",{className:"relative px-3 py-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`${se} backdrop-blur-sm rounded p-1 shadow-sm`,children:e.jsx("span",{className:"text-sm",children:O[N]})}),e.jsxs("div",{children:[e.jsx("span",{className:`${z} text-[10px] font-bold uppercase tracking-wide block leading-tight`,children:j.label}),e.jsx("span",{className:`${z} text-[9px] opacity-80 mt-0 block`,children:j.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`${z} text-lg font-extrabold mb-0 drop-shadow-lg`,children:M.toLocaleString()}),N>0&&B>0&&e.jsxs("div",{className:`${z} text-[9px] font-semibold bg-white/20 backdrop-blur-sm px-1.5 py-0.5 rounded-full border border-white/30`,children:[A.toFixed(1),"%"]})]})]}),N>0&&e.jsx("div",{className:"mt-1 h-0.5 bg-white/20 backdrop-blur-sm rounded-full overflow-hidden border border-white/20",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-white/80 to-white rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${Math.min(A,100)}%`,animation:`progressFill 1.5s ease-out ${N*.1+.5}s both`}})})]}),e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),N<v.length-1&&e.jsxs("div",{className:"relative my-0.5",children:[e.jsx("div",{className:"w-0.5 h-2 bg-gradient-to-b from-gray-400 via-gray-500 to-gray-400 rounded-full shadow-inner mx-auto"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-gray-500 rounded-full shadow-sm"})]})]},j.key)})})]}),e.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes progressFill {
            from {
              width: 0%;
            }
          }
          
          .shadow-3xl {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
          }
        `}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-600 via-blue-500 to-indigo-500 rounded-xl p-4 shadow-xl hover:shadow-blue-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"Total Prospects"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsx("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:g.prospectData.toLocaleString()}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Pipeline foundation"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 rounded-xl p-4 shadow-xl hover:shadow-emerald-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"Conversion Rate"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:[g.prospectData>0?(g.completed/g.prospectData*100).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Meetings completed"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-indigo-600 via-indigo-500 to-purple-500 rounded-xl p-4 shadow-xl hover:shadow-indigo-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"SQL Rate"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:[g.prospectData>0?(g.sql/g.prospectData*100).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Sales qualified leads"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]})]})]})})}function lS(){const{id:n}=Xs(),t=mt(),[a,r]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState({prospectData:0,callsAttempted:0,callsConnected:0,decisionMakerReached:0,interested:0,detailsShared:0,demoBooked:0,demoCompleted:0,sql:0,won:0});k.useEffect(()=>{n&&w()},[n]),k.useEffect(()=>{n&&(l.length>0||d.length>0)?y():n&&l.length===0&&d.length===0&&b({prospectData:0,callsAttempted:0,callsConnected:0,decisionMakerReached:0,interested:0,detailsShared:0,demoBooked:0,demoCompleted:0,sql:0,won:0})},[n,l,d]);const w=async()=>{try{f(!0);const j=await Ae.get(`/projects/${n}`);j.data.success&&r(j.data.data);const N=await Ae.get(`/projects/${n}/project-contacts`);N.data.success&&c(N.data.data||[]);const M=await Ae.get(`/activities/project/${n}?limit=10000`);if(M.data.success){const A=(M.data.data||[]).filter(Y=>Y.type==="call");h(A)}}catch(j){console.error("Error fetching data:",j)}finally{f(!1)}},y=()=>{console.log("Calculating funnel data...",{contactsCount:l.length,activitiesCount:d.length});const j={prospectData:l.length,callsAttempted:0,callsConnected:0,decisionMakerReached:0,interested:0,detailsShared:0,demoBooked:0,demoCompleted:0,sql:0,won:0};if(d.length===0){console.log("No activities found, setting default data"),b(j);return}const N=new Set,M=new Set,B=new Set,A=new Set,Y=new Set,V=new Set,D=new Set,z=new Set,E=new Set;d.forEach(F=>{const se=F.contactId?.toString();if(!se)return;F.callDate&&N.add(se);const O=["Interested","Not Interested","Call Back","Future","Details Shared","Demo Booked","Demo Completed","Existing"];F.callStatus&&O.includes(F.callStatus)&&M.add(se);const U=["Interested","Details Shared","Demo Booked","Demo Completed"];F.callStatus&&U.includes(F.callStatus)&&B.add(se),F.callStatus==="Interested"&&A.add(se),F.callStatus==="Details Shared"&&Y.add(se),F.callStatus==="Demo Booked"&&V.add(se),F.callStatus==="Demo Completed"&&D.add(se),(F.callStatus==="Demo Completed"||F.callStatus==="Interested"&&F.conversationNotes&&F.conversationNotes.length>50||F.status==="SQL")&&z.add(se),F.status==="WON"&&E.add(se)}),j.callsAttempted=N.size,j.callsConnected=M.size,j.decisionMakerReached=B.size,j.interested=A.size,j.detailsShared=Y.size,j.demoBooked=V.size,j.demoCompleted=D.size,j.sql=z.size,j.won=E.size,console.log("Funnel data calculated:",j),console.log("Stage breakdown:",{callsAttempted:j.callsAttempted,callsConnected:j.callsConnected,decisionMakerReached:j.decisionMakerReached,interested:j.interested,detailsShared:j.detailsShared,demoBooked:j.demoBooked,demoCompleted:j.demoCompleted,sql:j.sql,won:j.won}),b(j)},v=[{key:"prospectData",label:"Prospect Data",description:"Total prospects from this project"},{key:"callsAttempted",label:"Calls Attempted",description:"Total calls made to prospects"},{key:"callsConnected",label:"Calls Connected",description:"Calls where contact answered"},{key:"decisionMakerReached",label:"Decision Maker Reached",description:"Reached decision maker"},{key:"interested",label:"Interested",description:"Prospects showing interest"},{key:"detailsShared",label:"Details Shared",description:"Product/service details shared"},{key:"demoBooked",label:"Demo Booked",description:"Demos scheduled"},{key:"demoCompleted",label:"Demo Completed",description:"Demos successfully completed"},{key:"sql",label:"SQL",description:"Sales Qualified Leads"},{key:"won",label:"WON",description:"Deals closed successfully"}];return k.useEffect(()=>{console.log("Funnel rows configured:",v.length,"stages"),console.log("Stage labels:",v.map(j=>j.label))},[]),m?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading funnel data..."})]})}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 lg:px-6 py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200 mb-6",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Prospect Management"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-emerald-500 to-emerald-700 rounded-full"}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Cold Calling Funnel - ",a?.companyName||"Project"]})]}),a?.website&&e.jsx("a",{href:a.website.startsWith("http")?a.website:`http://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:a.website})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-gray-50 border border-gray-200 rounded-lg shadow-lg p-4 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-3 text-center",children:[e.jsx("h2",{className:"text-base font-bold text-gray-800 mb-0.5",children:"Cold Calling Funnel Performance"}),e.jsx("p",{className:"text-[10px] text-gray-600",children:"Updated: 10-Stage Funnel  Conversion metrics and pipeline health"}),e.jsxs("div",{className:"mt-1 text-[9px] text-blue-600 font-semibold",children:["Stages: ",v.length," | Total Prospects: ",g.prospectData]}),g.prospectData===0&&e.jsx("p",{className:"text-xs text-amber-600 mt-2 font-medium",children:" No prospects found. Add contacts to see funnel data."})]}),e.jsx("div",{className:"flex flex-col items-center space-y-0.5",children:v.map((j,N)=>{const M=g[j.key]!==void 0?g[j.key]:0,B=g.prospectData||1,A=B>0?M/B*100:0;N===0&&console.log(`Rendering stage ${N}: ${j.label} = ${M} (key: ${j.key})`);const V=[96,88,80,72,64,56,48,40,32,24][N]||20;let D="",z="text-white",E="",F="",se="";N===0?(D="from-blue-600 via-blue-500 to-cyan-500",E="border-blue-400",F="shadow-blue-500/30",se="bg-blue-400/30"):N===1||N===2?(D="from-purple-600 via-purple-500 to-indigo-500",E="border-purple-400",F="shadow-purple-500/30",se="bg-purple-400/30"):N===3||N===4?(D="from-orange-600 via-orange-500 to-amber-500",E="border-orange-400",F="shadow-orange-500/30",se="bg-orange-400/30"):N===5||N===6?(D="from-yellow-600 via-yellow-500 to-amber-500",E="border-yellow-400",F="shadow-yellow-500/30",se="bg-yellow-400/30"):N===7||N===8?(D="from-emerald-600 via-emerald-500 to-teal-500",E="border-emerald-400",F="shadow-emerald-500/30",se="bg-emerald-400/30"):(D="from-amber-600 via-amber-500 to-yellow-500",E="border-amber-400",F="shadow-amber-500/30",se="bg-amber-400/30");const O=["","","","","","","","","",""];return e.jsxs("div",{className:"w-full flex flex-col items-center transition-all duration-700 ease-out",style:{animation:`fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) ${N*.08}s both`},children:[e.jsxs("div",{className:`relative bg-gradient-to-r ${D} ${E} border rounded-md shadow-md ${F} hover:shadow-lg transition-all duration-500 transform hover:scale-[1.01] hover:-translate-y-0.5 group overflow-hidden`,style:{width:`${V}%`,minWidth:"150px",backdropFilter:"blur(10px)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"})]}),e.jsxs("div",{className:"relative px-3 py-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`${se} backdrop-blur-sm rounded p-1 shadow-sm`,children:e.jsx("span",{className:"text-sm",children:O[N]||""})}),e.jsxs("div",{children:[e.jsx("span",{className:`${z} text-[10px] font-bold uppercase tracking-wide block leading-tight`,children:j.label}),e.jsx("span",{className:`${z} text-[9px] opacity-80 mt-0 block`,children:j.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`${z} text-lg font-extrabold mb-0 drop-shadow-lg`,children:M.toLocaleString()}),N>0&&B>0&&e.jsxs("div",{className:`${z} text-[9px] font-semibold bg-white/20 backdrop-blur-sm px-1.5 py-0.5 rounded-full border border-white/30`,children:[A.toFixed(1),"%"]})]})]}),N>0&&e.jsx("div",{className:"mt-1 h-0.5 bg-white/20 backdrop-blur-sm rounded-full overflow-hidden border border-white/20",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-white/80 to-white rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${Math.min(A,100)}%`,animation:`progressFill 1.5s ease-out ${N*.1+.5}s both`}})})]}),e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),N<v.length-1&&e.jsxs("div",{className:"relative my-0.5",children:[e.jsx("div",{className:"w-0.5 h-2 bg-gradient-to-b from-gray-400 via-gray-500 to-gray-400 rounded-full shadow-inner mx-auto"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-gray-500 rounded-full shadow-sm"})]})]},j.key)})},`funnel-${v.length}`)]}),e.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes progressFill {
            from {
              width: 0%;
            }
          }
          
          .shadow-3xl {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
          }
        `}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-600 via-blue-500 to-cyan-500 rounded-xl p-4 shadow-xl hover:shadow-blue-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"Total Prospects"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsx("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:g.prospectData.toLocaleString()}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Pipeline foundation"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 rounded-xl p-4 shadow-xl hover:shadow-emerald-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"Conversion Rate"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:[g.prospectData>0?(g.demoCompleted/g.prospectData*100).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Demos completed"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-teal-600 via-teal-500 to-cyan-500 rounded-xl p-4 shadow-xl hover:shadow-teal-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"SQL Rate"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:[g.prospectData>0?(g.sql/g.prospectData*100).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Sales qualified leads"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]})]})]})})}function oS(){const{id:n}=Xs(),t=mt(),[a,r]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState([]),[m,f]=k.useState(!0),[g,b]=k.useState({prospectData:0,emailSent:0,accepted:0,followups:0,cip:0,meetingProposed:0,scheduled:0,completed:0,sql:0});k.useEffect(()=>{n&&w()},[n]),k.useEffect(()=>{(l.length>0||d.length>0)&&y()},[l,d]);const w=async()=>{try{f(!0);const j=await Ae.get(`/projects/${n}`);j.data.success&&r(j.data.data);const N=await Ae.get(`/projects/${n}/project-contacts`);N.data.success&&c(N.data.data||[]);const M=await Ae.get(`/activities/project/${n}?limit=10000`);if(M.data.success){const A=(M.data.data||[]).filter(Y=>Y.type==="email");h(A)}}catch(j){console.error("Error fetching data:",j)}finally{f(!1)}},y=()=>{const j={prospectData:l.length,emailSent:0,accepted:0,followups:0,cip:0,meetingProposed:0,scheduled:0,completed:0,sql:0},N={};d.forEach(E=>{if(!E.contactId)return;const F=E.contactId.toString();N[F]||(N[F]=[]),N[F].push(E)});const M=new Set,B=new Set,A=new Set,Y=new Set,V=new Set,D=new Set,z=new Set;d.forEach(E=>{const F=E.contactId?.toString();F&&(E.emailDate&&M.add(F),(E.status==="Interested"||E.status==="Meeting Proposed"||E.status==="Meeting Scheduled")&&B.add(F),(E.status==="Interested"||E.status==="Out of Office")&&A.add(F),E.status==="Meeting Proposed"&&Y.add(F),(E.status==="Meeting Scheduled"||E.nextActionDate)&&V.add(F),E.status==="Meeting Completed"&&D.add(F),(E.status==="Meeting Completed"||E.status==="Interested"&&E.conversationNotes&&E.conversationNotes.length>50)&&z.add(F))}),Object.keys(N).forEach(E=>{const F=N[E];(F.filter(O=>O.conversationNotes&&O.conversationNotes.trim()!=="").length>1||F.length>1)&&j.followups++}),j.emailSent=M.size,j.accepted=B.size,j.cip=A.size,j.meetingProposed=Y.size,j.scheduled=V.size,j.completed=D.size,j.sql=z.size,b(j)},v=[{key:"prospectData",label:"Prospect Data",description:"Total prospects from this project"},{key:"emailSent",label:"Email Sent",description:"Emails sent to prospects"},{key:"accepted",label:"Accepted",description:"Emails accepted/responded"},{key:"followups",label:"Followups",description:"Contacts with multiple emails"},{key:"cip",label:"CIP",description:"Conversations in Progress"},{key:"meetingProposed",label:"Meeting Proposed",description:"Meetings proposed"},{key:"scheduled",label:"Scheduled",description:"Meetings scheduled"},{key:"completed",label:"Completed",description:"Meetings completed"},{key:"sql",label:"SQL",description:"Sales Qualified Leads"}];return m?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading funnel data..."})]})}):e.jsx("div",{className:"min-h-screen bg-white",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 lg:px-6 py-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>t(`/projects/${n}`),className:"inline-flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-gray-700 transition-colors duration-200 mb-6",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Prospect Management"]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-1 h-6 bg-gradient-to-b from-blue-500 to-blue-700 rounded-full"}),e.jsxs("h1",{className:"text-xl font-semibold text-gray-900",children:["Email Funnel - ",a?.companyName||"Project"]})]}),a?.website&&e.jsx("a",{href:a.website.startsWith("http")?a.website:`http://${a.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:a.website})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 via-white to-gray-50 border border-gray-200 rounded-lg shadow-lg p-4 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-3 text-center",children:[e.jsx("h2",{className:"text-base font-bold text-gray-800 mb-0.5",children:"Sales Funnel Performance"}),e.jsx("p",{className:"text-[10px] text-gray-600",children:"Conversion metrics and pipeline health"})]}),e.jsx("div",{className:"flex flex-col items-center space-y-0.5",children:v.map((j,N)=>{const M=g[j.key]||0,B=g.prospectData||1,A=B>0?M/B*100:0,V=[96,88,78,68,58,48,38,28,20][N]||15;let D="",z="text-white",E="",F="",se="";N===0?(D="from-blue-600 via-blue-500 to-cyan-500",E="border-blue-400",F="shadow-blue-500/30",se="bg-blue-400/30"):N>=5?(D="from-cyan-600 via-cyan-500 to-teal-500",E="border-cyan-400",F="shadow-cyan-500/30",se="bg-cyan-400/30"):(D="from-slate-600 via-slate-500 to-gray-500",E="border-slate-400",F="shadow-slate-500/30",se="bg-slate-400/30");const O=["","","","","","","","",""];return e.jsxs("div",{className:"w-full flex flex-col items-center transition-all duration-700 ease-out",style:{animation:`fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) ${N*.08}s both`},children:[e.jsxs("div",{className:`relative bg-gradient-to-r ${D} ${E} border rounded-md shadow-md ${F} hover:shadow-lg transition-all duration-500 transform hover:scale-[1.01] hover:-translate-y-0.5 group overflow-hidden`,style:{width:`${V}%`,minWidth:"150px",backdropFilter:"blur(10px)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.1),transparent_50%)]"})]}),e.jsxs("div",{className:"relative px-3 py-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`${se} backdrop-blur-sm rounded p-1 shadow-sm`,children:e.jsx("span",{className:"text-sm",children:O[N]})}),e.jsxs("div",{children:[e.jsx("span",{className:`${z} text-[10px] font-bold uppercase tracking-wide block leading-tight`,children:j.label}),e.jsx("span",{className:`${z} text-[9px] opacity-80 mt-0 block`,children:j.description})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`${z} text-lg font-extrabold mb-0 drop-shadow-lg`,children:M.toLocaleString()}),N>0&&B>0&&e.jsxs("div",{className:`${z} text-[9px] font-semibold bg-white/20 backdrop-blur-sm px-1.5 py-0.5 rounded-full border border-white/30`,children:[A.toFixed(1),"%"]})]})]}),N>0&&e.jsx("div",{className:"mt-1 h-0.5 bg-white/20 backdrop-blur-sm rounded-full overflow-hidden border border-white/20",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-white/80 to-white rounded-full transition-all duration-1000 ease-out shadow-sm",style:{width:`${Math.min(A,100)}%`,animation:`progressFill 1.5s ease-out ${N*.1+.5}s both`}})})]}),e.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),N<v.length-1&&e.jsxs("div",{className:"relative my-0.5",children:[e.jsx("div",{className:"w-0.5 h-2 bg-gradient-to-b from-gray-400 via-gray-500 to-gray-400 rounded-full shadow-inner mx-auto"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-1 bg-gray-500 rounded-full shadow-sm"})]})]},j.key)})})]}),e.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(30px) scale(0.95);
            }
            to {
              opacity: 1;
              transform: translateY(0) scale(1);
            }
          }
          
          @keyframes progressFill {
            from {
              width: 0%;
            }
          }
          
          .shadow-3xl {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.4);
          }
        `}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"group relative bg-gradient-to-br from-blue-600 via-blue-500 to-cyan-500 rounded-xl p-4 shadow-xl hover:shadow-blue-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"Total Prospects"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsx("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:g.prospectData.toLocaleString()}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Pipeline foundation"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 rounded-xl p-4 shadow-xl hover:shadow-emerald-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"Conversion Rate"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:[g.prospectData>0?(g.completed/g.prospectData*100).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Meetings completed"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]}),e.jsxs("div",{className:"group relative bg-gradient-to-br from-cyan-600 via-cyan-500 to-teal-500 rounded-xl p-4 shadow-xl hover:shadow-cyan-500/30 transition-all duration-500 transform hover:scale-105 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent opacity-50"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs font-semibold text-white/90 uppercase tracking-wider",children:"SQL Rate"}),e.jsx("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-base",children:""})})]}),e.jsxs("div",{className:"text-3xl font-extrabold text-white mb-0.5 drop-shadow-lg",children:[g.prospectData>0?(g.sql/g.prospectData*100).toFixed(1):0,"%"]}),e.jsx("div",{className:"text-[10px] text-white/80 font-medium",children:"Sales qualified leads"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white/30"})]})]})]})})}const vt=({children:n})=>localStorage.getItem("token")?n:e.jsx(qc,{to:"/login",replace:!0}),cS=()=>localStorage.getItem("token")?e.jsx(qc,{to:"/dashboard",replace:!0}):e.jsx(qc,{to:"/login",replace:!0});function dS(){return e.jsx(Fj,{children:e.jsxs(pj,{children:[e.jsx(ut,{path:"/",element:e.jsx(cS,{})}),e.jsx(ut,{path:"/login",element:e.jsx(D4,{})}),e.jsx(ut,{path:"/reset-password",element:e.jsx(_4,{})}),e.jsxs(ut,{element:e.jsx(Jj,{}),children:[e.jsx(ut,{path:"/dashboard",element:e.jsx(vt,{children:e.jsx(y6,{})})}),e.jsx(ut,{path:"/master-dashboard",element:e.jsx(vt,{children:e.jsx(U6,{})})}),e.jsx(ut,{path:"/employee-performance",element:e.jsx(vt,{children:e.jsx(F6,{})})}),e.jsx(ut,{path:"/contacts",element:e.jsx(vt,{children:e.jsx(j6,{})})}),e.jsx(ut,{path:"/contacts/company/:companyName",element:e.jsx(vt,{children:e.jsx(k6,{})})}),e.jsx(ut,{path:"/contacts/:id/activities",element:e.jsx(vt,{children:e.jsx(N6,{})})}),e.jsx(ut,{path:"/contacts/:id",element:e.jsx(vt,{children:e.jsx(w6,{})})}),e.jsx(ut,{path:"/contacts/new",element:e.jsx(vt,{children:e.jsx(C6,{})})}),e.jsx(ut,{path:"/import",element:e.jsx(vt,{children:e.jsx(S6,{})})}),e.jsx(ut,{path:"/projects",element:e.jsx(vt,{children:e.jsx(M6,{})})}),e.jsx(ut,{path:"/projects/dashboard",element:e.jsx(vt,{children:e.jsx(O6,{})})}),e.jsx(ut,{path:"/prospects/dashboard",element:e.jsx(vt,{children:e.jsx(I6,{})})}),e.jsx(ut,{path:"/projects/new",element:e.jsx(vt,{children:e.jsx(ub,{})})}),e.jsx(ut,{path:"/projects/:id/edit",element:e.jsx(vt,{children:e.jsx(ub,{})})}),e.jsx(ut,{path:"/projects/:id",element:e.jsx(vt,{children:e.jsx(_6,{})})}),e.jsx(ut,{path:"/projects/:id/funnel",element:e.jsx(vt,{children:e.jsx(V6,{})})}),e.jsx(ut,{path:"/projects/:id/linkedin-funnel",element:e.jsx(vt,{children:e.jsx(sS,{})})}),e.jsx(ut,{path:"/projects/:id/cold-calling-funnel",element:e.jsx(vt,{children:e.jsx(nS,{})})}),e.jsx(ut,{path:"/projects/:id/email-funnel",element:e.jsx(vt,{children:e.jsx(aS,{})})}),e.jsx(ut,{path:"/funnel",element:e.jsx(vt,{children:e.jsx(iS,{})})}),e.jsx(ut,{path:"/funnel/:id/linkedin",element:e.jsx(vt,{children:e.jsx(rS,{})})}),e.jsx(ut,{path:"/funnel/:id/cold-calling",element:e.jsx(vt,{children:e.jsx(lS,{})})}),e.jsx(ut,{path:"/funnel/:id/email",element:e.jsx(vt,{children:e.jsx(oS,{})})})]})]})})}pv.createRoot(document.getElementById("root")).render(e.jsx(td.StrictMode,{children:e.jsx(dS,{})}));
